{"version":3,"sources":["webpack:///./src/components/ha-paper-slider.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-behavior.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js","webpack:///./node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js","webpack:///./src/util/hass-attributes-util.js","webpack:///./src/mixins/dialog-mixin.js","webpack:///./src/dialogs/more-info/controls/more-info-alarm_control_panel.js","webpack:///./src/dialogs/more-info/controls/more-info-automation.js","webpack:///./src/dialogs/more-info/controls/more-info-camera.js","webpack:///./src/common/empty_image_base64.js","webpack:///./src/components/ha-climate-control.js","webpack:///./src/common/entity/feature_class_names.js","webpack:///./src/dialogs/more-info/controls/more-info-climate.js","webpack:///./src/dialogs/more-info/controls/more-info-configurator.js","webpack:///./src/components/ha-labeled-slider.js","webpack:///./src/dialogs/more-info/controls/more-info-cover.js","webpack:///./src/components/ha-attributes.js","webpack:///./src/dialogs/more-info/controls/more-info-default.js","webpack:///./src/dialogs/more-info/controls/more-info-fan.js","webpack:///./src/dialogs/more-info/controls/more-info-group.js","webpack:///./src/dialogs/more-info/controls/more-info-history_graph.js","webpack:///./src/components/paper-time-input.js","webpack:///./src/dialogs/more-info/controls/more-info-input_datetime.js","webpack:///./src/components/ha-color-picker.js","webpack:///./src/dialogs/more-info/controls/more-info-light.js","webpack:///./src/dialogs/more-info/controls/more-info-lock.js","webpack:///./src/dialogs/more-info/controls/more-info-media_player.js","webpack:///./src/dialogs/more-info/controls/more-info-script.js","webpack:///./src/dialogs/more-info/controls/more-info-sun.js","webpack:///./src/dialogs/more-info/controls/more-info-updater.js","webpack:///./src/dialogs/more-info/controls/more-info-vacuum.js","webpack:///./src/dialogs/more-info/controls/more-info-weather.js","webpack:///./src/dialogs/more-info/controls/more-info-content.js","webpack:///./src/dialogs/more-info/more-info-controls.js","webpack:///./src/dialogs/more-info/more-info-settings.js","webpack:///./src/dialogs/ha-more-info-dialog.js"],"names":["PaperSliderClass","customElements","get","HaPaperSlider","tpl","document","createElement","innerHTML","template","styleEl","content","querySelector","setAttribute","define","_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__","__webpack_require__","PaperDialogBehaviorImpl","hostAttributes","role","tabindex","properties","modal","type","Boolean","value","__readied","observers","listeners","tap","ready","this","__prevNoCancelOnOutsideClick","noCancelOnOutsideClick","__prevNoCancelOnEscKey","noCancelOnEscKey","__prevWithBackdrop","withBackdrop","_modalChanged","readied","_updateClosingReasonConfirmed","confirmed","closingReason","_onDialogClick","event","path","Object","b","i","l","indexOf","target","hasAttribute","close","stopPropagation","PaperDialogBehavior","_polymer_iron_overlay_behavior_iron_overlay_behavior_js__WEBPACK_IMPORTED_MODULE_1__","a","$_documentContainer","head","appendChild","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__","_template","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__","_templateObject","is","dialogElement","scrollTarget","$","scrollable","_ensureTarget","classList","add","attached","requestAnimationFrame","updateScrollState","bind","toggleClass","scrollTop","offsetHeight","scrollHeight","parentElement","behaviors","_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_2__","sizingTarget","remove","196","module","__webpack_exports__","hassAttributeUtil","binary_sensor","cover","sensor","string","json","icon","boolean","array","key-value","LOGIC_STATE_ATTRIBUTES","entity_picture","friendly_name","description","emulated_hue","domains","emulated_hue_name","haaska_hidden","haaska_name","homebridge_hidden","homebridge_name","supported_features","attribution","custom_ui_more_info","custom_ui_state_card","device_class","options","DOMAIN_DEVICE_CLASS","hidden","assumed_state","initial_state","unit_of_measurement","202","_polymer_polymer_lib_utils_mixin_js__WEBPACK_IMPORTED_MODULE_0__","_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_1__","_polymer_polymer_lib_legacy_class_js__WEBPACK_IMPORTED_MODULE_2__","_events_mixin__WEBPACK_IMPORTED_MODULE_3__","_createClass","defineProperties","props","length","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","prototype","superClass","_mixinBehaviors","_class","instance","TypeError","__proto__","getPrototypeOf","apply","arguments","subClass","create","constructor","setPrototypeOf","286","r","strings","raw","html_tag","polymer_element","events_mixin","localize_mixin","freeze","more_info_alarm_control_panel_MoreInfoAlarmControlPanel","MoreInfoAlarmControlPanel","_this","call","_armedStates","hass","stateObj","observer","_enteredCode","String","_codeFormat","_codeValid","computed","_disarmVisible","_armVisible","_inputEnabled","newVal","oldVal","_this2","state","attributes","code_format","includes","setProperties","setTimeout","fire","format","code","ev","getAttribute","_this3","service","data","entity_id","callService","then","more_info_automation_MoreInfoAutomation","more_info_automation_createClass","MoreInfoAutomation","more_info_automation_templateObject","more_info_camera_MoreInfoCamera","more_info_camera_createClass","MoreInfoCamera","_get","isVisible","compute_state_name","demo","access_token","more_info_camera_templateObject","ha_climate_control_HaClimateControl","ha_climate_control_createClass","HaClimateControl","inFlux","target_temperature","toggle","newval","step","max","last_changed","Date","now","temperatureStateInFlux","min","window","ha_climate_control_templateObject","Number","units","featureClassNames","classNames","features","keys","map","feature","filter","attr","join","more_info_climate_createClass","more_info_climate_templateObject","more_info_climate_MoreInfoClimate","MoreInfoClimate","awayToggleChecked","away_mode","auxToggleChecked","aux_heat","onToggleChecked","_debouncer","debounce","utils_async","timeOut","after","operationIndex","operation_list","operation_mode","swingIndex","swing_list","swing_mode","fanIndex","fan_list","fan_mode","target_temp_step","supportsTemperature","supportsTemperatureRange","temperature","target_temp_low","target_temp_high","classes","attribute_class_names","1","2","4","8","16","32","64","128","256","512","1024","2048","4096","push","callServiceHelper","targetTempLow","currentTarget","targetTempHigh","humidity","checked","fanInput","operationInput","swingInput","stateObjChanged","more_info_configurator_MoreInfoConfigurator","more_info_configurator_createClass","MoreInfoConfigurator","el","fieldInput","name","configure_id","fields","isConfiguring","more_info_configurator_templateObject","action","isConfigurable","ha_labeled_slider_HaLabeledSlider","ha_labeled_slider_createClass","HaLabeledSlider","ha_labeled_slider_templateObject","caption","disabled","pin","extra","ignoreBarTouch","notify","FEATURE_CLASS_NAMES","more_info_cover_MoreInfoCover","more_info_cover_createClass","MoreInfoCover","cover_model","coverPositionSliderValue","current_position","coverTiltPositionSliderValue","current_tilt_position","entityObj","setCoverPosition","setCoverTiltPosition","more_info_cover_templateObject","ha_attributes_HaAttributes","ha_attributes_createClass","HaAttributes","extraFilters","hass_attributes_util","concat","split","filtersArray","attribute","replace","Array","isArray","JSON","stringify","ha_attributes_templateObject","more_info_default_MoreInfoDefault","more_info_default_createClass","MoreInfoDefault","more_info_default_templateObject","more_info_fan_MoreInfoFan","more_info_fan_createClass","MoreInfoFan","oscillationToggleChecked","oscillating","speedIndex","speed_list","speed","speedInput","direction","more_info_fan_templateObject","more_info_group_MoreInfoGroup","more_info_group_createClass","MoreInfoGroup","states","entIds","groupDomainStateObj","baseStateObj","find","s","groupDomain","compute_state_domain","assign","dynamic_content_updater","groupedControlDetails","state_more_info_type","toUpperCase","polymer_dom","lastChild","removeChild","more_info_group_templateObject","more_info_history_graph_MoreInfoHistoryGraph","more_info_history_graph_createClass","MoreInfoHistoryGraph","more_info_history_graph_templateObject","paper_time_input_PaperTimeInput","paper_time_input_createClass","PaperTimeInput","valid","hour","validate","dropdown","amPm","toString","n1","n2","paper_time_input_templateObject","label","autoValidate","hideLabel","readOnly","more_info_input_datetime_DatetimeInput","DatetimeInput","is_ready","more_info_input_datetime_createClass","more_info_input_datetime_templateObject","monthFiller","month","dayFiller","day","year","changed","minuteFiller","serviceData","has_time","parseInt","selectedMinute","minute","selectedHour","timeStr","time","has_date","selectedDate","dateValInput","date","getDateString","ha_color_picker_HaColorPicker","ha_color_picker_createClass","HaColorPicker","setupLayers","drawColorWheel","drawMarker","interactionLayer","addEventListener","onMouseDown","onTouchStart","clientX","clientY","svgPoint","createSVGPoint","x","y","cc","matrixTransform","getScreenCTM","inverse","convertToCanvasCoordinates","isInWheel","onMouseSelect","canvas","onMouseUp","removeEventListener","processUserSelect","_this4","touch","changedTouches","marker","preventDefault","onTouchSelect","onTouchEnd","tapBecameScroll","onTap","passive","_this5","canvasXY","hs","getColor","onColorSelect","_this6","setMarkerOnColor","ignoreSegments","applySegmentFilter","applyColorToCanvas","colorSelectIsThrottled","clearTimeout","ensureFinalSelect","fireColorSelected","throttle","hsColor","h","dist","radius","theta","Math","PI","translateString","cos","sin","tooltip","style","color","dX","dY","atan2","getDistance","sqrt","hue","getAngle","relativeDistance","hueSegments","angleStep","halfAngleStep","rest","saturationSegments","segmentSize","saturationStep","calculatedSat","floor","backgroundLayer","originX","width","originY","height","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","context","getContext","cX","cY","wheelStyle","getComputedStyle","borderWidth","getPropertyValue","borderColor","trim","wheelShadow","values","pop","borderRadius","wheelRadius","shadowRadius","shadow","save","beginPath","arc","fillStyle","fill","restore","angle","startAngle","endAngle","moveTo","counterClockwise","closePath","gradient","createRadialGradient","lightness","addColorStop","ratioStep","ratio","stop","prevLighness","lineWidth","strokeStyle","stroke","svgElement","markerradius","tooltipradius","TooltipOffsetY","createElementNS","ha_color_picker_templateObject","desiredHsColor","more_info_light_FEATURE_CLASS_NAMES","more_info_light_MoreInfoLight","more_info_light_createClass","MoreInfoLight","brightnessSliderValue","brightness","ctSliderValue","color_temp","wvSliderValue","white_value","hs_color","colorPickerColor","effect_list","effectIndex","effect","effectInput","bri","isNaN","ct","wv","entityId","serviceChangeColor","detail","more_info_light_templateObject","more_info_lock_MoreInfoLock","more_info_lock_createClass","MoreInfoLock","isLocked","enteredCode","more_info_lock_templateObject","more_info_media_player_MoreInfoMediaPlayer","more_info_media_player_createClass","MoreInfoMediaPlayer","hass_media_player_model","sourceList","sourceIndex","source","playerObj","isMuted","supportsVolumeButtons","isOff","hasMediaControl","isPlaying","supportsPause","supportsPlay","supportsTurnOn","supportsTurnOff","supportsSelectSource","ttsLoaded","supportsPlayMedia","is_component_loaded","togglePower","previousTrack","mediaPlayPause","nextTrack","sourceIndexOld","sourceInput","selectSource","supportsVolumeMute","volumeMute","obj","volumeUp","handleVolumeWorker","volumeDown","force","pointerDown","volPercentage","parseFloat","volume","setVolume","keyCode","sendTTS","services","config","tts","serviceKeys","sort","message","ttsMessage","ttsInput","focus","more_info_media_player_templateObject","more_info_script_MoreInfoScript","more_info_script_createClass","MoreInfoScript","more_info_script_templateObject","more_info_sun_MoreInfoSun","more_info_sun_createClass","MoreInfoSun","next_rising","next_setting","risingDate","settingDate","format_time","itemDate","more_info_sun_templateObject","more_info_updater_MoreInfoUpdater","more_info_updater_createClass","MoreInfoUpdater","release_notes","more_info_updater_templateObject","more_info_vacuum_MoreInfoVacuum","more_info_vacuum_createClass","MoreInfoVacuum","fanSpeedIndex","fanSpeedInput","fan_speed_list","fan_speed","more_info_vacuum_templateObject","inDialog","more_info_weather_MoreInfoWeather","MoreInfoWeather","cardinalDirections","weatherIcons","clear-night","cloudy","fog","hail","lightning","lightning-rainy","partlycloudy","pouring","rainy","snowy","snowy-rainy","sunny","windy","windy-variant","more_info_weather_createClass","more_info_weather_templateObject","provider","getDay","toLocaleTimeString","selectedLanguage","language","toLocaleDateString","weekday","unit","core","unit_system","degree","degreenum","isFinite","bearing","localize","cardinalDirection","windBearingToText","getUnit","toLowerCase","condition","more_info_content_MoreInfoContent","MoreInfoContent","display","more_info_content_createClass","moreInfoType","_detachedChild","DOMAINS_NO_INFO","more_info_controls_MoreInfoControls","more_info_controls_createClass","MoreInfoControls","large","common_const","c","_cacheConfig","cacheKey","page","more_info_controls_templateObject","canConfigure","domain","reflectToAttribute","_stateHistory","_stateHistoryLoading","refresh","hoursToShow","more_info_settings_MoreInfoSettings","more_info_settings_createClass","MoreInfoSettings","_name","callApi","info","registryInfo","alert","more_info_settings_templateObject","_componentLoaded","ha_more_info_dialog_HaMoreInfoDialog","dialog_mixin","ha_more_info_dialog_createClass","HaMoreInfoDialog","_dialogElement","_page","moreInfoEntityId","_registryInfo","opened","notifyResize","ha_more_info_dialog_templateObject","dataDomain"],"mappings":"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","file":"792f0ee072c2b642b695.chunk.js","sourcesContent":["import '@polymer/paper-slider/paper-slider.js';\n\n/**\n* @polymer\n* @customElement\n* @appliesMixin paper-slider\n*/\nconst PaperSliderClass = customElements.get('paper-slider');\n\nclass HaPaperSlider extends PaperSliderClass {\n  static get template() {\n    const tpl = document.createElement('template');\n    tpl.innerHTML = PaperSliderClass.template.innerHTML;\n    const styleEl = tpl.content.querySelector('style');\n    styleEl.setAttribute('include', 'paper-slider');\n    styleEl.innerHTML = `\n      .pin > .slider-knob > .slider-knob-inner {\n        font-size:  var(--ha-paper-slider-pin-font-size, 10px);\n        line-height: normal;\n      }\n\n      .pin > .slider-knob > .slider-knob-inner::before {\n        top: unset;\n        margin-left: unset;\n\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n        left: 50%;\n        width: 2.2em;\n        height: 2.2em;\n\n        -webkit-transform-origin: left bottom;\n        transform-origin: left bottom;\n        -webkit-transform: rotate(-45deg) scale(0) translate(0);\n        transform: rotate(-45deg) scale(0) translate(0);\n      }\n\n      .pin.expand > .slider-knob > .slider-knob-inner::before {\n        -webkit-transform: rotate(-45deg) scale(1) translate(7px, -7px);\n        transform: rotate(-45deg) scale(1) translate(7px, -7px);\n      }\n\n      .pin > .slider-knob > .slider-knob-inner::after {\n        top: unset;\n        font-size: unset;\n\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n        left: 50%;\n        margin-left: -1.1em;\n        width: 2.2em;\n        height: 2.1em;\n\n        -webkit-transform-origin: center bottom;\n        transform-origin: center bottom;\n        -webkit-transform: scale(0) translate(0);\n        transform: scale(0) translate(0);\n      }\n\n      .pin.expand > .slider-knob > .slider-knob-inner::after {\n        -webkit-transform: scale(1) translate(0, -10px);\n        transform: scale(1) translate(0, -10px);\n      }\n    `;\n    return tpl;\n  }\n}\ncustomElements.define('ha-paper-slider', HaPaperSlider);\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { IronOverlayBehavior } from '@polymer/iron-overlay-behavior/iron-overlay-behavior.js';\nimport { dom } from '@polymer/polymer/lib/legacy/polymer.dom.js';\n\n/**\n  Use `Polymer.PaperDialogBehavior` and `paper-dialog-shared-styles.html` to\n  implement a Material Design dialog.\n\n  For example, if `<paper-dialog-impl>` implements this behavior:\n\n      <paper-dialog-impl>\n          <h2>Header</h2>\n          <div>Dialog body</div>\n          <div class=\"buttons\">\n              <paper-button dialog-dismiss>Cancel</paper-button>\n              <paper-button dialog-confirm>Accept</paper-button>\n          </div>\n      </paper-dialog-impl>\n\n  `paper-dialog-shared-styles.html` provide styles for a header, content area, and\n  an action area for buttons. Use the `<h2>` tag for the header and the `buttons`\n  class for the action area. You can use the `paper-dialog-scrollable` element (in\n  its own repository) if you need a scrolling content area.\n\n  Use the `dialog-dismiss` and `dialog-confirm` attributes on interactive controls\n  to close the dialog. If the user dismisses the dialog with `dialog-confirm`, the\n  `closingReason` will update to include `confirmed: true`.\n\n  ### Accessibility\n\n  This element has `role=\"dialog\"` by default. Depending on the context, it may be\n  more appropriate to override this attribute with `role=\"alertdialog\"`.\n\n  If `modal` is set, the element will prevent the focus from exiting the element.\n  It will also ensure that focus remains in the dialog.\n\n  @hero hero.svg\n  @demo demo/index.html\n  @polymerBehavior Polymer.PaperDialogBehavior\n */\nexport const PaperDialogBehaviorImpl = {\n\n  hostAttributes: {'role': 'dialog', 'tabindex': '-1'},\n\n  properties: {\n\n    /**\n     * If `modal` is true, this implies `no-cancel-on-outside-click`,\n     * `no-cancel-on-esc-key` and `with-backdrop`.\n     */\n    modal: {type: Boolean, value: false},\n\n    __readied: {type: Boolean, value: false}\n\n  },\n\n  observers: ['_modalChanged(modal, __readied)'],\n\n  listeners: {'tap': '_onDialogClick'},\n\n  /**\n   * @return {void}\n   */\n  ready: function() {\n    // Only now these properties can be read.\n    this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n    this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n    this.__prevWithBackdrop = this.withBackdrop;\n    this.__readied = true;\n  },\n\n  _modalChanged: function(modal, readied) {\n    // modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.\n    // We need to wait for the element to be ready before we can read the\n    // properties values.\n    if (!readied) {\n      return;\n    }\n\n    if (modal) {\n      this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n      this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n      this.__prevWithBackdrop = this.withBackdrop;\n      this.noCancelOnOutsideClick = true;\n      this.noCancelOnEscKey = true;\n      this.withBackdrop = true;\n    } else {\n      // If the value was changed to false, let it false.\n      this.noCancelOnOutsideClick =\n          this.noCancelOnOutsideClick && this.__prevNoCancelOnOutsideClick;\n      this.noCancelOnEscKey =\n          this.noCancelOnEscKey && this.__prevNoCancelOnEscKey;\n      this.withBackdrop = this.withBackdrop && this.__prevWithBackdrop;\n    }\n  },\n\n  _updateClosingReasonConfirmed: function(confirmed) {\n    this.closingReason = this.closingReason || {};\n    this.closingReason.confirmed = confirmed;\n  },\n\n  /**\n   * Will dismiss the dialog if user clicked on an element with dialog-dismiss\n   * or dialog-confirm attribute.\n   */\n  _onDialogClick: function(event) {\n    // Search for the element with dialog-confirm or dialog-dismiss,\n    // from the root target until this (excluded).\n    var path = dom(event).path;\n    for (var i = 0, l = path.indexOf(this); i < l; i++) {\n      var target = path[i];\n      if (target.hasAttribute &&\n          (target.hasAttribute('dialog-dismiss') ||\n           target.hasAttribute('dialog-confirm'))) {\n        this._updateClosingReasonConfirmed(\n            target.hasAttribute('dialog-confirm'));\n        this.close();\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n\n};\n\n/** @polymerBehavior */\nexport const PaperDialogBehavior = [IronOverlayBehavior, PaperDialogBehaviorImpl];\n","import '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport '@polymer/paper-styles/shadow.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-dialog-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was \\`:host > ::content h2\\`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\n### Styling\n\nThe following custom properties and mixins are available for styling.\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-background-color` | Dialog background color                     | `--primary-background-color`\n`--paper-dialog-color`            | Dialog foreground color                     | `--primary-text-color`\n`--paper-dialog`                  | Mixin applied to the dialog                 | `{}`\n`--paper-dialog-title`            | Mixin applied to the title (`<h2>`) element | `{}`\n`--paper-dialog-button-color`     | Button area foreground color                | `--default-primary-color`\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n;\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\nMaterial design: [Dialogs](https://www.google.com/design/spec/components/dialogs.html)\n\n`paper-dialog-scrollable` implements a scrolling area used in a Material Design dialog. It shows\na divider at the top and/or bottom indicating more content, depending on scroll position. Use this\ntogether with elements implementing `Polymer.PaperDialogBehavior`.\n\n    <paper-dialog-impl>\n      <h2>Header</h2>\n      <paper-dialog-scrollable>\n        Lorem ipsum...\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button>OK</paper-button>\n      </div>\n    </paper-dialog-impl>\n\nIt shows a top divider after scrolling if it is not the first child in its parent container,\nindicating there is more content above. It shows a bottom divider if it is scrollable and it is not\nthe last child in its parent container, indicating there is more content below. The bottom divider\nis hidden if it is scrolled to the bottom.\n\nIf `paper-dialog-scrollable` is not a direct child of the element implementing `Polymer.PaperDialogBehavior`,\nremember to set the `dialogElement`:\n\n    <paper-dialog-impl id=\"myDialog\">\n      <h2>Header</h2>\n      <div class=\"my-content-wrapper\">\n        <h4>Sub-header</h4>\n        <paper-dialog-scrollable>\n          Lorem ipsum...\n        </paper-dialog-scrollable>\n      </div>\n      <div class=\"buttons\">\n        <paper-button>OK</paper-button>\n      </div>\n    </paper-dialog-impl>\n\n    <script>\n      var scrollable = Polymer.dom(myDialog).querySelector('paper-dialog-scrollable');\n      scrollable.dialogElement = myDialog;\n    </script>\n\n### Styling\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-scrollable` | Mixin for the scrollable content | {}\n\n@group Paper Elements\n@element paper-dialog-scrollable\n@demo demo/index.html\n@hero hero.svg\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport { PaperDialogBehaviorImpl } from '@polymer/paper-dialog-behavior/paper-dialog-behavior.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style>\n\n      :host {\n        display: block;\n        @apply --layout-relative;\n      }\n\n      :host(.is-scrolled:not(:first-child))::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      .scrollable {\n        padding: 0 24px;\n\n        @apply --layout-scroll;\n        @apply --paper-dialog-scrollable;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n    </style>\n\n    <div id=\"scrollable\" class=\"scrollable\" on-scroll=\"updateScrollState\">\n      <slot></slot>\n    </div>\n`,\n\n  is: 'paper-dialog-scrollable',\n\n  properties: {\n\n    /**\n     * The dialog element that implements `Polymer.PaperDialogBehavior`\n     * containing this element.\n     * @type {?Node}\n     */\n    dialogElement: {type: Object}\n\n  },\n\n  /**\n   * Returns the scrolling element.\n   */\n  get scrollTarget() {\n    return this.$.scrollable;\n  },\n\n  ready: function() {\n    this._ensureTarget();\n    this.classList.add('no-padding');\n  },\n\n  attached: function() {\n    this._ensureTarget();\n    requestAnimationFrame(this.updateScrollState.bind(this));\n  },\n\n  updateScrollState: function() {\n    this.toggleClass('is-scrolled', this.scrollTarget.scrollTop > 0);\n    this.toggleClass(\n        'can-scroll',\n        this.scrollTarget.offsetHeight < this.scrollTarget.scrollHeight);\n    this.toggleClass(\n        'scrolled-to-bottom',\n        this.scrollTarget.scrollTop + this.scrollTarget.offsetHeight >=\n            this.scrollTarget.scrollHeight);\n  },\n\n  _ensureTarget: function() {\n    // Read parentElement instead of parentNode in order to skip shadowRoots.\n    this.dialogElement = this.dialogElement || this.parentElement;\n    // Check if dialog implements paper-dialog-behavior. If not, fit\n    // scrollTarget to host.\n    if (this.dialogElement && this.dialogElement.behaviors &&\n        this.dialogElement.behaviors.indexOf(PaperDialogBehaviorImpl) >=\n            0) {\n      this.dialogElement.sizingTarget = this.scrollTarget;\n      this.scrollTarget.classList.remove('fit');\n    } else if (this.dialogElement) {\n      this.scrollTarget.classList.add('fit');\n    }\n  }\n});\n","const hassAttributeUtil = {};\n\nhassAttributeUtil.DOMAIN_DEVICE_CLASS = {\n  binary_sensor: [\n    'battery',\n    'cold',\n    'connectivity',\n    'door',\n    'garage_door',\n    'gas',\n    'heat',\n    'light',\n    'lock',\n    'moisture',\n    'motion',\n    'moving',\n    'occupancy',\n    'opening',\n    'plug',\n    'power',\n    'presence',\n    'problem',\n    'safety',\n    'smoke',\n    'sound',\n    'vibration',\n    'window'\n  ],\n  cover: ['garage'],\n  sensor: [\n    'battery',\n    'humidity',\n    'illuminance',\n    'temperature'\n  ],\n};\n\nhassAttributeUtil.UNKNOWN_TYPE = 'json';\nhassAttributeUtil.ADD_TYPE = 'key-value';\n\nhassAttributeUtil.TYPE_TO_TAG = {\n  string: 'ha-customize-string',\n  json: 'ha-customize-string',\n  icon: 'ha-customize-icon',\n  boolean: 'ha-customize-boolean',\n  array: 'ha-customize-array',\n  'key-value': 'ha-customize-key-value',\n};\n\n// Attributes here serve dual purpose:\n// 1) Any key of this object won't be shown in more-info window.\n// 2) Any key which has value other than undefined will appear in customization\n//    config according to its value.\nhassAttributeUtil.LOGIC_STATE_ATTRIBUTES =\n  hassAttributeUtil.LOGIC_STATE_ATTRIBUTES || {\n    entity_picture: undefined,\n    friendly_name: { type: 'string', description: 'Name' },\n    icon: { type: 'icon' },\n    emulated_hue: {\n      type: 'boolean',\n      domains: ['emulated_hue']\n    },\n    emulated_hue_name: {\n      type: 'string',\n      domains: ['emulated_hue']\n    },\n    haaska_hidden: undefined,\n    haaska_name: undefined,\n    homebridge_hidden: { type: 'boolean' },\n    homebridge_name: { type: 'string' },\n    supported_features: undefined,\n    attribution: undefined,\n    custom_ui_more_info: { type: 'string' },\n    custom_ui_state_card: { type: 'string' },\n    device_class: {\n      type: 'array',\n      options: hassAttributeUtil.DOMAIN_DEVICE_CLASS,\n      description: 'Device class',\n      domains: ['binary_sensor', 'cover', 'sensor']\n    },\n    hidden: { type: 'boolean', description: 'Hide from UI' },\n    assumed_state: {\n      type: 'boolean',\n      domains: ['switch', 'light', 'cover', 'climate', 'fan', 'group']\n    },\n    initial_state: {\n      type: 'string',\n      domains: ['automation']\n    },\n    unit_of_measurement: { type: 'string' },\n  };\n\nexport default hassAttributeUtil;\n","import { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { PaperDialogBehavior } from '@polymer/paper-dialog-behavior/paper-dialog-behavior.js';\nimport { mixinBehaviors } from '@polymer/polymer/lib/legacy/class.js';\nimport EventsMixin from './events-mixin';\n/**\n * @polymerMixin\n * @appliesMixin EventsMixin\n * @appliesMixin PaperDialogBehavior\n */\nexport default dedupingMixin(superClass =>\n  class extends mixinBehaviors([EventsMixin, PaperDialogBehavior], superClass) {\n    static get properties() {\n      return {\n        withBackdrop: {\n          type: Boolean,\n          value: true,\n        },\n      };\n    }\n  });\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-input/paper-input.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport EventsMixin from '../../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\nclass MoreInfoAlarmControlPanel extends LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n      <style include=\"iron-flex\"></style>\n      <style>\n        paper-input {\n          margin: auto;\n          max-width: 200px;\n        }\n        .pad {\n          display: flex;\n          justify-content: center;\n          margin-bottom: 24px;\n        }\n        .pad div {\n          display: flex;\n          flex-direction: column;\n        }\n        .pad paper-button {\n          width: 80px;\n        }\n        .actions paper-button {\n          min-width: 160px;\n          margin-bottom: 16px;\n          color: var(--primary-color);\n        }\n        paper-button.disarm {\n          color: var(--google-red-500);\n        }\n      </style>\n\n      <template is=\"dom-if\" if=\"[[_codeFormat]]\">\n        <paper-input\n          label=\"[[localize('ui.card.alarm_control_panel.code')]]\"\n          value=\"{{_enteredCode}}\"\n          type=\"password\"\n          disabled=\"[[!_inputEnabled]]\"\n        ></paper-input>\n\n        <template is=\"dom-if\" if=\"[[_isNumber(_codeFormat)]]\">\n          <div class=\"pad\">\n            <div>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"1\" raised>1</paper-button>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"4\" raised>4</paper-button>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"7\" raised>7</paper-button>\n            </div>\n            <div>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"2\" raised>2</paper-button>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"5\" raised>5</paper-button>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"8\" raised>8</paper-button>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"0\" raised>0</paper-button>\n            </div>\n            <div>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"3\" raised>3</paper-button>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"6\" raised>6</paper-button>\n              <paper-button on-click='_digitClicked' disabled='[[!_inputEnabled]]' data-digit=\"9\" raised>9</paper-button>\n              <paper-button on-click='_clearEnteredCode' disabled='[[!_inputEnabled]]' raised>\n                [[localize('ui.card.alarm_control_panel.clear_code')]]\n              </paper-button>\n            </div>\n          </div>\n        </template>\n      </template>\n\n      <div class=\"layout horizontal center-justified actions\">\n        <template is=\"dom-if\" if=\"[[_disarmVisible]]\">\n          <paper-button raised class=\"disarm\" on-click=\"_callService\" data-service=\"alarm_disarm\" disabled=\"[[!_codeValid]]\">\n            [[localize('ui.card.alarm_control_panel.disarm')]]\n          </paper-button>\n        </template>\n        <template is=\"dom-if\" if=\"[[_armVisible]]\">\n          <paper-button raised on-click=\"_callService\" data-service=\"alarm_arm_home\" disabled=\"[[!_codeValid]]\">\n            [[localize('ui.card.alarm_control_panel.arm_home')]]\n          </paper-button>\n          <paper-button raised on-click=\"_callService\" data-service=\"alarm_arm_away\" disabled=\"[[!_codeValid]]\">\n            [[localize('ui.card.alarm_control_panel.arm_away')]]\n          </paper-button>\n        </template>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: {\n        type: Object,\n        observer: '_stateObjChanged'\n      },\n      _enteredCode: {\n        type: String,\n        value: ''\n      },\n      _codeFormat: {\n        type: String,\n        value: ''\n      },\n      _codeValid: {\n        type: Boolean,\n        computed: '_validateCode(_enteredCode, _codeFormat)'\n      },\n      _disarmVisible: {\n        type: Boolean,\n        value: false\n      },\n      _armVisible: {\n        type: Boolean,\n        value: false\n      },\n      _inputEnabled: {\n        type: Boolean,\n        value: false\n      }\n    };\n  }\n\n  constructor() {\n    super();\n    this._armedStates = ['armed_home', 'armed_away', 'armed_night', 'armed_custom_bypass'];\n  }\n\n  _stateObjChanged(newVal, oldVal) {\n    if (newVal) {\n      const state = newVal.state;\n      const props = {\n        _codeFormat: newVal.attributes.code_format,\n        _armVisible: state === 'disarmed',\n        _disarmVisible: this._armedStates.includes(state) ||\n          state === 'pending' || state === 'triggered'\n      };\n      props._inputEnabled = props._disarmVisible || props._armVisible;\n      this.setProperties(props);\n    }\n    if (oldVal) {\n      setTimeout(() => {\n        this.fire('iron-resize');\n      }, 500);\n    }\n  }\n\n  _isNumber(format) {\n    return format === 'Number';\n  }\n\n  _validateCode(code, format) {\n    return !format || code.length > 0;\n  }\n\n  _digitClicked(ev) {\n    this._enteredCode += ev.target.getAttribute('data-digit');\n  }\n\n  _clearEnteredCode() {\n    this._enteredCode = '';\n  }\n\n  _callService(ev) {\n    const service = ev.target.getAttribute('data-service');\n    const data = {\n      entity_id: this.stateObj.entity_id,\n      code: this._enteredCode\n    };\n    this.hass.callService('alarm_control_panel', service, data)\n      .then(() => {\n        this._enteredCode = '';\n      });\n  }\n}\ncustomElements.define('more-info-alarm_control_panel', MoreInfoAlarmControlPanel);\n","import '@polymer/paper-button/paper-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-relative-time.js';\n\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\nclass MoreInfoAutomation extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        paper-button {\n          color: var(--primary-color);\n          font-weight: 500;\n        }\n        .flex {\n          display: flex;\n          justify-content: space-between;\n        }\n        .actions {\n          margin: 36px 0 8px 0;\n          text-align: right;\n        }\n      </style>\n\n      <div class=\"flex\">\n        <div>\n          [[localize('ui.card.automation.last_triggered')]]:\n        </div>\n        <ha-relative-time hass=\"[[hass]]\" datetime=\"[[stateObj.attributes.last_triggered]]\"></ha-relative-time>\n      </div>\n\n      <div class=\"actions\">\n        <paper-button on-click=\"handleTriggerTapped\">\n          [[localize('ui.card.automation.trigger')]]\n        </paper-button>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object\n    };\n  }\n\n  handleTriggerTapped() {\n    this.hass.callService('automation', 'trigger', {\n      entity_id: this.stateObj.entity_id,\n    });\n  }\n}\n\ncustomElements.define('more-info-automation', MoreInfoAutomation);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport computeStateName from '../../../common/entity/compute_state_name.js';\nimport emptyImageBase64 from '../../../common/empty_image_base64.js';\nimport EventsMixin from '../../../mixins/events-mixin.js';\n\n/*\n * @appliesMixin EventsMixin\n */\nclass MoreInfoCamera extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        max-width:640px;\n      }\n\n      .camera-image {\n        width: 100%;\n      }\n    </style>\n\n    <img class=\"camera-image\" src=\"[[computeCameraImageUrl(hass, stateObj, isVisible)]]\" on-load=\"imageLoaded\" alt=\"[[_computeStateName(stateObj)]]\">\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      stateObj: {\n        type: Object,\n      },\n\n      isVisible: {\n        type: Boolean,\n        value: true,\n      },\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.isVisible = true;\n  }\n\n  disconnectedCallback() {\n    this.isVisible = false;\n    super.disconnectedCallback();\n  }\n\n  imageLoaded() {\n    this.fire('iron-resize');\n  }\n\n  _computeStateName(stateObj) {\n    return computeStateName(stateObj);\n  }\n\n  computeCameraImageUrl(hass, stateObj, isVisible) {\n    if (hass.demo) {\n      return '/demo/webcam.jpg';\n    } else if (stateObj && isVisible) {\n      return '/api/camera_proxy_stream/' + stateObj.entity_id +\n             '?token=' + stateObj.attributes.access_token;\n    }\n    // Return an empty image if no stateObj (= dialog not open) or in cleanup mode.\n    return emptyImageBase64;\n  }\n}\n\ncustomElements.define('more-info-camera', MoreInfoCamera);\n","/** An empty image which can be set as src of an img element. */\nexport default 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport EventsMixin from '../mixins/events-mixin.js';\n\n/*\n * @appliesMixin EventsMixin\n */\nclass HaClimateControl extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style include=\"iron-flex iron-flex-alignment\"></style>\n    <style>\n      /* local DOM styles go here */\n      :host {\n        @apply --layout-flex;\n        @apply --layout-horizontal;\n        @apply --layout-justified;\n      }\n      .in-flux#target_temperature {\n        color: var(--google-red-500);\n      }\n      #target_temperature {\n        @apply --layout-self-center;\n        font-size: 200%;\n      }\n      .control-buttons {\n        font-size: 200%;\n        text-align: right;\n      }\n      paper-icon-button {\n        height: 48px;\n        width: 48px;\n      }\n    </style>\n\n    <!-- local DOM goes here -->\n    <div id=\"target_temperature\">\n      [[value]] [[units]]\n    </div>\n    <div class=\"control-buttons\">\n      <div>\n        <paper-icon-button icon=\"hass:chevron-up\" on-click=\"incrementValue\"></paper-icon-button>\n      </div>\n      <div>\n        <paper-icon-button icon=\"hass:chevron-down\" on-click=\"decrementValue\"></paper-icon-button>\n      </div>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      value: {\n        type: Number,\n        observer: 'valueChanged'\n      },\n      units: {\n        type: String,\n      },\n      min: {\n        type: Number,\n      },\n      max: {\n        type: Number,\n      },\n      step: {\n        type: Number,\n        value: 1,\n      },\n    };\n  }\n  temperatureStateInFlux(inFlux) {\n    this.$.target_temperature.classList.toggle('in-flux', inFlux);\n  }\n  incrementValue() {\n    const newval = this.value + this.step;\n    if (this.value < this.max) {\n      this.last_changed = Date.now();\n      this.temperatureStateInFlux(true);\n    }\n    if (newval <= this.max) {\n      // If no initial target_temp\n      // this forces control to start\n      // from the min configured instead of 0\n      if (newval <= this.min) {\n        this.value = this.min;\n      } else {\n        this.value = newval;\n      }\n    } else {\n      this.value = this.max;\n    }\n  }\n  decrementValue() {\n    const newval = this.value - this.step;\n    if (this.value > this.min) {\n      this.last_changed = Date.now();\n      this.temperatureStateInFlux(true);\n    }\n    if (newval >= this.min) {\n      this.value = newval;\n    } else {\n      this.value = this.min;\n    }\n  }\n  valueChanged() {\n    // when the last_changed timestamp is changed,\n    // trigger a potential event fire in\n    // the future, as long as last changed is far enough in the\n    // past.\n    if (this.last_changed) {\n      window.setTimeout(() => {\n        const now = Date.now();\n        if (now - this.last_changed >= 2000) {\n          this.fire('change');\n          this.temperatureStateInFlux(false);\n          this.last_changed = null;\n        }\n      }, 2010);\n    }\n  }\n}\n\ncustomElements.define('ha-climate-control', HaClimateControl);\n","// Expects classNames to be an object mapping feature-bit -> className\nexport default function featureClassNames(stateObj, classNames) {\n  if (!stateObj || !stateObj.attributes.supported_features) return '';\n\n  const features = stateObj.attributes.supported_features;\n\n  return Object.keys(classNames).map(feature => (\n    (features & feature) !== 0 ? classNames[feature] : ''\n  )).filter(attr => attr !== '').join(' ');\n}\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport '@polymer/paper-toggle-button/paper-toggle-button.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-climate-control.js';\nimport '../../../components/ha-paper-slider.js';\n\n\nimport attributeClassNames from '../../../common/entity/attribute_class_names.js';\nimport featureClassNames from '../../../common/entity/feature_class_names';\n\nimport EventsMixin from '../../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin EventsMixin\n * @appliesMixin LocalizeMixin\n */\nclass MoreInfoClimate extends LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style include=\"iron-flex\"></style>\n    <style>\n      :host {\n        color: var(--primary-text-color);\n        --paper-input-container-input: {\n          text-transform: capitalize;\n        }\n      }\n\n      .container-on,\n      .container-away_mode,\n      .container-aux_heat,\n      .container-temperature,\n      .container-humidity,\n      .container-operation_list,\n      .container-fan_list,\n      .container-swing_list {\n        display: none;\n      }\n\n      .has-on .container-on,\n      .has-away_mode .container-away_mode,\n      .has-aux_heat .container-aux_heat,\n      .has-target_temperature .container-temperature,\n      .has-target_temperature_low .container-temperature,\n      .has-target_temperature_high .container-temperature,\n      .has-target_humidity .container-humidity,\n      .has-operation_mode .container-operation_list,\n      .has-fan_mode .container-fan_list,\n      .has-swing_list .container-swing_list,\n      .has-swing_mode .container-swing_list {\n        display: block;\n        margin-bottom: 5px;\n      }\n\n      .container-operation_list iron-icon,\n      .container-fan_list iron-icon,\n      .container-swing_list iron-icon {\n        margin: 22px 16px 0 0;\n      }\n\n      paper-dropdown-menu {\n        width: 100%;\n      }\n\n      paper-item {\n        cursor: pointer;\n      }\n\n      ha-paper-slider {\n        width: 100%;\n      }\n\n      .container-humidity .single-row {\n          display: flex;\n          height: 50px;\n      }\n\n      .target-humidity {\n        width: 90px;\n        font-size: 200%;\n        margin: auto;\n      }\n\n      ha-climate-control.range-control-left,\n      ha-climate-control.range-control-right {\n        float: left;\n        width: 46%;\n      }\n      ha-climate-control.range-control-left {\n        margin-right: 4%;\n      }\n      ha-climate-control.range-control-right {\n        margin-left: 4%;\n      }\n\n      .humidity {\n        --paper-slider-active-color: var(--paper-blue-400);\n        --paper-slider-secondary-color: var(--paper-blue-400);\n      }\n\n      .single-row {\n        padding: 8px 0;\n      }\n\n      .capitalize {\n        text-transform: capitalize;\n      }\n    </style>\n\n    <div class\\$=\"[[computeClassNames(stateObj)]]\">\n\n      <template is=\"dom-if\" if=\"[[supportsOn(stateObj)]]\">\n        <div class=\"container-on\">\n          <div class=\"center horizontal layout single-row\">\n            <div class=\"flex\">[[localize('ui.card.climate.on_off')]]</div>\n            <paper-toggle-button checked=\"[[onToggleChecked]]\" on-change=\"onToggleChanged\">\n            </paper-toggle-button>\n          </div>\n        </div>\n      </template>\n\n      <div class=\"container-temperature\">\n        <div class\\$=\"[[stateObj.attributes.operation_mode]]\">\n          <div hidden\\$=\"[[!supportsTemperatureControls(stateObj)]]\">[[localize('ui.card.climate.target_temperature')]]</div>\n          <template is=\"dom-if\" if=\"[[supportsTemperature(stateObj)]]\">\n            <ha-climate-control value=\"[[stateObj.attributes.temperature]]\" units=\"[[stateObj.attributes.unit_of_measurement]]\" step=\"[[computeTemperatureStepSize(stateObj)]]\" min=\"[[stateObj.attributes.min_temp]]\" max=\"[[stateObj.attributes.max_temp]]\" on-change=\"targetTemperatureChanged\">\n            </ha-climate-control>\n          </template>\n          <template is=\"dom-if\" if=\"[[supportsTemperatureRange(stateObj)]]\">\n            <ha-climate-control value=\"[[stateObj.attributes.target_temp_low]]\" units=\"[[stateObj.attributes.unit_of_measurement]]\" step=\"[[computeTemperatureStepSize(stateObj)]]\" min=\"[[stateObj.attributes.min_temp]]\" max=\"[[stateObj.attributes.target_temp_high]]\" class=\"range-control-left\" on-change=\"targetTemperatureLowChanged\">\n            </ha-climate-control>\n            <ha-climate-control value=\"[[stateObj.attributes.target_temp_high]]\" units=\"[[stateObj.attributes.unit_of_measurement]]\" step=\"[[computeTemperatureStepSize(stateObj)]]\" min=\"[[stateObj.attributes.target_temp_low]]\" max=\"[[stateObj.attributes.max_temp]]\" class=\"range-control-right\" on-change=\"targetTemperatureHighChanged\">\n            </ha-climate-control>\n          </template>\n        </div>\n      </div>\n\n      <template is=\"dom-if\" if=\"[[supportsHumidity(stateObj)]]\">\n        <div class=\"container-humidity\">\n          <div>[[localize('ui.card.climate.target_humidity')]]</div>\n            <div class=\"single-row\">\n              <div class=\"target-humidity\">[[stateObj.attributes.humidity]] %</div>\n              <ha-paper-slider class=\"humidity\" min=\"[[stateObj.attributes.min_humidity]]\" max=\"[[stateObj.attributes.max_humidity]]\" secondary-progress=\"[[stateObj.attributes.max_humidity]]\" step=\"1\" pin=\"\" value=\"[[stateObj.attributes.humidity]]\" on-change=\"targetHumiditySliderChanged\" ignore-bar-touch=\"\">\n              </ha-paper-slider>\n          </div>\n        </div>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[supportsOperationMode(stateObj)]]\">\n        <div class=\"container-operation_list\">\n          <div class=\"controls\">\n            <paper-dropdown-menu class=\"capitalize\" label-float=\"\" dynamic-align=\"\" label=\"[[localize('ui.card.climate.operation')]]\">\n              <paper-listbox slot=\"dropdown-content\" selected=\"{{operationIndex}}\">\n                <template is=\"dom-repeat\" items=\"[[stateObj.attributes.operation_list]]\" on-dom-change=\"handleOperationListUpdate\">\n                  <paper-item class=\"capitalize\">[[item]]</paper-item>\n                </template>\n              </paper-listbox>\n            </paper-dropdown-menu>\n          </div>\n        </div>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[supportsFanMode(stateObj)]]\">\n        <div class=\"container-fan_list\">\n          <paper-dropdown-menu label-float=\"\" dynamic-align=\"\" label=\"[[localize('ui.card.climate.fan_mode')]]\">\n            <paper-listbox slot=\"dropdown-content\" selected=\"{{fanIndex}}\">\n              <template is=\"dom-repeat\" items=\"[[stateObj.attributes.fan_list]]\" on-dom-change=\"handleFanListUpdate\">\n                <paper-item>[[item]]</paper-item>\n              </template>\n            </paper-listbox>\n          </paper-dropdown-menu>\n        </div>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[supportsSwingMode(stateObj)]]\">\n        <div class=\"container-swing_list\">\n          <paper-dropdown-menu label-float=\"\" dynamic-align=\"\" label=\"[[localize('ui.card.climate.swing_mode')]]\">\n            <paper-listbox slot=\"dropdown-content\" selected=\"{{swingIndex}}\">\n              <template is=\"dom-repeat\" items=\"[[stateObj.attributes.swing_list]]\" on-dom-change=\"handleSwingListUpdate\">\n                <paper-item>[[item]]</paper-item>\n              </template>\n            </paper-listbox>\n          </paper-dropdown-menu>\n        </div>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[supportsAwayMode(stateObj)]]\">\n        <div class=\"container-away_mode\">\n          <div class=\"center horizontal layout single-row\">\n            <div class=\"flex\">[[localize('ui.card.climate.away_mode')]]</div>\n            <paper-toggle-button checked=\"[[awayToggleChecked]]\" on-change=\"awayToggleChanged\">\n            </paper-toggle-button>\n          </div>\n        </div>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[supportsAuxHeat(stateObj)]]\">\n        <div class=\"container-aux_heat\">\n          <div class=\"center horizontal layout single-row\">\n            <div class=\"flex\">[[localize('ui.card.climate.aux_heat')]]</div>\n            <paper-toggle-button checked=\"[[auxToggleChecked]]\" on-change=\"auxToggleChanged\">\n            </paper-toggle-button>\n          </div>\n        </div>\n      </template>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      stateObj: {\n        type: Object,\n        observer: 'stateObjChanged',\n      },\n\n      operationIndex: {\n        type: Number,\n        value: -1,\n        observer: 'handleOperationmodeChanged',\n      },\n\n      fanIndex: {\n        type: Number,\n        value: -1,\n        observer: 'handleFanmodeChanged',\n      },\n\n      swingIndex: {\n        type: Number,\n        value: -1,\n        observer: 'handleSwingmodeChanged',\n      },\n      awayToggleChecked: Boolean,\n      auxToggleChecked: Boolean,\n      onToggleChecked: Boolean,\n    };\n  }\n\n  stateObjChanged(newVal, oldVal) {\n    if (newVal) {\n      this.setProperties({\n        awayToggleChecked: newVal.attributes.away_mode === 'on',\n        auxToggleChecked: newVal.attributes.aux_heat === 'on',\n        onToggleChecked: newVal.state !== 'off',\n      });\n    }\n\n    if (oldVal) {\n      this._debouncer = Debouncer.debounce(\n        this._debouncer,\n        timeOut.after(500),\n        () => {\n          this.fire('iron-resize');\n        }\n      );\n    }\n  }\n\n  handleOperationListUpdate() {\n    // force polymer to recognize selected item change (to update actual label)\n    this.operationIndex = -1;\n    if (this.stateObj.attributes.operation_list) {\n      this.operationIndex =\n          this.stateObj.attributes.operation_list.indexOf(this.stateObj.attributes.operation_mode);\n    }\n  }\n\n  handleSwingListUpdate() {\n    // force polymer to recognize selected item change (to update actual label)\n    this.swingIndex = -1;\n    if (this.stateObj.attributes.swing_list) {\n      this.swingIndex =\n          this.stateObj.attributes.swing_list.indexOf(this.stateObj.attributes.swing_mode);\n    }\n  }\n\n  handleFanListUpdate() {\n    // force polymer to recognize selected item change (to update actual label)\n    this.fanIndex = -1;\n    if (this.stateObj.attributes.fan_list) {\n      this.fanIndex =\n          this.stateObj.attributes.fan_list.indexOf(this.stateObj.attributes.fan_mode);\n    }\n  }\n\n  computeTemperatureStepSize(stateObj) {\n    if (stateObj.attributes.target_temp_step) {\n      return stateObj.attributes.target_temp_step;\n    } else if (stateObj.attributes.unit_of_measurement.indexOf('F') !== -1) {\n      return 1;\n    }\n    return 0.5;\n  }\n\n  supportsTemperatureControls(stateObj) {\n    return this.supportsTemperature(stateObj) ||\n      this.supportsTemperatureRange(stateObj);\n  }\n\n  supportsTemperature(stateObj) {\n    return (stateObj.attributes.supported_features & 1) !== 0 && typeof stateObj.attributes.temperature === 'number';\n  }\n\n  supportsTemperatureRange(stateObj) {\n    return (stateObj.attributes.supported_features & 6) !== 0 && (typeof stateObj.attributes.target_temp_low === 'number' || typeof stateObj.attributes.target_temp_high === 'number');\n  }\n\n  supportsHumidity(stateObj) {\n    return (stateObj.attributes.supported_features & 8) !== 0;\n  }\n\n  supportsFanMode(stateObj) {\n    return (stateObj.attributes.supported_features & 64) !== 0;\n  }\n\n  supportsOperationMode(stateObj) {\n    return (stateObj.attributes.supported_features & 128) !== 0;\n  }\n\n  supportsSwingMode(stateObj) {\n    return (stateObj.attributes.supported_features & 512) !== 0;\n  }\n\n  supportsAwayMode(stateObj) {\n    return (stateObj.attributes.supported_features & 1024) !== 0;\n  }\n\n  supportsAuxHeat(stateObj) {\n    return (stateObj.attributes.supported_features & 2048) !== 0;\n  }\n\n  supportsOn(stateObj) {\n    return (stateObj.attributes.supported_features & 4096) !== 0;\n  }\n\n  computeClassNames(stateObj) {\n    const _featureClassNames = {\n      1: 'has-target_temperature',\n      2: 'has-target_temperature_high',\n      4: 'has-target_temperature_low',\n      8: 'has-target_humidity',\n      16: 'has-target_humidity_high',\n      32: 'has-target_humidity_low',\n      64: 'has-fan_mode',\n      128: 'has-operation_mode',\n      256: 'has-hold_mode',\n      512: 'has-swing_mode',\n      1024: 'has-away_mode',\n      2048: 'has-aux_heat',\n      4096: 'has-on',\n    };\n\n\n    var classes = [\n      attributeClassNames(stateObj, ['current_temperature', 'current_humidity']),\n      featureClassNames(stateObj, _featureClassNames),\n    ];\n\n    classes.push('more-info-climate');\n\n    return classes.join(' ');\n  }\n\n  targetTemperatureChanged(ev) {\n    const temperature = ev.target.value;\n    if (temperature === this.stateObj.attributes.temperature) return;\n    this.callServiceHelper('set_temperature', { temperature: temperature });\n  }\n\n  targetTemperatureLowChanged(ev) {\n    const targetTempLow = ev.currentTarget.value;\n    if (targetTempLow === this.stateObj.attributes.target_temp_low) return;\n    this.callServiceHelper('set_temperature', {\n      target_temp_low: targetTempLow,\n      target_temp_high: this.stateObj.attributes.target_temp_high,\n    });\n  }\n\n  targetTemperatureHighChanged(ev) {\n    const targetTempHigh = ev.currentTarget.value;\n    if (targetTempHigh === this.stateObj.attributes.target_temp_high) return;\n    this.callServiceHelper('set_temperature', {\n      target_temp_low: this.stateObj.attributes.target_temp_low,\n      target_temp_high: targetTempHigh,\n    });\n  }\n\n  targetHumiditySliderChanged(ev) {\n    const humidity = ev.target.value;\n    if (humidity === this.stateObj.attributes.humidity) return;\n    this.callServiceHelper('set_humidity', { humidity: humidity });\n  }\n\n  awayToggleChanged(ev) {\n    const oldVal = this.stateObj.attributes.away_mode === 'on';\n    const newVal = ev.target.checked;\n    if (oldVal === newVal) return;\n    this.callServiceHelper('set_away_mode', { away_mode: newVal });\n  }\n\n  auxToggleChanged(ev) {\n    const oldVal = this.stateObj.attributes.aux_heat === 'on';\n    const newVal = ev.target.checked;\n    if (oldVal === newVal) return;\n    this.callServiceHelper('set_aux_heat', { aux_heat: newVal });\n  }\n\n  onToggleChanged(ev) {\n    const oldVal = this.stateObj.state !== 'off';\n    const newVal = ev.target.checked;\n    if (oldVal === newVal) return;\n    this.callServiceHelper(newVal ? 'turn_on' : 'turn_off', {});\n  }\n\n  handleFanmodeChanged(fanIndex) {\n    // Selected Option will transition to '' before transitioning to new value\n    if (fanIndex === '' || fanIndex === -1) return;\n    const fanInput = this.stateObj.attributes.fan_list[fanIndex];\n    if (fanInput === this.stateObj.attributes.fan_mode) return;\n    this.callServiceHelper('set_fan_mode', { fan_mode: fanInput });\n  }\n\n  handleOperationmodeChanged(operationIndex) {\n    // Selected Option will transition to '' before transitioning to new value\n    if (operationIndex === '' || operationIndex === -1) return;\n    const operationInput = this.stateObj.attributes.operation_list[operationIndex];\n    if (operationInput === this.stateObj.attributes.operation_mode) return;\n\n    this.callServiceHelper('set_operation_mode', { operation_mode: operationInput });\n  }\n\n  handleSwingmodeChanged(swingIndex) {\n    // Selected Option will transition to '' before transitioning to new value\n    if (swingIndex === '' || swingIndex === -1) return;\n    const swingInput = this.stateObj.attributes.swing_list[swingIndex];\n    if (swingInput === this.stateObj.attributes.swing_mode) return;\n    this.callServiceHelper('set_swing_mode', { swing_mode: swingInput });\n  }\n\n  callServiceHelper(service, data) {\n    // We call stateChanged after a successful call to re-sync the inputs\n    // with the state. It will be out of sync if our service call did not\n    // result in the entity to be turned on. Since the state is not changing,\n    // the resync is not called automatic.\n    /* eslint-disable no-param-reassign */\n    data.entity_id = this.stateObj.entity_id;\n    /* eslint-enable no-param-reassign */\n    this.hass.callService('climate', service, data)\n      .then(() => {\n        this.stateObjChanged(this.stateObj);\n      });\n  }\n}\n\ncustomElements.define('more-info-climate', MoreInfoClimate);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/iron-input/iron-input.js';\nimport '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-input/paper-input.js';\nimport '@polymer/paper-spinner/paper-spinner.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-markdown.js';\n\nclass MoreInfoConfigurator extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"iron-flex\"></style>\n    <style>\n      p {\n        margin: 8px 0;\n      }\n\n      a {\n        color: var(--primary-color);\n      }\n\n      p > img {\n        max-width: 100%;\n      }\n\n      p.center {\n        text-align: center;\n      }\n\n      p.error {\n        color: #C62828;\n      }\n\n      p.submit {\n        text-align: center;\n        height: 41px;\n      }\n\n      paper-spinner {\n        width: 14px;\n        height: 14px;\n        margin-right: 20px;\n      }\n\n      [hidden] {\n        display: none;\n      }\n    </style>\n\n    <div class=\"layout vertical\">\n      <template is=\"dom-if\" if=\"[[isConfigurable]]\">\n        <ha-markdown content=\"[[stateObj.attributes.description]]\"></ha-markdown>\n\n        <p class=\"error\" hidden\\$=\"[[!stateObj.attributes.errors]]\">\n          [[stateObj.attributes.errors]]\n        </p>\n\n        <template is=\"dom-repeat\" items=\"[[stateObj.attributes.fields]]\">\n          <paper-input label=\"[[item.name]]\" name=\"[[item.id]]\" type=\"[[item.type]]\" on-change=\"fieldChanged\"></paper-input>\n        </template>\n\n        <p class=\"submit\" hidden\\$=\"[[!stateObj.attributes.submit_caption]]\">\n          <paper-button raised=\"\" disabled=\"[[isConfiguring]]\" on-click=\"submitClicked\">\n            <paper-spinner active=\"[[isConfiguring]]\" hidden=\"[[!isConfiguring]]\" alt=\"Configuring\"></paper-spinner>\n            [[stateObj.attributes.submit_caption]]\n          </paper-button>\n\n        </p>\n\n      </template>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      stateObj: {\n        type: Object,\n      },\n\n      action: {\n        type: String,\n        value: 'display',\n      },\n\n      isConfigurable: {\n        type: Boolean,\n        computed: 'computeIsConfigurable(stateObj)',\n      },\n\n      isConfiguring: {\n        type: Boolean,\n        value: false,\n      },\n\n      fieldInput: {\n        type: Object,\n        value: function () { return {}; },\n      },\n    };\n  }\n\n  computeIsConfigurable(stateObj) {\n    return stateObj.state === 'configure';\n  }\n\n  fieldChanged(ev) {\n    var el = ev.target;\n    this.fieldInput[el.name] = el.value;\n  }\n\n  submitClicked() {\n    var data = {\n      configure_id: this.stateObj.attributes.configure_id,\n      fields: this.fieldInput,\n    };\n\n    this.isConfiguring = true;\n\n    this.hass.callService('configurator', 'configure', data).then(\n      function () {\n        this.isConfiguring = false;\n      }.bind(this),\n      function () {\n        this.isConfiguring = false;\n      }.bind(this)\n    );\n  }\n}\n\ncustomElements.define('more-info-configurator', MoreInfoConfigurator);\n","import '@polymer/iron-icon/iron-icon.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport './ha-paper-slider.js';\n\nclass HaLabeledSlider extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n        padding-bottom: 16px;\n      }\n\n      .title {\n        margin-bottom: 16px;\n        opacity: var(--dark-primary-opacity);\n      }\n\n      iron-icon {\n        float: left;\n        margin-top: 4px;\n        opacity: var(--dark-secondary-opacity);\n      }\n\n      ha-paper-slider {\n        background-image: var(--ha-slider-background);\n      }\n    </style>\n\n    <div class=\"title\">[[caption]]</div>\n    <div class=\"extra-container\">\n      <slot name=\"extra\"></slot>\n    </div>\n    <div class=\"slider-container\">\n      <iron-icon icon=\"[[icon]]\" hidden\\$=\"[[!icon]]\"></iron-icon>\n      <ha-paper-slider\n        min=\"[[min]]\" max=\"[[max]]\" step=\"[[step]]\"\n        pin=\"[[pin]]\" disabled=\"[[disabled]]\" disabled=\"[[disabled]]\"\n        value=\"{{value}}\"\n      ></ha-paper-slider>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      caption: String,\n      disabled: Boolean,\n      min: Number,\n      max: Number,\n      pin: Boolean,\n      step: Number,\n\n      extra: {\n        type: Boolean,\n        value: false,\n      },\n      ignoreBarTouch: {\n        type: Boolean,\n        value: true,\n      },\n      icon: {\n        type: String,\n        value: '',\n      },\n      value: {\n        type: Number,\n        notify: true,\n      },\n    };\n  }\n}\n\ncustomElements.define('ha-labeled-slider', HaLabeledSlider);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-cover-tilt-controls.js';\nimport '../../../components/ha-labeled-slider.js';\nimport CoverEntity from '../../../util/cover-model.js';\n\nimport attributeClassNames from '../../../common/entity/attribute_class_names';\nimport featureClassNames from '../../../common/entity/feature_class_names';\n\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\nconst FEATURE_CLASS_NAMES = {\n  128: 'has-set_tilt_position',\n};\nclass MoreInfoCover extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n  <style include=\"iron-flex\"></style>\n  <style>\n    .current_position, .tilt {\n      max-height: 0px;\n      overflow: hidden;\n    }\n\n    .has-current_position .current_position,\n    .has-set_tilt_position .tilt,\n    .has-current_tilt_position .tilt\n    {\n      max-height: 208px;\n    }\n\n    [invisible] {\n      visibility: hidden !important;\n    }\n  </style>\n  <div class\\$=\"[[computeClassNames(stateObj)]]\">\n\n    <div class=\"current_position\">\n      <ha-labeled-slider\n        caption=\"[[localize('ui.card.cover.position')]]\" pin=\"\"\n        value=\"{{coverPositionSliderValue}}\"\n        disabled=\"[[!entityObj.supportsSetPosition]]\"\n        on-change=\"coverPositionSliderChanged\"\n      ></ha-labeled-slider>\n    </div>\n\n    <div class=\"tilt\">\n      <ha-labeled-slider\n        caption=\"[[localize('ui.card.cover.tilt_position')]]\" pin=\"\" extra=\"\"\n        value=\"{{coverTiltPositionSliderValue}}\"\n        disabled=\"[[!entityObj.supportsSetTiltPosition]]\"\n        on-change=\"coverTiltPositionSliderChanged\">\n\n        <ha-cover-tilt-controls\n          slot=\"extra\" hidden\\$=\"[[entityObj.isTiltOnly]]\"\n          hass=\"[[hass]]\" state-obj=\"[[stateObj]]\"\n        ></ha-cover-tilt-controls>\n\n      </ha-labeled-slider>\n    </div>\n\n  </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: {\n        type: Object,\n        observer: 'stateObjChanged',\n      },\n      entityObj: {\n        type: Object,\n        computed: 'computeEntityObj(hass, stateObj)',\n      },\n      coverPositionSliderValue: Number,\n      coverTiltPositionSliderValue: Number\n    };\n  }\n\n  computeEntityObj(hass, stateObj) {\n    return new CoverEntity(hass, stateObj);\n  }\n\n  stateObjChanged(newVal) {\n    if (newVal) {\n      this.setProperties({\n        coverPositionSliderValue: newVal.attributes.current_position,\n        coverTiltPositionSliderValue: newVal.attributes.current_tilt_position,\n      });\n    }\n  }\n\n  computeClassNames(stateObj) {\n    var classes = [\n      attributeClassNames(stateObj, ['current_position', 'current_tilt_position']),\n      featureClassNames(stateObj, FEATURE_CLASS_NAMES),\n    ];\n    return classes.join(' ');\n  }\n\n  coverPositionSliderChanged(ev) {\n    this.entityObj.setCoverPosition(ev.target.value);\n  }\n\n  coverTiltPositionSliderChanged(ev) {\n    this.entityObj.setCoverTiltPosition(ev.target.value);\n  }\n}\n\ncustomElements.define('more-info-cover', MoreInfoCover);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport hassAttributeUtil from '../util/hass-attributes-util.js';\n\nclass HaAttributes extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"iron-flex iron-flex-alignment\"></style>\n    <style>\n      .data-entry .value {\n        max-width: 200px;\n      }\n      .attribution {\n        color: var(--secondary-text-color);\n        text-align: right;\n      }\n    </style>\n\n    <div class=\"layout vertical\">\n      <template is=\"dom-repeat\" items=\"[[computeDisplayAttributes(stateObj, filtersArray)]]\" as=\"attribute\">\n        <div class=\"data-entry layout justified horizontal\">\n          <div class=\"key\">[[formatAttribute(attribute)]]</div>\n          <div class=\"value\">[[formatAttributeValue(stateObj, attribute)]]</div>\n        </div>\n      </template>\n      <div class=\"attribution\" hidden\\$=\"[[!computeAttribution(stateObj)]]\">[[computeAttribution(stateObj)]]</div>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      stateObj: {\n        type: Object,\n      },\n      extraFilters: {\n        type: String,\n        value: '',\n      },\n      filtersArray: {\n        type: Array,\n        computed: 'computeFiltersArray(extraFilters)',\n      },\n    };\n  }\n\n  computeFiltersArray(extraFilters) {\n    return Object.keys(hassAttributeUtil.LOGIC_STATE_ATTRIBUTES).concat(extraFilters ? extraFilters.split(',') : []);\n  }\n\n  computeDisplayAttributes(stateObj, filtersArray) {\n    if (!stateObj) {\n      return [];\n    }\n    return Object.keys(stateObj.attributes).filter(function (key) {\n      return filtersArray.indexOf(key) === -1;\n    });\n  }\n\n  formatAttribute(attribute) {\n    return attribute.replace(/_/g, ' ');\n  }\n\n  formatAttributeValue(stateObj, attribute) {\n    var value = stateObj.attributes[attribute];\n    if (value === null) return '-';\n    if (Array.isArray(value)) {\n      return value.join(', ');\n    }\n    return (value instanceof Object) ? JSON.stringify(value, null, 2) : value;\n  }\n\n  computeAttribution(stateObj) {\n    return stateObj.attributes.attribution;\n  }\n}\n\ncustomElements.define('ha-attributes', HaAttributes);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-attributes.js';\n\nclass MoreInfoDefault extends PolymerElement {\n  static get template() {\n    return html`\n    <ha-attributes state-obj=\"[[stateObj]]\"></ha-attributes>\n`;\n  }\n\n  static get properties() {\n    return {\n      stateObj: {\n        type: Object,\n      },\n    };\n  }\n}\n\ncustomElements.define('more-info-default', MoreInfoDefault);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport '@polymer/paper-toggle-button/paper-toggle-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-attributes.js';\n\n\nimport attributeClassNames from '../../../common/entity/attribute_class_names';\nimport EventsMixin from '../../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin EventsMixin\n */\nclass MoreInfoFan extends LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n    <style include=\"iron-flex\"></style>\n    <style>\n      .container-speed_list,\n      .container-direction,\n      .container-oscillating {\n        display: none;\n      }\n\n      .has-speed_list .container-speed_list,\n      .has-direction .container-direction,\n      .has-oscillating .container-oscillating {\n        display: block;\n      }\n\n      paper-dropdown-menu {\n        width: 100%;\n      }\n\n      paper-item {\n        cursor: pointer;\n      }\n    </style>\n\n    <div class\\$=\"[[computeClassNames(stateObj)]]\">\n\n      <div class=\"container-speed_list\">\n        <paper-dropdown-menu label-float=\"\" dynamic-align=\"\" label=\"[[localize('ui.card.fan.speed')]]\">\n          <paper-listbox slot=\"dropdown-content\" selected=\"{{speedIndex}}\">\n            <template is=\"dom-repeat\" items=\"[[stateObj.attributes.speed_list]]\">\n              <paper-item>[[item]]</paper-item>\n            </template>\n          </paper-listbox>\n        </paper-dropdown-menu>\n      </div>\n\n      <div class=\"container-oscillating\">\n        <div class=\"center horizontal layout single-row\">\n          <div class=\"flex\">[[localize('ui.card.fan.oscillate')]]</div>\n          <paper-toggle-button checked=\"[[oscillationToggleChecked]]\" on-change=\"oscillationToggleChanged\">\n          </paper-toggle-button>\n        </div>\n      </div>\n\n      <div class=\"container-direction\">\n        <div class=\"direction\">\n          <div>[[localize('ui.card.fan.direction')]]</div>\n          <paper-icon-button icon=\"hass:rotate-left\" on-click=\"onDirectionLeft\" title=\"Left\" disabled=\"[[computeIsRotatingLeft(stateObj)]]\"></paper-icon-button>\n          <paper-icon-button icon=\"hass:rotate-right\" on-click=\"onDirectionRight\" title=\"Right\" disabled=\"[[computeIsRotatingRight(stateObj)]]\"></paper-icon-button>\n        </div>\n      </div>\n    </div>\n\n    <ha-attributes state-obj=\"[[stateObj]]\" extra-filters=\"speed,speed_list,oscillating,direction\"></ha-attributes>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      stateObj: {\n        type: Object,\n        observer: 'stateObjChanged',\n      },\n\n      speedIndex: {\n        type: Number,\n        value: -1,\n        observer: 'speedChanged',\n      },\n\n      oscillationToggleChecked: {\n        type: Boolean,\n      },\n    };\n  }\n\n  stateObjChanged(newVal, oldVal) {\n    if (newVal) {\n      this.setProperties({\n        oscillationToggleChecked: newVal.attributes.oscillating,\n        speedIndex: newVal.attributes.speed_list ?\n          newVal.attributes.speed_list.indexOf(newVal.attributes.speed) : -1,\n      });\n    }\n\n    if (oldVal) {\n      setTimeout(() => {\n        this.fire('iron-resize');\n      }, 500);\n    }\n  }\n\n  computeClassNames(stateObj) {\n    return 'more-info-fan ' + attributeClassNames(stateObj, ['oscillating', 'speed_list', 'direction']);\n  }\n\n  speedChanged(speedIndex) {\n    var speedInput;\n    // Selected Option will transition to '' before transitioning to new value\n    if (speedIndex === '' || speedIndex === -1) return;\n\n    speedInput = this.stateObj.attributes.speed_list[speedIndex];\n    if (speedInput === this.stateObj.attributes.speed) return;\n\n    this.hass.callService('fan', 'turn_on', {\n      entity_id: this.stateObj.entity_id,\n      speed: speedInput,\n    });\n  }\n\n  oscillationToggleChanged(ev) {\n    var oldVal = this.stateObj.attributes.oscillating;\n    var newVal = ev.target.checked;\n\n    if (oldVal === newVal) return;\n\n    this.hass.callService('fan', 'oscillate', {\n      entity_id: this.stateObj.entity_id,\n      oscillating: newVal,\n    });\n  }\n\n  onDirectionLeft() {\n    this.hass.callService('fan', 'set_direction', {\n      entity_id: this.stateObj.entity_id,\n      direction: 'reverse'\n    });\n  }\n\n  onDirectionRight() {\n    this.hass.callService('fan', 'set_direction', {\n      entity_id: this.stateObj.entity_id,\n      direction: 'forward'\n    });\n  }\n\n  computeIsRotatingLeft(stateObj) {\n    return stateObj.attributes.direction === 'reverse';\n  }\n\n  computeIsRotatingRight(stateObj) {\n    return stateObj.attributes.direction === 'forward';\n  }\n}\n\ncustomElements.define('more-info-fan', MoreInfoFan);\n","import { dom } from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../state-summary/state-card-content.js';\n\nimport computeStateDomain from '../../../common/entity/compute_state_domain';\nimport dynamicContentUpdater from '../../../common/dom/dynamic_content_updater.js';\nimport stateMoreInfoType from '../../../common/entity/state_more_info_type.js';\n\nclass MoreInfoGroup extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      .child-card {\n        margin-bottom: 8px;\n      }\n\n      .child-card:last-child {\n        margin-bottom: 0;\n      }\n    </style>\n\n    <div id=\"groupedControlDetails\"></div>\n    <template is=\"dom-repeat\" items=\"[[states]]\" as=\"state\">\n      <div class=\"child-card\">\n        <state-card-content state-obj=\"[[state]]\" hass=\"[[hass]]\"></state-card-content>\n      </div>\n    </template>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      stateObj: {\n        type: Object,\n      },\n\n      states: {\n        type: Array,\n        computed: 'computeStates(stateObj, hass)',\n      },\n    };\n  }\n\n  static get observers() {\n    return [\n      'statesChanged(stateObj, states)',\n    ];\n  }\n\n  computeStates(stateObj, hass) {\n    var states = [];\n    var entIds = stateObj.attributes.entity_id;\n\n    for (var i = 0; i < entIds.length; i++) {\n      var state = hass.states[entIds[i]];\n\n      if (state) {\n        states.push(state);\n      }\n    }\n\n    return states;\n  }\n\n  statesChanged(stateObj, states) {\n    let groupDomainStateObj = false;\n\n    if (states && states.length > 0) {\n      const baseStateObj = states.find(s => s.state === 'on') || states[0];\n      const groupDomain = computeStateDomain(baseStateObj);\n\n      // Groups need to be filtered out or we'll show content of\n      // first child above the children of the current group\n      if (groupDomain !== 'group') {\n        groupDomainStateObj = Object.assign({}, baseStateObj, {\n          entity_id: stateObj.entity_id,\n          attributes: Object.assign({}, baseStateObj.attributes)\n        });\n\n        for (let i = 0; i < states.length; i++) {\n          if (groupDomain !== computeStateDomain(states[i])) {\n            groupDomainStateObj = false;\n            break;\n          }\n        }\n      }\n    }\n\n    if (!groupDomainStateObj) {\n      const el = dom(this.$.groupedControlDetails);\n      if (el.lastChild) {\n        el.removeChild(el.lastChild);\n      }\n    } else {\n      dynamicContentUpdater(\n        this.$.groupedControlDetails,\n        'MORE-INFO-' + stateMoreInfoType(groupDomainStateObj).toUpperCase(),\n        { stateObj: groupDomainStateObj, hass: this.hass }\n      );\n    }\n  }\n}\n\ncustomElements.define('more-info-group', MoreInfoGroup);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../cards/ha-history_graph-card.js';\nimport '../../../components/ha-attributes.js';\n\nclass MoreInfoHistoryGraph extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n    :host {\n      display: block;\n      margin-bottom: 6px;\n    }\n    </style>\n    <ha-history_graph-card hass=\"[[hass]]\" state-obj=\"[[stateObj]]\" in-dialog=\"\">\n    <ha-attributes state-obj=\"[[stateObj]]\"></ha-attributes>\n  </ha-history_graph-card>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object,\n    };\n  }\n}\ncustomElements.define('more-info-history_graph', MoreInfoHistoryGraph);\n","/**\nAdapted from paper-time-input from\nhttps://github.com/ryanburns23/paper-time-input\nMIT Licensed. Copyright (c) 2017 Ryan Burns\n\n`<paper-time-input>` Polymer element to accept a time with paper-input & paper-dropdown-menu\nInspired by the time input in google forms\n\n### Styling\n\n`<paper-time-input>` provides the following custom properties and mixins for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-time-input-dropdown-ripple-color` | dropdown ripple color | `--primary-color`\n`--paper-time-input-cotnainer` | Mixin applied to the inputs | `{}`\n`--paper-time-dropdown-input-cotnainer` | Mixin applied to the dropdown input | `{}`\n*/\nimport '@polymer/paper-input/paper-input.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nclass PaperTimeInput extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n          @apply --paper-font-common-base;\n        }\n\n        paper-input {\n          width: 30px;\n          text-align: center;\n          --paper-input-container-input: {\n            /* Damn you firefox\n             * Needed to hide spin num in firefox\n             * http://stackoverflow.com/questions/3790935/can-i-hide-the-html5-number-input-s-spin-box\n             */\n            -moz-appearance: textfield;\n            @apply --paper-time-input-cotnainer;\n          }\n          ;\n          --paper-input-container-input-webkit-spinner: {\n            -webkit-appearance: none;\n            margin: 0;\n            display: none;\n          }\n          ;\n        }\n\n        paper-dropdown-menu {\n          width: 55px;\n          padding: 0;\n          /* Force ripple to use the whole container */\n          --paper-dropdown-menu-ripple: {\n            color: var(--paper-time-input-dropdown-ripple-color, --primary-color);\n          };\n          --paper-input-container-input: {\n            @apply --paper-font-button;\n            text-align: center;\n            padding-left: 5px;\n            @apply --paper-time-dropdown-input-cotnainer;\n          };\n          --paper-input-container-underline: {\n            border-color: transparent;\n          }\n          --paper-input-container-underline-focus: {\n            border-color: transparent;\n          };\n        }\n\n        paper-item {\n          cursor: pointer;\n          text-align: center;\n          font-size: 14px;\n        }\n\n        paper-listbox {\n          padding: 0;\n        }\n\n        label {\n          @apply --paper-font-caption;\n        }\n\n        .time-input-wrap {\n          @apply --layout-horizontal;\n          @apply --layout-no-wrap;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      </style>\n\n      <label hidden\\$=\"[[hideLabel]]\">[[label]]</label>\n      <div class=\"time-input-wrap\">\n\n        <!-- Hour Input -->\n        <paper-input id=\"hour\" type=\"number\" value=\"{{hour}}\" on-change=\"_shouldFormatHour\" required=\"\" auto-validate=\"[[autoValidate]]\"\n          prevent-invalid-input=\"\" maxlength=\"2\" max=\"[[_computeHourMax(format)]]\" min=\"0\" no-label-float=\"\" disabled=\"[[disabled]]\">\n          <span suffix=\"\" slot=\"suffix\">:</span>\n        </paper-input>\n\n        <!-- Min Input -->\n        <paper-input id=\"min\" type=\"number\" value=\"{{min}}\" on-change=\"_formatMin\" required=\"\" auto-validate=\"[[autoValidate]]\" prevent-invalid-input=\"\"\n          maxlength=\"2\" max=\"59\" min=\"0\" no-label-float=\"\" disabled=\"[[disabled]]\">\n        </paper-input>\n\n        <!-- Dropdown Menu -->\n        <paper-dropdown-menu id=\"dropdown\" required=\"\" hidden\\$=\"[[_equal(format, 24)]]\" no-label-float=\"\" disabled=\"[[disabled]]\">\n\n          <paper-listbox attr-for-selected=\"name\" selected=\"{{amPm}}\" slot=\"dropdown-content\">\n            <paper-item name=\"AM\">AM</paper-item>\n            <paper-item name=\"PM\">PM</paper-item>\n          </paper-listbox>\n        </paper-dropdown-menu>\n\n      </div>\n    `;\n  }\n\n\n  static get properties() {\n    return {\n      /**\n       * Label for the input\n       */\n      label: {\n        type: String,\n        value: 'Time'\n      },\n      /**\n       * auto validate time inputs\n       */\n      autoValidate: {\n        type: Boolean,\n        value: true\n      },\n      /**\n       * hides the label\n       */\n      hideLabel: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * 12 or 24 hr format\n       */\n      format: {\n        type: Number,\n        value: 12\n      },\n      /**\n       * disables the inputs\n       */\n      disabled: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * hour\n       */\n      hour: {\n        type: String,\n        notify: true\n      },\n      /**\n       * minute\n       */\n      min: {\n        type: String,\n        notify: true\n      },\n      /**\n       * AM or PM\n       */\n      amPm: {\n        type: String,\n        notify: true,\n        value: 'AM'\n      },\n      /**\n       * Formatted time string\n       */\n      value: {\n        type: String,\n        notify: true,\n        readOnly: true,\n        computed: '_computeTime(min, hour, amPm)'\n      },\n    };\n  }\n\n  /**\n   * Validate the inputs\n   * @return {boolean}\n   */\n  validate() {\n    var valid = true;\n    // Validate hour & min fields\n    if (!this.$.hour.validate() | !this.$.min.validate()) {\n      valid = false;\n    }\n    // Validate AM PM if 12 hour time\n    if (this.format === 12 && !this.$.dropdown.validate()) {\n      valid = false;\n    }\n    return valid;\n  }\n\n  /**\n   * Create time string\n   */\n  _computeTime(min, hour, amPm) {\n    if (hour && min) {\n      // No ampm on 24 hr time\n      if (this.format === 24) {\n        amPm = '';\n      }\n      return hour + ':' + min + ' ' + amPm;\n    }\n    return undefined;\n  }\n\n  /**\n   * Format min\n   */\n  _formatMin() {\n    if (this.min.toString().length === 1) {\n      this.min = (this.min < 10) ? ('0' + this.min) : this.min;\n    }\n  }\n\n  /**\n   * Hour needs a leading zero in 24hr format\n   */\n  _shouldFormatHour() {\n    if (this.format === 24 && this.hour.toString().length === 1) {\n      this.hour = (this.hour < 10) ? ('0' + this.hour) : this.hour;\n    }\n  }\n\n  /**\n   * 24 hour format has a max hr of 23\n   */\n  _computeHourMax(format) {\n    if (format === 12) {\n      return format;\n    }\n    return 23;\n  }\n\n  _equal(n1, n2) {\n    return n1 === n2;\n  }\n}\n\ncustomElements.define('paper-time-input', PaperTimeInput);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-input/paper-input.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@vaadin/vaadin-date-picker/vaadin-date-picker.js';\n\nimport '../../../components/ha-relative-time.js';\nimport '../../../components/paper-time-input.js';\n\nimport attributeClassNames from '../../../common/entity/attribute_class_names.js';\n\nclass DatetimeInput extends PolymerElement {\n  static get template() {\n    return html`\n    <div class\\$=\"[[computeClassNames(stateObj)]]\">\n      <template is=\"dom-if\" if=\"[[doesHaveDate(stateObj)]]\" restamp=\"\">\n        <div>\n          <vaadin-date-picker id=\"dateInput\" on-value-changed=\"dateTimeChanged\" label=\"Date\" value=\"{{selectedDate}}\"></vaadin-date-picker>\n        </div>\n      </template>\n      <template is=\"dom-if\" if=\"[[doesHaveTime(stateObj)]]\" restamp=\"\">\n        <div>\n          <paper-time-input hour=\"{{selectedHour}}\" min=\"{{selectedMinute}}\" format=\"24\"></paper-time-input>\n        </div>\n      </template>\n    </div>\n`;\n  }\n\n  constructor() {\n    super();\n    this.is_ready = false;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      stateObj: {\n        type: Object,\n        observer: 'stateObjChanged',\n      },\n\n      selectedDate: {\n        type: String,\n        observer: 'dateTimeChanged',\n      },\n\n      selectedHour: {\n        type: Number,\n        observer: 'dateTimeChanged',\n      },\n\n      selectedMinute: {\n        type: Number,\n        observer: 'dateTimeChanged',\n      },\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.is_ready = true;\n  }\n\n  /* Convert the date in the stateObj into a string useable by vaadin-date-picker */\n  getDateString(stateObj) {\n    if (stateObj.state === 'unknown') {\n      return '';\n    }\n    var monthFiller;\n    if (stateObj.attributes.month < 10) {\n      monthFiller = '0';\n    } else {\n      monthFiller = '';\n    }\n\n    var dayFiller;\n    if (stateObj.attributes.day < 10) {\n      dayFiller = '0';\n    } else {\n      dayFiller = '';\n    }\n\n    return stateObj.attributes.year + '-' + monthFiller + stateObj.attributes.month + '-' + dayFiller + stateObj.attributes.day;\n  }\n\n  /* Should fire when any value was changed *by the user*, not b/c of setting\n   * initial values. */\n  dateTimeChanged() {\n    // Check if the change is really coming from the user\n    if (!this.is_ready) {\n      return;\n    }\n\n    let changed = false;\n    let minuteFiller;\n\n    const serviceData = {\n      entity_id: this.stateObj.entity_id\n    };\n\n    if (this.stateObj.attributes.has_time) {\n      changed |= (parseInt(this.selectedMinute) !== this.stateObj.attributes.minute);\n      changed |= (parseInt(this.selectedHour) !== this.stateObj.attributes.hour);\n      if (this.selectedMinute < 10) {\n        minuteFiller = '0';\n      } else {\n        minuteFiller = '';\n      }\n      var timeStr = this.selectedHour + ':' + minuteFiller + this.selectedMinute;\n      serviceData.time = timeStr;\n    }\n\n    if (this.stateObj.attributes.has_date) {\n      if (this.selectedDate.length === 0) {\n        return; // Date was not set\n      }\n\n      const dateValInput = new Date(this.selectedDate);\n      const dateValState = new Date(\n        this.stateObj.attributes.year,\n        this.stateObj.attributes.month - 1,\n        this.stateObj.attributes.day\n      );\n\n      changed |= (dateValState !== dateValInput);\n\n      serviceData.date = this.selectedDate;\n    }\n\n    if (changed) {\n      this.hass.callService('input_datetime', 'set_datetime', serviceData);\n    }\n  }\n\n  stateObjChanged(newVal) {\n    // Set to non-ready s.t. dateTimeChanged does not fire\n    this.is_ready = false;\n\n    if (newVal.attributes.has_time) {\n      this.selectedHour = newVal.attributes.hour;\n      this.selectedMinute = newVal.attributes.minute;\n    }\n\n    if (newVal.attributes.has_date) {\n      this.selectedDate = this.getDateString(newVal);\n    }\n\n    this.is_ready = true;\n  }\n\n  doesHaveDate(stateObj) {\n    return stateObj.attributes.has_date;\n  }\n\n  doesHaveTime(stateObj) {\n    return stateObj.attributes.has_time;\n  }\n\n  computeClassNames(stateObj) {\n    return 'more-info-input_datetime ' + attributeClassNames(stateObj, ['has_time', 'has_date']);\n  }\n}\n\ncustomElements.define('more-info-input_datetime', DatetimeInput);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport EventsMixin from '../mixins/events-mixin.js';\n\n/**\n * Color-picker custom element\n *\n * @appliesMixin EventsMixin\n */\nclass HaColorPicker extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        user-select: none;\n        -webkit-user-select: none;\n      }\n\n      #canvas {\n        position: relative;\n        width: 100%;\n        max-width: 330px;\n      }\n      #canvas > * {\n        display: block;\n      }\n      #interactionLayer {\n        color: white;\n        position: absolute;\n        cursor: crosshair;\n        width: 100%;\n        height: 100%;\n        overflow: visible;\n      }\n      #backgroundLayer {\n        width: 100%;\n        overflow: visible;\n        --wheel-bordercolor: var(--ha-color-picker-wheel-bordercolor, white);\n        --wheel-borderwidth: var(--ha-color-picker-wheel-borderwidth, 3);\n        --wheel-shadow: var(--ha-color-picker-wheel-shadow, rgb(15, 15, 15) 10px 5px 5px 0px);\n      }\n\n      #marker {\n        fill: currentColor;\n        stroke: var(--ha-color-picker-marker-bordercolor, white);\n        stroke-width: var(--ha-color-picker-marker-borderwidth, 3);\n        filter: url(#marker-shadow)\n      }\n      .dragging #marker {\n      }\n\n      #colorTooltip {\n        display: none;\n        fill: currentColor;\n        stroke: var(--ha-color-picker-tooltip-bordercolor, white);\n        stroke-width: var(--ha-color-picker-tooltip-borderwidth, 3);\n      }\n\n      .touch.dragging #colorTooltip {\n        display: inherit;\n      }\n\n    </style>\n    <div id=\"canvas\">\n      <svg id=\"interactionLayer\">\n        <defs>\n          <filter id=\"marker-shadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" filterUnits=\"objectBoundingBox\">\n             <feOffset result=\"offOut\" in=\"SourceAlpha\" dx=\"2\" dy=\"2\"></feOffset>\n             <feGaussianBlur result=\"blurOut\" in=\"offOut\" stdDeviation=\"2\"></feGaussianBlur>\n             <feComponentTransfer in=\"blurOut\" result=\"alphaOut\">\n               <feFuncA type=\"linear\" slope=\"0.3\"></feFuncA>\n             </feComponentTransfer>\n             <feBlend in=\"SourceGraphic\" in2=\"alphaOut\" mode=\"normal\"></feBlend>\n          </filter>\n        </defs>\n      </svg>\n      <canvas id=\"backgroundLayer\"></canvas>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hsColor: {\n        type: Object,\n      },\n\n      // use these properties to update the state via attributes\n      desiredHsColor: {\n        type: Object,\n        observer: 'applyHsColor'\n      },\n\n      // width, height and radius apply to the coordinates of\n      // of the canvas.\n      // border width are relative to these numbers\n      // the onscreen displayed size should be controlled with css\n      // and should be the same or smaller\n      width: {\n        type: Number,\n        value: 500,\n      },\n\n      height: {\n        type: Number,\n        value: 500,\n      },\n\n      radius: {\n        type: Number,\n        value: 225,\n      },\n\n      // the amount segments for the hue\n      // 0 = continuous gradient\n      // other than 0 gives 'pie-pieces'\n      hueSegments: {\n        type: Number,\n        value: 0,\n      },\n\n      // the amount segments for the hue\n      // 0 = continuous gradient\n      // 1 = only fully saturated\n      // > 1 = segments from white to fully saturated\n      saturationSegments: {\n        type: Number,\n        value: 0,\n      },\n\n      // set to true to make the segments purely esthetical\n      // this allows selection off all collors, also\n      // interpolated between the segments\n      ignoreSegments: {\n        type: Boolean,\n        value: false\n      },\n\n      // throttle te amount of 'colorselected' events fired\n      // value is timeout in milliseconds\n      throttle: {\n        type: Number,\n        value: 500,\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.setupLayers();\n    this.drawColorWheel();\n    this.drawMarker();\n\n    this.interactionLayer.addEventListener('mousedown', ev => this.onMouseDown(ev));\n    this.interactionLayer.addEventListener('touchstart', ev => this.onTouchStart(ev));\n  }\n\n  // converts browser coordinates to canvas canvas coordinates\n  // origin is wheel center\n  // returns {x: X, y: Y} object\n  convertToCanvasCoordinates(clientX, clientY) {\n    var svgPoint = this.interactionLayer.createSVGPoint();\n    svgPoint.x = clientX;\n    svgPoint.y = clientY;\n    var cc = svgPoint.matrixTransform(this.interactionLayer.getScreenCTM().inverse());\n    return { x: cc.x, y: cc.y };\n  }\n\n  // Mouse events\n\n  onMouseDown(ev) {\n    const cc = this.convertToCanvasCoordinates(ev.clientX, ev.clientY);\n    // return if we're not on the wheel\n    if (!this.isInWheel(cc.x, cc.y)) {\n      return;\n    }\n    // a mousedown in wheel is always a color select action\n    this.onMouseSelect(ev);\n    // allow dragging\n    this.canvas.classList.add('mouse', 'dragging');\n    this.addEventListener('mousemove', this.onMouseSelect);\n    this.addEventListener('mouseup', this.onMouseUp);\n  }\n\n  onMouseUp() {\n    this.canvas.classList.remove('mouse', 'dragging');\n    this.removeEventListener('mousemove', this.onMouseSelect);\n  }\n\n  onMouseSelect(ev) {\n    requestAnimationFrame(() => this.processUserSelect(ev));\n  }\n\n  // Touch events\n\n  onTouchStart(ev) {\n    var touch = ev.changedTouches[0];\n    const cc = this.convertToCanvasCoordinates(touch.clientX, touch.clientY);\n    // return if we're not on the wheel\n    if (!this.isInWheel(cc.x, cc.y)) {\n      return;\n    }\n    if (ev.target === this.marker) { // drag marker\n      ev.preventDefault();\n      this.canvas.classList.add('touch', 'dragging');\n      this.addEventListener('touchmove', this.onTouchSelect);\n      this.addEventListener('touchend', this.onTouchEnd);\n      return;\n    }\n    // don't fire color selection immediately,\n    // wait for touchend and invalidate when we scroll\n    this.tapBecameScroll = false;\n    this.addEventListener('touchend', this.onTap);\n    this.addEventListener('touchmove', () => { this.tapBecameScroll = true; }, { passive: true });\n  }\n\n  onTap(ev) {\n    if (this.tapBecameScroll) {\n      return;\n    }\n    ev.preventDefault();\n    this.onTouchSelect(ev);\n  }\n\n  onTouchEnd() {\n    this.canvas.classList.remove('touch', 'dragging');\n    this.removeEventListener('touchmove', this.onTouchSelect);\n  }\n\n  onTouchSelect(ev) {\n    requestAnimationFrame(() => this.processUserSelect(ev.changedTouches[0]));\n  }\n\n\n  /*\n  * General event/selection handling\n  */\n\n  // Process user input to color\n  processUserSelect(ev) {\n    var canvasXY = this.convertToCanvasCoordinates(ev.clientX, ev.clientY);\n    var hs = this.getColor(canvasXY.x, canvasXY.y);\n    this.onColorSelect(hs);\n  }\n\n  // apply color to marker position and canvas\n  onColorSelect(hs) {\n    this.setMarkerOnColor(hs); // marker always follows mounse 'raw' hs value (= mouse position)\n    if (!this.ignoreSegments) { // apply segments if needed\n      hs = this.applySegmentFilter(hs);\n    }\n    // always apply the new color to the interface / canvas\n    this.applyColorToCanvas(hs);\n    // throttling is applied to updating the exposed colors (properties)\n    // and firing of events\n    if (this.colorSelectIsThrottled) {\n      // make sure we apply the last selected color\n      // eventually after throttle limit has passed\n      clearTimeout(this.ensureFinalSelect);\n      this.ensureFinalSelect = setTimeout(() => {\n        this.fireColorSelected(hs); // do it for the final time\n      }, this.throttle);\n      return;\n    }\n    this.fireColorSelected(hs); // do it\n    this.colorSelectIsThrottled = true;\n    setTimeout(() => {\n      this.colorSelectIsThrottled = false;\n    }, this.throttle);\n  }\n\n  // set color values and fire colorselected event\n  fireColorSelected(hs) {\n    this.hsColor = hs;\n    this.fire('colorselected', { hs: { h: hs.h, s: hs.s } });\n  }\n\n\n  /*\n  * Interface updating\n  */\n\n  // set marker position to the given color\n  setMarkerOnColor(hs) {\n    var dist = hs.s * this.radius;\n    var theta = ((hs.h - 180) / 180) * Math.PI;\n    var markerdX = -dist * Math.cos(theta);\n    var markerdY = -dist * Math.sin(theta);\n    var translateString = `translate(${markerdX},${markerdY})`;\n    this.marker.setAttribute('transform', translateString);\n    this.tooltip.setAttribute('transform', translateString);\n  }\n\n  // apply given color to interface elements\n  applyColorToCanvas(hs) {\n    // we're not really converting hs to hsl here, but we keep it cheap\n    // setting the color on the interactionLayer, the svg elements can inherit\n    this.interactionLayer.style.color = `hsl(${hs.h}, 100%, ${100 - (hs.s * 50)}%)`;\n  }\n\n\n  applyHsColor(hs) {\n    // do nothing is we already have the same color\n    if (this.hsColor &&\n        this.hsColor.h === hs.h &&\n        this.hsColor.s === hs.s) {\n      return;\n    }\n    this.setMarkerOnColor(hs); // marker is always set on 'raw' hs position\n    if (!this.ignoreSegments) { // apply segments if needed\n      hs = this.applySegmentFilter(hs);\n    }\n    this.hsColor = hs;\n    // always apply the new color to the interface / canvas\n    this.applyColorToCanvas(hs);\n  }\n\n\n  /*\n  * input processing helpers\n  */\n\n  // get angle (degrees)\n  getAngle(dX, dY) {\n    var theta = Math.atan2(-dY, -dX); // radians from the left edge, clockwise = positive\n    var angle = ((theta / Math.PI) * 180) + 180; // degrees, clockwise from right\n    return angle;\n  }\n\n  // returns true when coordinates are in the colorwheel\n  isInWheel(x, y) {\n    return this.getDistance(x, y) <= 1;\n  }\n\n  // returns distance from wheel center, 0 = center, 1 = edge, >1 = outside\n  getDistance(dX, dY) {\n    return Math.sqrt((dX * dX) + (dY * dY)) / this.radius;\n  }\n\n\n  /*\n  * Getting colors\n  */\n\n  getColor(x, y) {\n    var hue = this.getAngle(x, y); // degrees, clockwise from right\n    var relativeDistance = this.getDistance(x, y); // edge of radius = 1\n    var sat = Math.min(relativeDistance, 1); // Distance from center\n    return { h: hue, s: sat };\n  }\n\n  applySegmentFilter(hs) {\n    // apply hue segment steps\n    if (this.hueSegments) {\n      const angleStep = 360 / this.hueSegments;\n      const halfAngleStep = angleStep / 2;\n      hs.h -= halfAngleStep; // take the 'centered segemnts' into account\n      if (hs.h < 0) { hs.h += 360; } // don't end up below 0\n      const rest = hs.h % angleStep;\n      hs.h -= rest - angleStep;\n    }\n\n    // apply saturation segment steps\n    if (this.saturationSegments) {\n      if (this.saturationSegments === 1) {\n        hs.s = 1;\n      } else {\n        var segmentSize = 1 / this.saturationSegments;\n        var saturationStep = 1 / (this.saturationSegments - 1);\n        var calculatedSat = Math.floor(hs.s / segmentSize) * saturationStep;\n        hs.s = Math.min(calculatedSat, 1);\n      }\n    }\n    return hs;\n  }\n\n  /*\n  * Drawing related stuff\n  */\n\n  setupLayers() {\n    this.canvas = this.$.canvas;\n    this.backgroundLayer = this.$.backgroundLayer;\n    this.interactionLayer = this.$.interactionLayer;\n\n    // coordinate origin position (center of the wheel)\n    this.originX = this.width / 2;\n    this.originY = this.originX;\n\n    // synchronise width/height coordinates\n    this.backgroundLayer.width = this.width;\n    this.backgroundLayer.height = this.height;\n    this.interactionLayer.setAttribute('viewBox', `${-this.originX} ${-this.originY} ${this.width} ${this.height}`);\n  }\n\n\n  drawColorWheel() {\n    /*\n    *  Setting up all paremeters\n    */\n    let shadowColor;\n    let shadowOffsetX;\n    let shadowOffsetY;\n    let shadowBlur;\n    const context = this.backgroundLayer.getContext('2d');\n    // postioning and sizing\n    const cX = this.originX;\n    const cY = this.originY;\n    const radius = this.radius;\n    const counterClockwise = false;\n    // styling of the wheel\n    const wheelStyle = window.getComputedStyle(this.backgroundLayer, null);\n    const borderWidth = parseInt(wheelStyle.getPropertyValue('--wheel-borderwidth'), 10);\n    const borderColor = wheelStyle.getPropertyValue('--wheel-bordercolor').trim();\n    const wheelShadow = wheelStyle.getPropertyValue('--wheel-shadow').trim();\n    // extract shadow properties from  CCS variable\n    // the shadow should be defined as: \"10px 5px 5px 0px COLOR\"\n    if (wheelShadow !== 'none') {\n      const values = wheelShadow.split('px ');\n      shadowColor = values.pop();\n      shadowOffsetX = parseInt(values[0], 10);\n      shadowOffsetY = parseInt(values[1], 10);\n      shadowBlur = parseInt(values[2], 10) || 0;\n    }\n    const borderRadius = radius + (borderWidth / 2);\n    const wheelRadius = radius;\n    const shadowRadius = radius + borderWidth;\n\n\n    /*\n    *  Drawing functions\n    */\n    function drawCircle(hueSegments, saturationSegments) {\n      hueSegments = hueSegments || 360; // reset 0 segments to 360\n      const angleStep = 360 / hueSegments;\n      const halfAngleStep = angleStep / 2; // center segments on color\n      for (var angle = 0; angle <= 360; angle += angleStep) {\n        var startAngle = ((angle - halfAngleStep)) * (Math.PI / 180);\n        var endAngle = ((angle + halfAngleStep) + 1) * (Math.PI / 180);\n        context.beginPath();\n        context.moveTo(cX, cY);\n        context.arc(cX, cY, wheelRadius, startAngle, endAngle, counterClockwise);\n        context.closePath();\n        // gradient\n        var gradient = context.createRadialGradient(cX, cY, 0, cX, cY, wheelRadius);\n        let lightness = 100;\n        // first gradient stop\n        gradient.addColorStop(0, `hsl(${angle}, 100%, ${lightness}%)`);\n        // segment gradient stops\n        if (saturationSegments > 0) {\n          const ratioStep = 1 / saturationSegments;\n          let ratio = 0;\n          for (var stop = 1; stop < saturationSegments; stop += 1) {\n            var prevLighness = lightness;\n            ratio = stop * ratioStep;\n            lightness = 100 - (50 * ratio);\n            gradient.addColorStop(ratio, `hsl(${angle}, 100%, ${prevLighness}%)`);\n            gradient.addColorStop(ratio, `hsl(${angle}, 100%, ${lightness}%)`);\n          }\n          gradient.addColorStop(ratio, `hsl(${angle}, 100%, 50%)`);\n        }\n        // last gradient stop\n        gradient.addColorStop(1, `hsl(${angle}, 100%, 50%)`);\n\n        context.fillStyle = gradient;\n        context.fill();\n      }\n    }\n\n    function drawShadow() {\n      context.save();\n      context.beginPath();\n      context.arc(cX, cY, shadowRadius, 0, 2 * Math.PI, false);\n      context.shadowColor = shadowColor;\n      context.shadowOffsetX = shadowOffsetX;\n      context.shadowOffsetY = shadowOffsetY;\n      context.shadowBlur = shadowBlur;\n      context.fillStyle = 'white';\n      context.fill();\n      context.restore();\n    }\n\n    function drawBorder() {\n      context.beginPath();\n      context.arc(cX, cY, borderRadius, 0, 2 * Math.PI, false);\n      context.lineWidth = borderWidth;\n      context.strokeStyle = borderColor;\n      context.stroke();\n    }\n\n    /*\n    *   Call the drawing functions\n    *   draws the shadow, wheel and border\n    */\n    if (wheelStyle.shadow !== 'none') { drawShadow(); }\n    drawCircle(this.hueSegments, this.saturationSegments);\n    if (borderWidth > 0) { drawBorder(); }\n  }\n\n  /*\n  *   Draw the (draggable) marker and tooltip\n  *   on the interactionLayer)\n  */\n\n  drawMarker() {\n    const svgElement = this.interactionLayer;\n    const markerradius = this.radius * 0.08;\n    const tooltipradius = this.radius * 0.15;\n    const TooltipOffsetY = -(tooltipradius * 3);\n    const TooltipOffsetX = 0;\n\n    svgElement.marker = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n    svgElement.marker.setAttribute('id', 'marker');\n    svgElement.marker.setAttribute('r', markerradius);\n    this.marker = svgElement.marker;\n    svgElement.appendChild(svgElement.marker);\n\n    svgElement.tooltip = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n    svgElement.tooltip.setAttribute('id', 'colorTooltip');\n    svgElement.tooltip.setAttribute('r', tooltipradius);\n    svgElement.tooltip.setAttribute('cx', TooltipOffsetX);\n    svgElement.tooltip.setAttribute('cy', TooltipOffsetY);\n    this.tooltip = svgElement.tooltip;\n    svgElement.appendChild(svgElement.tooltip);\n  }\n}\ncustomElements.define('ha-color-picker', HaColorPicker);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-attributes.js';\nimport '../../../components/ha-color-picker.js';\nimport '../../../components/ha-labeled-slider.js';\n\n\nimport featureClassNames from '../../../common/entity/feature_class_names';\nimport EventsMixin from '../../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\nconst FEATURE_CLASS_NAMES = {\n  1: 'has-brightness',\n  2: 'has-color_temp',\n  4: 'has-effect_list',\n  16: 'has-color',\n  128: 'has-white_value',\n};\n/*\n * @appliesMixin EventsMixin\n */\nclass MoreInfoLight extends LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n  <style include=\"iron-flex\"></style>\n  <style>\n    .effect_list {\n      padding-bottom: 16px;\n    }\n\n    .effect_list, .brightness, .color_temp, .white_value {\n      max-height: 0px;\n      overflow: hidden;\n      transition: max-height .5s ease-in;\n    }\n\n    .color_temp {\n      --ha-slider-background: -webkit-linear-gradient(right, rgb(255, 160, 0) 0%, white 50%, rgb(166, 209, 255) 100%);\n      /* The color temp minimum value shouldn't be rendered differently. It's not \"off\". */\n      --paper-slider-knob-start-border-color: var(--primary-color);\n    }\n\n    ha-color-picker {\n      display: block;\n      width: 100%;\n\n      max-height: 0px;\n      overflow: hidden;\n      transition: max-height .5s ease-in;\n    }\n\n    .has-effect_list.is-on .effect_list,\n    .has-brightness .brightness,\n    .has-color_temp.is-on .color_temp,\n    .has-white_value.is-on .white_value {\n      max-height: 84px;\n    }\n\n    .has-color.is-on ha-color-picker {\n      max-height: 500px;\n      overflow: visible;\n      --ha-color-picker-wheel-borderwidth: 5;\n      --ha-color-picker-wheel-bordercolor: white;\n      --ha-color-picker-wheel-shadow: none;\n      --ha-color-picker-marker-borderwidth: 2;\n      --ha-color-picker-marker-bordercolor: white;\n    }\n\n    .is-unavailable .control {\n      max-height: 0px;\n    }\n\n    paper-item {\n      cursor: pointer;\n    }\n  </style>\n\n  <div class\\$=\"[[computeClassNames(stateObj)]]\">\n\n    <div class=\"control brightness\">\n      <ha-labeled-slider caption=\"[[localize('ui.card.light.brightness')]]\" icon=\"hass:brightness-5\" max=\"255\" value=\"{{brightnessSliderValue}}\" on-change=\"brightnessSliderChanged\"></ha-labeled-slider>\n    </div>\n\n    <div class=\"control color_temp\">\n      <ha-labeled-slider caption=\"[[localize('ui.card.light.color_temperature')]]\" icon=\"hass:thermometer\" min=\"[[stateObj.attributes.min_mireds]]\" max=\"[[stateObj.attributes.max_mireds]]\" value=\"{{ctSliderValue}}\" on-change=\"ctSliderChanged\"></ha-labeled-slider>\n    </div>\n\n    <div class=\"control white_value\">\n      <ha-labeled-slider caption=\"[[localize('ui.card.light.white_value')]]\" icon=\"hass:file-word-box\" max=\"255\" value=\"{{wvSliderValue}}\" on-change=\"wvSliderChanged\"></ha-labeled-slider>\n    </div>\n\n    <ha-color-picker class=\"control color\" on-colorselected=\"colorPicked\" desired-hs-color=\"{{colorPickerColor}}\" throttle=\"500\" hue-segments=\"24\" saturation-segments=\"8\">\n    </ha-color-picker>\n\n    <div class=\"control effect_list\">\n      <paper-dropdown-menu label-float=\"\" dynamic-align=\"\" label=\"[[localize('ui.card.light.effect')]]\">\n        <paper-listbox slot=\"dropdown-content\" selected=\"{{effectIndex}}\">\n          <template is=\"dom-repeat\" items=\"[[stateObj.attributes.effect_list]]\">\n            <paper-item>[[item]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </div>\n\n    <ha-attributes state-obj=\"[[stateObj]]\" extra-filters=\"brightness,color_temp,white_value,effect_list,effect,hs_color,rgb_color,xy_color,min_mireds,max_mireds\"></ha-attributes>\n  </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      stateObj: {\n        type: Object,\n        observer: 'stateObjChanged',\n      },\n\n      effectIndex: {\n        type: Number,\n        value: -1,\n        observer: 'effectChanged',\n      },\n\n      brightnessSliderValue: {\n        type: Number,\n        value: 0,\n      },\n\n      ctSliderValue: {\n        type: Number,\n        value: 0,\n      },\n\n      wvSliderValue: {\n        type: Number,\n        value: 0,\n      },\n\n      colorPickerColor: {\n        type: Object,\n      }\n    };\n  }\n\n  stateObjChanged(newVal, oldVal) {\n    const props = {\n      brightnessSliderValue: 0\n    };\n\n    if (newVal && newVal.state === 'on') {\n      props.brightnessSliderValue = newVal.attributes.brightness;\n      props.ctSliderValue = newVal.attributes.color_temp;\n      props.wvSliderValue = newVal.attributes.white_value;\n      if (newVal.attributes.hs_color) {\n        props.colorPickerColor = {\n          h: newVal.attributes.hs_color[0],\n          s: newVal.attributes.hs_color[1] / 100,\n        };\n      }\n      if (newVal.attributes.effect_list) {\n        props.effectIndex = newVal.attributes.effect_list.indexOf(newVal.attributes.effect);\n      } else {\n        props.effectIndex = -1;\n      }\n    }\n\n    this.setProperties(props);\n\n    if (oldVal) {\n      setTimeout(() => {\n        this.fire('iron-resize');\n      }, 500);\n    }\n  }\n\n  computeClassNames(stateObj) {\n    const classes = [featureClassNames(stateObj, FEATURE_CLASS_NAMES)];\n    if (stateObj && stateObj.state === 'on') {\n      classes.push('is-on');\n    }\n    if (stateObj && stateObj.state === 'unavailable') {\n      classes.push('is-unavailable');\n    }\n    return classes.join(' ');\n  }\n\n  effectChanged(effectIndex) {\n    var effectInput;\n    // Selected Option will transition to '' before transitioning to new value\n    if (effectIndex === '' || effectIndex === -1) return;\n\n    effectInput = this.stateObj.attributes.effect_list[effectIndex];\n    if (effectInput === this.stateObj.attributes.effect) return;\n\n    this.hass.callService('light', 'turn_on', {\n      entity_id: this.stateObj.entity_id,\n      effect: effectInput,\n    });\n  }\n\n  brightnessSliderChanged(ev) {\n    var bri = parseInt(ev.target.value, 10);\n\n    if (isNaN(bri)) return;\n\n    if (bri === 0) {\n      this.hass.callService('light', 'turn_off', {\n        entity_id: this.stateObj.entity_id,\n      });\n    } else {\n      this.hass.callService('light', 'turn_on', {\n        entity_id: this.stateObj.entity_id,\n        brightness: bri,\n      });\n    }\n  }\n\n  ctSliderChanged(ev) {\n    var ct = parseInt(ev.target.value, 10);\n\n    if (isNaN(ct)) return;\n\n    this.hass.callService('light', 'turn_on', {\n      entity_id: this.stateObj.entity_id,\n      color_temp: ct,\n    });\n  }\n\n  wvSliderChanged(ev) {\n    var wv = parseInt(ev.target.value, 10);\n\n    if (isNaN(wv)) return;\n\n    this.hass.callService('light', 'turn_on', {\n      entity_id: this.stateObj.entity_id,\n      white_value: wv,\n    });\n  }\n\n  serviceChangeColor(hass, entityId, color) {\n    hass.callService('light', 'turn_on', {\n      entity_id: entityId,\n      hs_color: [color.h, color.s * 100],\n    });\n  }\n\n  /**\n   * Called when a new color has been picked.\n   * should be throttled with the 'throttle=' attribute of the color picker\n   */\n  colorPicked(ev) {\n    this.serviceChangeColor(this.hass, this.stateObj.entity_id, ev.detail.hs);\n  }\n}\n\ncustomElements.define('more-info-light', MoreInfoLight);\n","import '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-input/paper-input.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-attributes.js';\n\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass MoreInfoLock extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        paper-input {\n          display: inline-block;\n        }\n      </style>\n\n      <template is=\"dom-if\" if=\"[[stateObj.attributes.code_format]]\">\n        <paper-input label=\"[[localize('ui.card.lock.code')]]\" value=\"{{enteredCode}}\" pattern=\"[[stateObj.attributes.code_format]]\" type=\"password\"></paper-input>\n        <paper-button on-click=\"callService\" data-service=\"unlock\" hidden$=\"[[!isLocked]]\">[[localize('ui.card.lock.unlock')]]</paper-button>\n        <paper-button on-click=\"callService\" data-service=\"lock\" hidden$=\"[[isLocked]]\">[[localize('ui.card.lock.lock')]]</paper-button>\n      </template>\n      <ha-attributes state-obj=\"[[stateObj]]\" extra-filters=\"code_format\"></ha-attributes>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: {\n        type: Object,\n        observer: 'stateObjChanged',\n      },\n      enteredCode: {\n        type: String,\n        value: '',\n      },\n      isLocked: Boolean\n    };\n  }\n\n  stateObjChanged(newVal) {\n    if (newVal) {\n      this.isLocked = newVal.state === 'locked';\n    }\n  }\n\n  callService(ev) {\n    const service = ev.target.getAttribute('data-service');\n    const data = {\n      entity_id: this.stateObj.entity_id,\n      code: this.enteredCode\n    };\n    this.hass.callService('lock', service, data);\n  }\n}\n\ncustomElements.define('more-info-lock', MoreInfoLock);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/iron-icon/iron-icon.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-paper-slider.js';\nimport HassMediaPlayerEntity from '../../../util/hass-media-player-model.js';\n\n\nimport attributeClassNames from '../../../common/entity/attribute_class_names';\nimport isComponentLoaded from '../../../common/config/is_component_loaded.js';\nimport EventsMixin from '../../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin EventsMixin\n */\nclass MoreInfoMediaPlayer extends LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n  <style include=\"iron-flex iron-flex-alignment\"></style>\n  <style>\n    .media-state {\n      text-transform: capitalize;\n    }\n\n    paper-icon-button[highlight] {\n      color: var(--accent-color);\n    }\n\n    .volume {\n      margin-bottom: 8px;\n\n      max-height: 0px;\n      overflow: hidden;\n      transition: max-height .5s ease-in;\n    }\n\n    .has-volume_level .volume {\n      max-height: 40px;\n    }\n\n    iron-icon.source-input {\n      padding: 7px;\n      margin-top: 15px;\n    }\n\n    paper-dropdown-menu.source-input {\n      margin-left: 10px;\n    }\n\n    [hidden] {\n      display: none !important;\n    }\n\n    paper-item {\n      cursor: pointer;\n    }\n  </style>\n\n  <div class\\$=\"[[computeClassNames(stateObj)]]\">\n    <div class=\"layout horizontal\">\n      <div class=\"flex\">\n        <paper-icon-button icon=\"hass:power\" highlight\\$=\"[[playerObj.isOff]]\" on-click=\"handleTogglePower\" hidden\\$=\"[[computeHidePowerButton(playerObj)]]\"></paper-icon-button>\n      </div>\n      <div>\n        <template is=\"dom-if\" if=\"[[computeShowPlaybackControls(playerObj)]]\">\n          <paper-icon-button icon=\"hass:skip-previous\" on-click=\"handlePrevious\" hidden\\$=\"[[!playerObj.supportsPreviousTrack]]\"></paper-icon-button>\n          <paper-icon-button icon=\"[[computePlaybackControlIcon(playerObj)]]\" on-click=\"handlePlaybackControl\" hidden\\$=\"[[!computePlaybackControlIcon(playerObj)]]\" highlight=\"\"></paper-icon-button>\n          <paper-icon-button icon=\"hass:skip-next\" on-click=\"handleNext\" hidden\\$=\"[[!playerObj.supportsNextTrack]]\"></paper-icon-button>\n        </template>\n      </div>\n    </div>\n    <!-- VOLUME -->\n    <div class=\"volume_buttons center horizontal layout\" hidden\\$=\"[[computeHideVolumeButtons(playerObj)]]\">\n      <paper-icon-button on-click=\"handleVolumeTap\" icon=\"hass:volume-off\"></paper-icon-button>\n      <paper-icon-button id=\"volumeDown\" disabled\\$=\"[[playerObj.isMuted]]\" on-mousedown=\"handleVolumeDown\" on-touchstart=\"handleVolumeDown\" icon=\"hass:volume-medium\"></paper-icon-button>\n      <paper-icon-button id=\"volumeUp\" disabled\\$=\"[[playerObj.isMuted]]\" on-mousedown=\"handleVolumeUp\" on-touchstart=\"handleVolumeUp\" icon=\"hass:volume-high\"></paper-icon-button>\n    </div>\n    <div class=\"volume center horizontal layout\" hidden\\$=\"[[!playerObj.supportsVolumeSet]]\">\n      <paper-icon-button on-click=\"handleVolumeTap\" hidden\\$=\"[[playerObj.supportsVolumeButtons]]\" icon=\"[[computeMuteVolumeIcon(playerObj)]]\"></paper-icon-button>\n      <ha-paper-slider disabled\\$=\"[[playerObj.isMuted]]\" min=\"0\" max=\"100\" value=\"[[playerObj.volumeSliderValue]]\" on-change=\"volumeSliderChanged\" class=\"flex\" ignore-bar-touch=\"\">\n      </ha-paper-slider>\n    </div>\n    <!-- SOURCE PICKER -->\n    <div class=\"controls layout horizontal justified\" hidden\\$=\"[[computeHideSelectSource(playerObj)]]\">\n      <iron-icon class=\"source-input\" icon=\"hass:login-variant\"></iron-icon>\n      <paper-dropdown-menu class=\"flex source-input\" dynamic-align=\"\" label-float=\"\" label=\"Source\">\n        <paper-listbox slot=\"dropdown-content\" selected=\"{{sourceIndex}}\">\n          <template is=\"dom-repeat\" items=\"[[playerObj.sourceList]]\">\n            <paper-item>[[item]]</paper-item>\n          </template>\n        </paper-listbox>\n      </paper-dropdown-menu>\n    </div>\n    <!-- TTS -->\n    <div hidden\\$=\"[[computeHideTTS(ttsLoaded, playerObj)]]\" class=\"layout horizontal end\">\n      <paper-input id=\"ttsInput\" label=\"[[localize('ui.card.media_player.text_to_speak')]]\" class=\"flex\" value=\"{{ttsMessage}}\" on-keydown=\"ttsCheckForEnter\"></paper-input>\n      <paper-icon-button icon=\"hass:send\" on-click=\"sendTTS\"></paper-icon-button>\n    </div>\n  </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object,\n      playerObj: {\n        type: Object,\n        computed: 'computePlayerObj(hass, stateObj)',\n        observer: 'playerObjChanged',\n      },\n\n      sourceIndex: {\n        type: Number,\n        value: 0,\n        observer: 'handleSourceChanged',\n      },\n\n      ttsLoaded: {\n        type: Boolean,\n        computed: 'computeTTSLoaded(hass)',\n      },\n\n      ttsMessage: {\n        type: String,\n        value: '',\n      },\n\n    };\n  }\n\n  computePlayerObj(hass, stateObj) {\n    return new HassMediaPlayerEntity(hass, stateObj);\n  }\n\n  playerObjChanged(newVal, oldVal) {\n    if (newVal && newVal.sourceList !== undefined) {\n      this.sourceIndex = newVal.sourceList.indexOf(newVal.source);\n    }\n\n    if (oldVal) {\n      setTimeout(() => {\n        this.fire('iron-resize');\n      }, 500);\n    }\n  }\n\n  computeClassNames(stateObj) {\n    return attributeClassNames(stateObj, ['volume_level']);\n  }\n\n  computeMuteVolumeIcon(playerObj) {\n    return playerObj.isMuted ? 'hass:volume-off' : 'hass:volume-high';\n  }\n\n  computeHideVolumeButtons(playerObj) {\n    return !playerObj.supportsVolumeButtons || playerObj.isOff;\n  }\n\n  computeShowPlaybackControls(playerObj) {\n    return !playerObj.isOff && playerObj.hasMediaControl;\n  }\n\n  computePlaybackControlIcon(playerObj) {\n    if (playerObj.isPlaying) {\n      return playerObj.supportsPause ? 'hass:pause' : 'hass:stop';\n    }\n    return playerObj.supportsPlay ? 'hass:play' : null;\n  }\n\n  computeHidePowerButton(playerObj) {\n    return playerObj.isOff ? !playerObj.supportsTurnOn : !playerObj.supportsTurnOff;\n  }\n\n  computeHideSelectSource(playerObj) {\n    return playerObj.isOff || !playerObj.supportsSelectSource || !playerObj.sourceList;\n  }\n\n  computeHideTTS(ttsLoaded, playerObj) {\n    return !ttsLoaded || !playerObj.supportsPlayMedia;\n  }\n\n  computeTTSLoaded(hass) {\n    return isComponentLoaded(hass, 'tts');\n  }\n\n  handleTogglePower() {\n    this.playerObj.togglePower();\n  }\n\n  handlePrevious() {\n    this.playerObj.previousTrack();\n  }\n\n  handlePlaybackControl() {\n    this.playerObj.mediaPlayPause();\n  }\n\n  handleNext() {\n    this.playerObj.nextTrack();\n  }\n\n  handleSourceChanged(sourceIndex, sourceIndexOld) {\n    // Selected Option will transition to '' before transitioning to new value\n    if (!this.playerObj\n        || !this.playerObj.supportsSelectSource\n        || this.playerObj.sourceList === undefined\n        || sourceIndex < 0\n        || sourceIndex >= this.playerObj.sourceList\n        || sourceIndexOld === undefined\n    ) {\n      return;\n    }\n\n    const sourceInput = this.playerObj.sourceList[sourceIndex];\n\n    if (sourceInput === this.playerObj.source) {\n      return;\n    }\n\n    this.playerObj.selectSource(sourceInput);\n  }\n\n  handleVolumeTap() {\n    if (!this.playerObj.supportsVolumeMute) {\n      return;\n    }\n    this.playerObj.volumeMute(!this.playerObj.isMuted);\n  }\n\n  handleVolumeUp() {\n    const obj = this.$.volumeUp;\n    this.handleVolumeWorker('volume_up', obj, true);\n  }\n\n  handleVolumeDown() {\n    const obj = this.$.volumeDown;\n    this.handleVolumeWorker('volume_down', obj, true);\n  }\n\n  handleVolumeWorker(service, obj, force) {\n    if (force || (obj !== undefined && obj.pointerDown)) {\n      this.playerObj.callService(service);\n      setTimeout(() => this.handleVolumeWorker(service, obj, false), 500);\n    }\n  }\n\n  volumeSliderChanged(ev) {\n    const volPercentage = parseFloat(ev.target.value);\n    const volume = volPercentage > 0 ? volPercentage / 100 : 0;\n    this.playerObj.setVolume(volume);\n  }\n\n  ttsCheckForEnter(ev) {\n    if (ev.keyCode === 13) this.sendTTS();\n  }\n\n  sendTTS() {\n    const services = this.hass.config.services.tts;\n    const serviceKeys = Object.keys(services).sort();\n    let service;\n    let i;\n\n    for (i = 0; i < serviceKeys.length; i++) {\n      if (serviceKeys[i].indexOf('_say') !== -1) {\n        service = serviceKeys[i];\n        break;\n      }\n    }\n\n    if (!service) {\n      return;\n    }\n\n    this.hass.callService('tts', service, {\n      entity_id: this.stateObj.entity_id,\n      message: this.ttsMessage,\n    });\n    this.ttsMessage = '';\n    this.$.ttsInput.focus();\n  }\n}\n\ncustomElements.define('more-info-media_player', MoreInfoMediaPlayer);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nclass MoreInfoScript extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"iron-flex iron-flex-alignment\"></style>\n\n    <div class=\"layout vertical\">\n      <div class=\"data-entry layout justified horizontal\">\n        <div class=\"key\">Last Action</div>\n        <div class=\"value\">[[stateObj.attributes.last_action]]</div>\n      </div>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      stateObj: {\n        type: Object,\n      },\n    };\n  }\n}\n\ncustomElements.define('more-info-script', MoreInfoScript);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-relative-time.js';\n\nimport formatTime from '../../../common/datetime/format_time.js';\n\nclass MoreInfoSun extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"iron-flex iron-flex-alignment\"></style>\n\n    <template is=\"dom-repeat\" items=\"[[computeOrder(risingDate, settingDate)]]\">\n      <div class=\"data-entry layout justified horizontal\">\n        <div class=\"key\">\n          <span>[[itemCaption(item)]]</span>\n          <ha-relative-time hass=\"[[hass]]\" datetime-obj=\"[[itemDate(item)]]\"></ha-relative-time>\n        </div>\n        <div class=\"value\">[[itemValue(item)]]</div>\n      </div>\n    </template>\n      <div class=\"data-entry layout justified horizontal\">\n        <div class=\"key\">Elevation</div>\n        <div class=\"value\">[[stateObj.attributes.elevation]]</div>\n     </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object,\n      risingDate: {\n        type: Object,\n        computed: 'computeRising(stateObj)',\n      },\n\n      settingDate: {\n        type: Object,\n        computed: 'computeSetting(stateObj)',\n      },\n    };\n  }\n\n  computeRising(stateObj) {\n    return new Date(stateObj.attributes.next_rising);\n  }\n\n  computeSetting(stateObj) {\n    return new Date(stateObj.attributes.next_setting);\n  }\n\n  computeOrder(risingDate, settingDate) {\n    return risingDate > settingDate ? ['set', 'ris'] : ['ris', 'set'];\n  }\n\n  itemCaption(type) {\n    return type === 'ris' ? 'Rising ' : 'Setting ';\n  }\n\n  itemDate(type) {\n    return type === 'ris' ? this.risingDate : this.settingDate;\n  }\n\n  itemValue(type) {\n    return formatTime(this.itemDate(type));\n  }\n}\n\ncustomElements.define('more-info-sun', MoreInfoSun);\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nclass MoreInfoUpdater extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      .link {\n        color: #03A9F4;\n      }\n    </style>\n\n    <div>\n      <a class=\"link\" href=\"https://www.home-assistant.io/docs/installation/updating/\" target=\"_blank\">Update Instructions</a>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      stateObj: {\n        type: Object,\n      },\n    };\n  }\n\n  computeReleaseNotes(stateObj) {\n    return (stateObj.attributes.release_notes ||\n            'https://www.home-assistant.io/docs/installation/updating/');\n  }\n}\n\ncustomElements.define('more-info-updater', MoreInfoUpdater);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/iron-icon/iron-icon.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport '@polymer/paper-item/paper-item.js';\nimport '@polymer/paper-listbox/paper-listbox.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../../components/ha-attributes.js';\n\nclass MoreInfoVacuum extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"iron-flex iron-flex-alignment\"></style>\n    <style>\n      :host {\n        @apply --paper-font-body1;\n        line-height: 1.5;\n      }\n\n      .status-subtitle {\n        color: var(--secondary-text-color);\n      }\n\n      paper-item {\n        cursor: pointer;\n      }\n\n    </style>\n\n    <div class=\"horizontal justified layout\">\n      <div hidden\\$=\"[[!supportsStatus(stateObj)]]\">\n        <span class=\"status-subtitle\">Status: </span><span><strong>[[stateObj.attributes.status]]</strong></span>\n      </div>\n      <div hidden\\$=\"[[!supportsBattery(stateObj)]]\">\n        <span><iron-icon icon=\"[[stateObj.attributes.battery_icon]]\"></iron-icon> [[stateObj.attributes.battery_level]] %</span>\n      </div>\n    </div>\n    <div hidden\\$=\"[[!supportsCommandBar(stateObj)]]\">\n      <p></p>\n      <div class=\"status-subtitle\">Vacuum cleaner commands:</div>\n      <div class=\"horizontal justified layout\">\n        <div hidden\\$=\"[[!supportsPause(stateObj)]]\">\n          <paper-icon-button icon=\"hass:play-pause\" on-click=\"onPlayPause\" title=\"Start/Pause\"></paper-icon-button>\n        </div>\n        <div hidden\\$=\"[[!supportsStop(stateObj)]]\">\n          <paper-icon-button icon=\"hass:stop\" on-click=\"onStop\" title=\"Stop\"></paper-icon-button>\n        </div>\n        <div hidden\\$=\"[[!supportsCleanSpot(stateObj)]]\">\n        <paper-icon-button icon=\"hass:broom\" on-click=\"onCleanSpot\" title=\"Clean spot\"></paper-icon-button>\n        </div>\n        <div hidden\\$=\"[[!supportsLocate(stateObj)]]\">\n        <paper-icon-button icon=\"hass:map-marker\" on-click=\"onLocate\" title=\"Locate\"></paper-icon-button>\n        </div>\n        <div hidden\\$=\"[[!supportsReturnHome(stateObj)]]\">\n        <paper-icon-button icon=\"hass:home-map-marker\" on-click=\"onReturnHome\" title=\"Return home\"></paper-icon-button>\n        </div>\n      </div>\n    </div>\n\n    <div hidden\\$=\"[[!supportsFanSpeed(stateObj)]]\">\n      <div class=\"horizontal justified layout\">\n        <paper-dropdown-menu label-float=\"\" dynamic-align=\"\" label=\"Fan speed\">\n          <paper-listbox slot=\"dropdown-content\" selected=\"{{fanSpeedIndex}}\">\n            <template is=\"dom-repeat\" items=\"[[stateObj.attributes.fan_speed_list]]\">\n              <paper-item>[[item]]</paper-item>\n            </template>\n          </paper-listbox>\n        </paper-dropdown-menu>\n        <div style=\"justify-content: center; align-self: center; padding-top: 1.3em\">\n          <span><iron-icon icon=\"hass:fan\"></iron-icon> [[stateObj.attributes.fan_speed]]</span>\n        </div>\n      </div>\n      <p></p>\n    </div>\n    <ha-attributes state-obj=\"[[stateObj]]\" extra-filters=\"fan_speed,fan_speed_list,status,battery_level,battery_icon\"></ha-attributes>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      inDialog: {\n        type: Boolean,\n        value: false,\n      },\n\n      stateObj: {\n        type: Object,\n      },\n\n      fanSpeedIndex: {\n        type: Number,\n        value: -1,\n        observer: 'fanSpeedChanged',\n      },\n    };\n  }\n\n  /* eslint-disable no-bitwise */\n\n  supportsPause(stateObj) {\n    return (stateObj.attributes.supported_features & 4) !== 0;\n  }\n\n  supportsStop(stateObj) {\n    return (stateObj.attributes.supported_features & 8) !== 0;\n  }\n\n  supportsReturnHome(stateObj) {\n    return (stateObj.attributes.supported_features & 16) !== 0;\n  }\n\n  supportsFanSpeed(stateObj) {\n    return (stateObj.attributes.supported_features & 32) !== 0;\n  }\n\n  supportsBattery(stateObj) {\n    return (stateObj.attributes.supported_features & 64) !== 0;\n  }\n\n  supportsStatus(stateObj) {\n    return (stateObj.attributes.supported_features & 128) !== 0;\n  }\n\n  supportsLocate(stateObj) {\n    return (stateObj.attributes.supported_features & 512) !== 0;\n  }\n\n  supportsCleanSpot(stateObj) {\n    return (stateObj.attributes.supported_features & 1024) !== 0;\n  }\n\n  supportsCommandBar(stateObj) {\n    return (((stateObj.attributes.supported_features & 4) !== 0)\n            | ((stateObj.attributes.supported_features & 8) !== 0)\n            | ((stateObj.attributes.supported_features & 16) !== 0)\n            | ((stateObj.attributes.supported_features & 512) !== 0)\n            | ((stateObj.attributes.supported_features & 1024) !== 0));\n  }\n\n  /* eslint-enable no-bitwise */\n\n  fanSpeedChanged(fanSpeedIndex) {\n    var fanSpeedInput;\n    // Selected Option will transition to '' before transitioning to new value\n    if (fanSpeedIndex === '' || fanSpeedIndex === -1) return;\n\n    fanSpeedInput = this.stateObj.attributes.fan_speed_list[fanSpeedIndex];\n    if (fanSpeedInput === this.stateObj.attributes.fan_speed) return;\n\n    this.hass.callService('vacuum', 'set_fan_speed', {\n      entity_id: this.stateObj.entity_id,\n      fan_speed: fanSpeedInput,\n    });\n  }\n\n  onStop() {\n    this.hass.callService('vacuum', 'stop', {\n      entity_id: this.stateObj.entity_id\n    });\n  }\n\n  onPlayPause() {\n    this.hass.callService('vacuum', 'start_pause', {\n      entity_id: this.stateObj.entity_id\n    });\n  }\n\n  onLocate() {\n    this.hass.callService('vacuum', 'locate', {\n      entity_id: this.stateObj.entity_id\n    });\n  }\n\n  onCleanSpot() {\n    this.hass.callService('vacuum', 'clean_spot', {\n      entity_id: this.stateObj.entity_id\n    });\n  }\n\n  onReturnHome() {\n    this.hass.callService('vacuum', 'return_to_base', {\n      entity_id: this.stateObj.entity_id\n    });\n  }\n}\n\ncustomElements.define('more-info-vacuum', MoreInfoVacuum);\n","import '@polymer/iron-icon/iron-icon.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass MoreInfoWeather extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style>\n      iron-icon {\n        color: var(--paper-item-icon-color);\n      }\n      .section {\n        margin: 16px 0 8px 0;\n        font-size: 1.2em;\n      }\n\n      .flex {\n        display: flex;\n        height: 32px;\n        align-items: center;\n      }\n\n      .main {\n        flex: 1;\n        margin-left: 24px;\n      }\n\n      .temp,\n      .templow {\n        min-width: 48px;\n        text-align: right;\n      }\n\n      .templow {\n        margin: 0 16px;\n        color: var(--secondary-text-color);\n      }\n\n      .attribution {\n        color: var(--secondary-text-color);\n        text-align: center;\n      }\n    </style>\n\n    <div class=\"flex\">\n      <iron-icon icon=\"hass:thermometer\"></iron-icon>\n      <div class=\"main\">[[localize('ui.card.weather.attributes.temperature')]]</div>\n      <div>[[stateObj.attributes.temperature]] [[getUnit('temperature')]]</div>\n    </div>\n    <template is=\"dom-if\" if=\"[[stateObj.attributes.pressure]]\">\n      <div class=\"flex\">\n        <iron-icon icon=\"hass:gauge\"></iron-icon>\n        <div class=\"main\">[[localize('ui.card.weather.attributes.air_pressure')]]</div>\n        <div>[[stateObj.attributes.pressure]] hPa</div>\n      </div>\n    </template>\n    <template is=\"dom-if\" if=\"[[stateObj.attributes.humidity]]\">\n      <div class=\"flex\">\n        <iron-icon icon=\"hass:water-percent\"></iron-icon>\n        <div class=\"main\">[[localize('ui.card.weather.attributes.humidity')]]</div>\n        <div>[[stateObj.attributes.humidity]] %</div>\n      </div>\n    </template>\n    <template is=\"dom-if\" if=\"[[stateObj.attributes.wind_speed]]\">\n      <div class=\"flex\">\n        <iron-icon icon=\"hass:weather-windy\"></iron-icon>\n        <div class=\"main\">[[localize('ui.card.weather.attributes.wind_speed')]]</div>\n        <div>[[getWind(stateObj.attributes.wind_speed, stateObj.attributes.wind_bearing, localize)]]</div>\n      </div>\n    </template>\n    <template is=\"dom-if\" if=\"[[stateObj.attributes.visibility]]\">\n      <div class=\"flex\">\n        <iron-icon icon=\"hass:eye\"></iron-icon>\n        <div class=\"main\">[[localize('ui.card.weather.attributes.visibility')]]</div>\n        <div>[[stateObj.attributes.visibility]] [[getUnit('length')]]</div>\n      </div>\n    </template>\n\n    <template is=\"dom-if\" if=\"[[stateObj.attributes.forecast]]\">\n      <div class=\"section\">[[localize('ui.card.weather.forecast')]]:</div>\n      <template is=\"dom-repeat\" items=\"[[stateObj.attributes.forecast]]\">\n        <div class=\"flex\">\n          <template is=\"dom-if\" if=\"[[item.condition]]\">\n            <iron-icon icon=\"[[getWeatherIcon(item.condition)]]\"></iron-icon>\n          </template>\n          <div class=\"main\">[[computeDateTime(item.datetime)]]</div>\n          <template is=\"dom-if\" if=\"[[item.templow]]\">\n            <div class=\"templow\">[[item.templow]] [[getUnit('temperature')]]</div>\n          </template>\n          <div class=\"temp\">[[item.temperature]] [[getUnit('temperature')]]</div>\n        </div>\n      </template>\n    </template>\n\n    <template is=\"dom-if\" if=\"stateObj.attributes.attribution\">\n      <div class=\"attribution\">[[stateObj.attributes.attribution]]</div>\n    </template>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object\n    };\n  }\n\n  constructor() {\n    super();\n    this.cardinalDirections = [\n      'N', 'NNE', 'NE', 'ENE', 'E', 'ESE', 'SE', 'SSE',\n      'S', 'SSW', 'SW', 'WSW', 'W', 'WNW', 'NW', 'NNW', 'N'\n    ];\n    this.weatherIcons = {\n      'clear-night': 'hass:weather-night',\n      cloudy: 'hass:weather-cloudy',\n      fog: 'hass:weather-fog',\n      hail: 'hass:weather-hail',\n      lightning: 'mid:weather-lightning',\n      'lightning-rainy': 'hass:weather-lightning-rainy',\n      partlycloudy: 'hass:weather-partlycloudy',\n      pouring: 'hass:weather-pouring',\n      rainy: 'hass:weather-rainy',\n      snowy: 'hass:weather-snowy',\n      'snowy-rainy': 'hass:weather-snowy-rainy',\n      sunny: 'hass:weather-sunny',\n      windy: 'hass:weather-windy',\n      'windy-variant': 'hass:weather-windy-variant'\n    };\n  }\n\n  computeDateTime(data) {\n    const date = new Date(data);\n    const provider = this.stateObj.attributes.attribution;\n    if (provider === 'Powered by Dark Sky' || provider === 'Data provided by OpenWeatherMap') {\n      if (new Date().getDay() === date.getDay()) {\n        return date.toLocaleTimeString(\n          this.hass.selectedLanguage || this.hass.language,\n          { hour: 'numeric' }\n        );\n      }\n      return date.toLocaleDateString(\n        this.hass.selectedLanguage || this.hass.language,\n        { weekday: 'long', hour: 'numeric' }\n      );\n    }\n    return date.toLocaleDateString(\n      this.hass.selectedLanguage || this.hass.language,\n      { weekday: 'long', month: 'short', day: 'numeric' }\n    );\n  }\n\n  getUnit(unit) {\n    return this.hass.config.core.unit_system[unit] || '';\n  }\n\n  windBearingToText(degree) {\n    const degreenum = parseInt(degree);\n    if (isFinite(degreenum)) {\n      return this.cardinalDirections[(((degreenum + 11.25) / 22.5) | 0) % 16];\n    }\n    return degree;\n  }\n\n  getWind(speed, bearing, localize) {\n    if (bearing != null) {\n      const cardinalDirection = this.windBearingToText(bearing);\n      return `${speed} ${this.getUnit('length')}/h (${localize(`ui.card.weather.cardinal_direction.${cardinalDirection.toLowerCase()}`) || cardinalDirection})`;\n    }\n    return `${speed} ${this.getUnit('length')}/h`;\n  }\n\n  getWeatherIcon(condition) {\n    return this.weatherIcons[condition];\n  }\n}\n\ncustomElements.define('more-info-weather', MoreInfoWeather);\n","import { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport './more-info-alarm_control_panel.js';\nimport './more-info-automation.js';\nimport './more-info-camera.js';\nimport './more-info-climate.js';\nimport './more-info-configurator.js';\nimport './more-info-cover.js';\nimport './more-info-default.js';\nimport './more-info-fan.js';\nimport './more-info-group.js';\nimport './more-info-history_graph.js';\nimport './more-info-input_datetime.js';\nimport './more-info-light.js';\nimport './more-info-lock.js';\nimport './more-info-media_player.js';\nimport './more-info-script.js';\nimport './more-info-sun.js';\nimport './more-info-updater.js';\nimport './more-info-vacuum.js';\nimport './more-info-weather.js';\n\nimport stateMoreInfoType from '../../../common/entity/state_more_info_type.js';\nimport dynamicContentUpdater from '../../../common/dom/dynamic_content_updater.js';\n\nclass MoreInfoContent extends PolymerElement {\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object,\n    };\n  }\n\n  static get observers() {\n    return [\n      'stateObjChanged(stateObj, hass)',\n    ];\n  }\n\n  constructor() {\n    super();\n    this.style.display = 'block';\n  }\n\n  stateObjChanged(stateObj, hass) {\n    let moreInfoType;\n    if (!stateObj || !hass) {\n      if (this.lastChild) {\n        this._detachedChild = this.lastChild;\n        // Detach child to prevent it from doing work.\n        this.removeChild(this.lastChild);\n      }\n      return;\n    }\n    if (this._detachedChild) {\n      this.appendChild(this._detachedChild);\n      this._detachedChild = null;\n    }\n    if (stateObj.attributes && 'custom_ui_more_info' in stateObj.attributes) {\n      moreInfoType = stateObj.attributes.custom_ui_more_info;\n    } else {\n      moreInfoType = 'more-info-' + stateMoreInfoType(stateObj);\n    }\n    dynamicContentUpdater(\n      this, moreInfoType.toUpperCase(),\n      { hass: hass, stateObj: stateObj }\n    );\n  }\n}\n\ncustomElements.define('more-info-content', MoreInfoContent);\n","import '@polymer/app-layout/app-toolbar/app-toolbar.js';\nimport '@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../components/state-history-charts.js';\nimport '../../data/ha-state-history-data.js';\nimport '../../resources/ha-style.js';\nimport '../../state-summary/state-card-content.js';\n\nimport './controls/more-info-content.js';\n\nimport computeStateName from '../../common/entity/compute_state_name.js';\nimport computeStateDomain from '../../common/entity/compute_state_domain.js';\nimport isComponentLoaded from '../../common/config/is_component_loaded.js';\nimport { DOMAINS_MORE_INFO_NO_HISTORY } from '../../common/const.js';\nimport EventsMixin from '../../mixins/events-mixin.js';\n\nconst DOMAINS_NO_INFO = [\n  'camera',\n  'configurator',\n  'history_graph',\n];\n/*\n * @appliesMixin EventsMixin\n */\nclass MoreInfoControls extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n  <style include=\"ha-style-dialog\">\n    app-toolbar {\n      color: var(--more-info-header-color);\n      background-color: var(--more-info-header-background);\n    }\n\n    app-toolbar [main-title] {\n      @apply --ha-more-info-app-toolbar-title;\n    }\n\n    state-card-content {\n      display: block;\n      padding: 16px;\n    }\n\n    state-history-charts {\n      max-width: 100%;\n      margin-bottom: 16px;\n    }\n\n    @media all and (min-width: 451px) and (min-height: 501px) {\n      .main-title {\n        pointer-events: auto;\n        cursor: default;\n      }\n    }\n\n    :host([domain=camera]) paper-dialog-scrollable {\n      margin: 0 -24px -5px;\n    }\n  </style>\n\n  <app-toolbar>\n    <paper-icon-button icon=\"hass:close\" dialog-dismiss=\"\"></paper-icon-button>\n    <div class=\"main-title\" main-title=\"\" on-click=\"enlarge\">[[_computeStateName(stateObj)]]</div>\n    <template is=\"dom-if\" if=\"[[canConfigure]]\">\n      <paper-icon-button icon=\"hass:settings\" on-click=\"_gotoSettings\"></paper-icon-button>\n    </template>\n  </app-toolbar>\n\n  <template is=\"dom-if\" if=\"[[_computeShowStateInfo(stateObj)]]\" restamp=\"\">\n    <state-card-content state-obj=\"[[stateObj]]\" hass=\"[[hass]]\" in-dialog=\"\"></state-card-content>\n  </template>\n  <paper-dialog-scrollable dialog-element=\"[[dialogElement]]\">\n    <template is=\"dom-if\" if=\"[[_computeShowHistoryComponent(hass, stateObj)]]\" restamp=\"\">\n      <ha-state-history-data hass=\"[[hass]]\" filter-type=\"recent-entity\" entity-id=\"[[stateObj.entity_id]]\" data=\"{{_stateHistory}}\" is-loading=\"{{_stateHistoryLoading}}\" cache-config=\"[[_cacheConfig]]\"></ha-state-history-data>\n      <state-history-charts hass=\"[[hass]]\" history-data=\"[[_stateHistory]]\" is-loading-data=\"[[_stateHistoryLoading]]\" up-to-now no-single=\"[[large]]\"></state-history-charts>\n    </template>\n    <more-info-content state-obj=\"[[stateObj]]\" hass=\"[[hass]]\"></more-info-content>\n  </paper-dialog-scrollable>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n\n      stateObj: {\n        type: Object,\n        observer: '_stateObjChanged',\n      },\n\n      dialogElement: Object,\n      canConfigure: Boolean,\n\n      domain: {\n        type: String,\n        reflectToAttribute: true,\n        computed: '_computeDomain(stateObj)',\n      },\n\n      _stateHistory: Object,\n      _stateHistoryLoading: Boolean,\n\n      large: {\n        type: Boolean,\n        value: false,\n        notify: true,\n      },\n\n      _cacheConfig: {\n        type: Object,\n        value: {\n          refresh: 60,\n          cacheKey: null,\n          hoursToShow: 24,\n        },\n      },\n    };\n  }\n\n  enlarge() {\n    this.large = !this.large;\n  }\n\n  _computeShowStateInfo(stateObj) {\n    return !stateObj || !DOMAINS_NO_INFO.includes(computeStateDomain(stateObj));\n  }\n\n  _computeShowHistoryComponent(hass, stateObj) {\n    return hass && stateObj &&\n      isComponentLoaded(hass, 'history') &&\n      !DOMAINS_MORE_INFO_NO_HISTORY.includes(computeStateDomain(stateObj));\n  }\n\n  _computeDomain(stateObj) {\n    return stateObj ? computeStateDomain(stateObj) : '';\n  }\n\n  _computeStateName(stateObj) {\n    return stateObj ? computeStateName(stateObj) : '';\n  }\n\n  _stateObjChanged(newVal) {\n    if (!newVal) {\n      return;\n    }\n\n    if (this._cacheConfig.cacheKey !== `more_info.${newVal.entity_id}`) {\n      this._cacheConfig = Object.assign(\n        {}, this._cacheConfig,\n        { cacheKey: `more_info.${newVal.entity_id}` }\n      );\n    }\n  }\n\n  _gotoSettings() {\n    this.fire('more-info-page', { page: 'settings' });\n  }\n}\ncustomElements.define('more-info-controls', MoreInfoControls);\n","import '@polymer/app-layout/app-toolbar/app-toolbar.js';\nimport '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport '@polymer/paper-input/paper-input.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport EventsMixin from '../../mixins/events-mixin.js';\n\nimport computeStateName from '../../common/entity/compute_state_name.js';\nimport isComponentLoaded from '../../common/config/is_component_loaded.js';\n\n/*\n * @appliesMixin EventsMixin\n */\nclass MoreInfoSettings extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style>\n      app-toolbar {\n        color: var(--more-info-header-color);\n        background-color: var(--more-info-header-background);\n\n        /* to fit save button */\n        padding-right: 0;\n      }\n\n      app-toolbar [main-title] {\n        @apply --ha-more-info-app-toolbar-title;\n      }\n\n      app-toolbar paper-button {\n        font-size: .8em;\n        margin: 0;\n      }\n\n      .form {\n        padding: 0 24px 24px;\n      }\n    </style>\n\n    <app-toolbar>\n      <paper-icon-button icon=\"hass:arrow-left\" on-click=\"_backTapped\"></paper-icon-button>\n      <div main-title=\"\">[[_computeStateName(stateObj)]]</div>\n      <paper-button on-click=\"_save\">Save</paper-button>\n    </app-toolbar>\n\n    <div class=\"form\">\n      <paper-input value=\"{{_name}}\" label=\"Name\"></paper-input>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: Object,\n\n      _componentLoaded: {\n        type: Boolean,\n        computed: '_computeComponentLoaded(hass)'\n      },\n\n      registryInfo: {\n        type: Object,\n        observer: '_registryInfoChanged',\n        notify: true,\n      },\n\n      _name: String,\n    };\n  }\n\n  _computeStateName(stateObj) {\n    if (!stateObj) return '';\n    return computeStateName(stateObj);\n  }\n\n  _computeComponentLoaded(hass) {\n    return isComponentLoaded(hass, 'config.entity_registry');\n  }\n\n  _registryInfoChanged(newVal) {\n    if (newVal) {\n      this._name = newVal.name;\n    } else {\n      this._name = '';\n    }\n  }\n\n  _backTapped() {\n    this.fire('more-info-page', { page: null });\n  }\n\n  _save() {\n    const data = {\n      name: this._name,\n    };\n\n    this.hass.callApi('post', `config/entity_registry/${this.stateObj.entity_id}`, data)\n      .then(\n        (info) => { this.registryInfo = info; },\n        () => { alert('save failed!'); }\n      );\n  }\n}\ncustomElements.define('more-info-settings', MoreInfoSettings);\n","import '@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js';\nimport '@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../resources/ha-style.js';\n\nimport './more-info/more-info-controls.js';\nimport './more-info/more-info-settings.js';\n\nimport computeStateDomain from '../common/entity/compute_state_domain';\nimport isComponentLoaded from '../common/config/is_component_loaded.js';\n\nimport DialogMixin from '../mixins/dialog-mixin.js';\n\n/*\n * @appliesMixin DialogMixin\n */\nclass HaMoreInfoDialog extends DialogMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style include=\"ha-style-dialog paper-dialog-shared-styles\">\n      :host {\n        font-size: 14px;\n        width: 365px;\n        border-radius: 2px;\n      }\n\n      more-info-controls, more-info-settings {\n        --more-info-header-background: var(--secondary-background-color);\n        --more-info-header-color: var(--primary-text-color);\n        --ha-more-info-app-toolbar-title: {\n          /* Design guideline states 24px, changed to 16 to align with state info */\n          margin-left: 16px;\n          line-height: 1.3em;\n          max-height: 2.6em;\n          overflow: hidden;\n          /* webkit and blink still support simple multiline text-overflow */\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          text-overflow: ellipsis;\n        }\n      }\n\n      /* overrule the ha-style-dialog max-height on small screens */\n      @media all and (max-width: 450px), all and (max-height: 500px) {\n        more-info-controls, more-info-settings {\n          --more-info-header-background: var(--primary-color);\n          --more-info-header-color: var(--text-primary-color);\n        }\n        :host {\n          @apply(--ha-dialog-fullscreen);\n        }\n        :host::before {\n          content: \"\";\n          position: fixed;\n          z-index: -1;\n          top: 0px;\n          left: 0px;\n          right: 0px;\n          bottom: 0px;\n          background-color: inherit;\n        }\n      }\n\n      :host([data-domain=camera]) {\n        width: auto;\n      }\n\n      :host([data-domain=history_graph]), :host([large]) {\n        width: 90%;\n      }\n    </style>\n\n    <template is=\"dom-if\" if=\"[[!_page]]\">\n      <more-info-controls class=\"no-padding\" hass=\"[[hass]]\" state-obj=\"[[stateObj]]\" dialog-element=\"[[_dialogElement]]\" can-configure=\"[[_registryInfo]]\" large=\"{{large}}\"></more-info-controls>\n    </template>\n    <template is=\"dom-if\" if=\"[[_equals(_page, &quot;settings&quot;)]]\">\n      <more-info-settings class=\"no-padding\" hass=\"[[hass]]\" state-obj=\"[[stateObj]]\" registry-info=\"{{_registryInfo}}\"></more-info-settings>\n    </template>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      stateObj: {\n        type: Object,\n        computed: '_computeStateObj(hass)',\n        observer: '_stateObjChanged',\n      },\n\n      large: {\n        type: Boolean,\n        reflectToAttribute: true,\n        observer: '_largeChanged',\n      },\n\n      _dialogElement: Object,\n      _registryInfo: Object,\n\n      _page: {\n        type: String,\n        value: null,\n      },\n\n      dataDomain: {\n        computed: '_computeDomain(stateObj)',\n        reflectToAttribute: true\n      },\n    };\n  }\n\n  static get observers() { return ['_dialogOpenChanged(opened)']; }\n\n  ready() {\n    super.ready();\n    this._dialogElement = this;\n    this.addEventListener('more-info-page', (ev) => { this._page = ev.detail.page; });\n  }\n\n  _computeDomain(stateObj) {\n    return stateObj ? computeStateDomain(stateObj) : '';\n  }\n\n  _computeStateObj(hass) {\n    return hass.states[hass.moreInfoEntityId] || null;\n  }\n\n  _stateObjChanged(newVal, oldVal) {\n    if (!newVal) {\n      this.setProperties({\n        opened: false,\n        _page: null,\n        _registryInfo: null,\n        large: false,\n      });\n      return;\n    }\n\n    if (isComponentLoaded(this.hass, 'config.entity_registry') &&\n        (!oldVal || oldVal.entity_id !== newVal.entity_id)) {\n      this.hass.callApi('get', `config/entity_registry/${newVal.entity_id}`)\n        .then(\n          (info) => { this._registryInfo = info; },\n          () => { this._registryInfo = false; }\n        );\n    }\n\n    requestAnimationFrame(() => requestAnimationFrame(() => {\n      // allow dialog to render content before showing it so it will be\n      // positioned correctly.\n      this.opened = true;\n    }));\n  }\n\n  _dialogOpenChanged(newVal) {\n    if (!newVal && this.stateObj) {\n      this.fire('hass-more-info', { entityId: null });\n    }\n  }\n\n  _equals(a, b) {\n    return a === b;\n  }\n\n  _largeChanged() {\n    this.notifyResize();\n  }\n}\ncustomElements.define('ha-more-info-dialog', HaMoreInfoDialog);\n"],"sourceRoot":""}