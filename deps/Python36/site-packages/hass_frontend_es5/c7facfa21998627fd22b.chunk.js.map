{"version":3,"sources":["webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker-overlay-styles.js","webpack:///./node_modules/@vaadin/vaadin-button/theme/lumo/vaadin-button-styles.js","webpack:///./node_modules/@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js","webpack:///./node_modules/@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js","webpack:///./node_modules/@vaadin/vaadin-element-mixin/vaadin-element-mixin.js","webpack:///./node_modules/@vaadin/vaadin-button/src/vaadin-button.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker-overlay-content-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-month-calendar-styles.js","webpack:///./node_modules/@vaadin/vaadin-lumo-styles/mixins/field-button.js","webpack:///./node_modules/@vaadin/vaadin-text-field/theme/lumo/vaadin-text-field-styles.js","webpack:///./node_modules/@vaadin/vaadin-text-field/src/vaadin-text-field-mixin.js","webpack:///./node_modules/@vaadin/vaadin-text-field/src/vaadin-text-field.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/theme/lumo/vaadin-date-picker-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-overlay.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-helper.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-month-calendar.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-infinite-scroller.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-styles.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-overlay-content.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker-mixin.js","webpack:///./node_modules/@vaadin/vaadin-date-picker/src/vaadin-date-picker.js"],"names":["$_documentContainer","document","createElement","setAttribute","innerHTML","head","appendChild","content","vaadin_button_styles_$_documentContainer","ControlStateMixin","superClass","_TabIndexMixin","VaadinControlStateMixin","_classCallCheck","this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","apply","arguments","_inherits","_superClass","VaadinTabIndexMixin","_createClass","key","get","properties","tabindex","type","Number","value","reflectToAttribute","observer","window","ShadyDOM","tabIndex","TabIndexMixin","_this3","addEventListener","e","composedPath","_focus","indexOf","focusElement","disabled","_setFocused","_get","prototype","call","defaultPrevented","shiftKey","keyCode","_isShiftTabbing","HTMLElement","focus","setTimeout","autofocus","focused","requestAnimationFrame","_boundKeydownListener","_bodyKeydownListener","bind","_boundKeyupListener","_bodyKeyupListener","body","removeEventListener","hasAttribute","removeAttribute","_tabPressed","blur","_previousTabIndex","setProperties","console","warn","localName","Boolean","dom_module","__webpack_require__","vaadin_development_mode_detector_$_documentContainer","version","Polymer","useHtmlImports","Vaadin","developmentMode","localStorage","getItem","location","hostname","getHtmlImports","scope","htmlImports","imports","querySelectorAll","forEach","link","href","push","import","filter","ending","string","lastIndexOf","length","Array","from","script","src","Flow","clients","keys","map","client","productionMode","loadAndRun","id","optionalArgument","path","a","assetpath","slice","prepareJsPath","querySelector","async","onreadystatechange","onload","__dynamicImportLoaded","developmentModeCallback","callback","onerror","parentNode","removeChild","dispatchEvent","Event","runIfDevelopmentMode","strings","raw","ElementMixin","VaadinElementMixin","instance","Constructor","TypeError","subClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","html_tag","gestures","vaadin_button_createClass","defineProperties","target","props","i","descriptor","defineProperty","protoProps","staticProps","vaadin_button_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getter","_templateObject","freeze","vaadin_button_ButtonElement","vaadin_themable_mixin","gesture_event_listeners","polymer_element","ButtonElement","$","button","_addActiveListeners","_this2","addListener","customElements","define","is","vaadin_date_picker_overlay_content_styles_$_documentContainer","vaadin_month_calendar_styles_$_documentContainer","field_button_$_documentContainer","vaadin_text_field_styles_$_documentContainer","vaadin_text_field_mixin_$_documentContainer","vaadin_text_field_createClass","vaadin_text_field_templateObject","vaadin_text_field_TextFieldElement","TextFieldMixin","subclass","_ControlStateMixin","VaadinTextFieldMixin","vaadin_text_field_mixin_createClass","preventInvalidInput","input","checkValidity","changeEvent","CustomEvent","detail","sourceEvent","bubbles","cancelable","newVal","oldVal","invalid","validate","label","required","pattern","maxlength","minlength","vaadin_text_field_mixin_get","ShadyCSS","nativeCss","updateStyles","uniqueId","_uniqueId","_errorId","_labelId","navigator","userAgent","match","_addIEListeners","prevent","stopImmediatePropagation","shouldPreventInput","placeholder","_createPropertyObserver","errorMessage","errorId","labelId","_getActiveErrorId","toString","prop","test","root","el","style","autocomplete","String","autocorrect","autocapitalize","name","readonly","notify","vaadin_text_field_mixin_TextFieldMixin","TextFieldElement","list","title","vaadin_date_picker_styles_$_documentContainer","DatePickerOverlayElement","vaadin_overlay","vaadin_date_picker_overlay_createClass","DatePickerHelper","VaadinDatePickerHelper","vaadin_date_picker_helper_createClass","date","dayOfWeek","getDay","nearestThursdayDiff","nearestThursday","Date","getTime","firstOfJanuary","setFullYear","getFullYear","timeDiff","daysSinceFirstOfJanuary","Math","round","floor","date1","date2","getMonth","getDate","min","max","dates","reduce","closestDate","candidate","abs","day","month","year","vaadin_month_calendar_MonthCalendarElement","vaadin_month_calendar_createClass","MonthCalendarElement","_dateEquals","_dateAllowed","minDate","maxDate","firstDate","setMonth","setDate","lastDate","monthNames","i18n","formatTitle","_notTapping","delta","weekDayNames","firstDayOfWeek","concat","weekDayNamesShort","showWeekNumbers","_applyFirstDayOfWeek","index","weekDay","weekDayShort","_dateAdd","days","startMonth","targetMonth","acc","d","_getISOWeekNumber","_getWeekNumber","week","arr","ignoreTaps","selectedDate","composed","preventDefault","ariaLabel","_getDate","weekdays","_isToday","today","vaadin_month_calendar_templateObject","focusedDate","_days","computed","vaadin_infinite_scroller_InfiniteScrollerElement","vaadin_infinite_scroller_createClass","InfiniteScrollerElement","_buffers","fullHeight","height","_initialScroll","tpl","_TemplateClass","templatize","c","forwardHostProp","buffer","children","insertionPoint","_itemWrapper","toLowerCase","scroller","active","_initialized","_createPool","_initDone","_ensureStampedInstance","translateY","_reset","up","_bufferHeight","transform","updated","reverse","_scrollDisabled","scrollTop","_initialIndex","position","bufferOffset","offsetTop","upperThresholdReached","itemHeight","lowerThresholdReached","_translateBuffer","_updateClones","_preventScrollEvent","_mayHaveMomentum","_debouncerScrollFinish","debounce","utils_async","timeOut","after","scrollerRect","getBoundingClientRect","_isVisible","_this4","_debouncerUpdateClones","_this5","container","_loop","itemWrapper","slotName","_contentIndex","polymer_dom","bufferSize","render_status","afterNextRender","_finishInit","firstElementChild","tmpInstance","set","viewPortOnly","_this6","_firstIndex","bufferIndex","firstIndex","element","rect","bottom","top","_this7","classList","add","remove","_itemHeightVal","getComputedStyleValue","getComputedStyle","getPropertyValue","setProperty","itemHeightPx","removeProperty","parseFloat","vaadin_infinite_scroller_templateObject","src_vaadin_date_picker_styles_$_documentContainer","vaadin_date_picker_overlay_content_DatePickerOverlayContentElement","vaadin_date_picker_overlay_content_createClass","DatePickerOverlayContentElement","vaadin_date_picker_overlay_content_get","_onKeydown","_stopPropagation","_onOverlayFocus","_onOverlayBlur","_closeYearScroller","_toggleAnimateClass","setTouchAction","scrollers","iron_a11y_announcer","requestAvailability","_currentlyFocusedDate","announce","text","join","cancelButton","animate","_scrollToPosition","_differenceInMonths","_originDate","revealDate","yearsFromNow","diff","scrolledAboveViewport","monthScroller","visibleItems","clientHeight","scrolledBelowViewport","_focused","initialPosition","scrollToDate","_visibleMonthIndex","yearScroller","_repositionYearScroller","_doIgnoreTaps","_repositionMonthScroller","_ignoreTaps","_debouncer","formatDate","_extractDateParts","_close","_scrollToCurrentMonth","yearDelta","y","targetPosition","_targetPosition","duration","start","smoothScroll","timestamp","t","b","currentTime","currentPos","oldPosition","range","dx","ddy","ddx","_yearScrollerWidth","newTranslateX","_translateX","_limit","_desktopMode","state","_handleTrack","_openYearScroller","enable","_isYearScrollerVisible","x","result","parseInt","months","_dateAfterXMonths","overlayContent","getRootNode","host","overlay","opened","k","iron_a11y_keys_behavior","keyboardEventMatchesKeys","isToday","todayButton","isCancel","isScroller","eventKey","_eventKey","stopPropagation","isFullscreen","isShift","_moveFocusByDays","_onTodayTap","_moveFocusInsideMonth","_moveFocusByMonths","_cancel","dateToFocus","_focusedMonthDate","_getClosestDate","todayMidnight","vaadin_date_picker_overlay_content_templateObject","vaadin_date_picker_createClass","vaadin_date_picker_templateObject","vaadin_date_picker_DatePickerElement","_mixinBehaviors","VaadinDatePickerMixin","legacy_class","iron_resizable_behavior","vaadin_date_picker_mixin_createClass","vaadin_date_picker_mixin_get","_overlayContent","_boundOnScroll","_onScroll","_boundFocus","open","_preventDefault","_focusAndSelect","_onUserInput","_noInput","close","str","parts","exec","_inputElement","_fullscreen","parseDate","_ios","getTimezoneOffset","toISOString","split","_updateAlignmentAndPosition","_formatISO","_focusedDate","_inputValue","_ignoreFocusedDateChange","oldValue","_parseDate","_handleDateChange","bottomAlign","innerHeight","rightAlign","left","clientWidth","innerWidth","viewportHeight","documentElement","viewportWidth","inputRect","right","_openedWithFocusRing","parsedInitialPosition","_selectedDate","_minDate","_maxDate","listen","webkitOverflowScrolling","_touchPrevented","_preventWebkitOverflowScrollingTouch","parentElement","_focusOverlayOnOpen","_ignoreAnnounce","oldInlineValue","unlisten","prevented","inputValue","dateObject","parsedDate","_isValidDate","_nativeInput","selectionStart","selectionEnd","inputValid","minMaxValid","inputValidity","contains","_setSelectionRange","setSelectionRange","isNaN","focusCancel","_userInputValueChanged","announceFocusedDate","_input","inputElement","unwrap","_fullscreenMediaQuery","weekdaysShort","calendar","clear","cancel","yearStr","replace","substr","monthName","fullYear","DatePickerElement","_onVaadinOverlayClose","_clear","_userInputValue"],"mappings":"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","file":"c7facfa21998627fd22b.chunk.js","sourcesContent":["import '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/mixins/menu-overlay.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-date-picker-overlay\" theme-for=\"vaadin-date-picker-overlay\">\n  <template>\n    <style include=\"lumo-menu-overlay\">\n      [part=\"overlay\"] {\n        /*\n        Width:\n            date cell widths\n          + month calendar side padding\n          + year scroller width\n        */\n        width:\n          calc(\n              var(--lumo-size-m) * 7\n            + var(--lumo-space-xs) * 2\n            + 57px\n          );\n        height: 100%;\n        max-height: calc(var(--lumo-size-m) * 14);\n        overflow: hidden;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      [part=\"content\"] {\n        padding: 0;\n        height: 100%;\n        overflow: hidden;\n        -webkit-mask-image: none;\n        mask-image: none;\n      }\n\n      @media (max-width: 420px), (max-height: 420px) {\n        [part=\"overlay\"] {\n          width: 100vw;\n          height: 70vh;\n          max-height: 70vh;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-button\" theme-for=\"vaadin-button\">\n  <template>\n    <style include=\"lumo-button-sizing lumo-button-style lumo-button-states lumo-button-types lumo-button-colors lumo-button-icons\">\n      /* This needs to be the last selector for it to take priority */\n      :host([disabled][disabled]) {\n        pointer-events: none;\n        color: var(--lumo-disabled-text-color);\n        background-color: var(--lumo-contrast-5pct);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-button-sizing\">\n  <template>\n    <style>\n      :host {\n        --lumo-button-size: var(--lumo-size-m);\n        min-width: calc(var(--lumo-button-size) * 2);\n        height: var(--lumo-button-size);\n        padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius) / 2);\n        margin: var(--lumo-space-xs) 0;\n        box-sizing: border-box;\n      }\n\n      [part=\"label\"] {\n        padding: calc(var(--lumo-button-size) / 6) 0;\n      }\n\n      :host([theme~=\"small\"]) {\n        font-size: var(--lumo-font-size-s);\n        --lumo-button-size: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"large\"]) {\n        font-size: var(--lumo-font-size-l);\n        --lumo-button-size: var(--lumo-size-l);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-button-style\">\n  <template>\n    <style>\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size-m);\n        font-weight: 500;\n        color: var(--lumo-primary-text-color);\n        background-color: var(--lumo-contrast-5pct);\n        border-radius: var(--lumo-border-radius);\n        cursor: default;\n        -webkit-tap-highlight-color: transparent;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Set only for the internal parts so we don’t affect the host vertical alignment */\n      [part=\"label\"],\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        line-height: var(--lumo-line-height-xs);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-button-states\">\n  <template>\n    <style>\n      :host::before,\n      :host::after {\n        content: \"\";\n        /* We rely on the host always being relative */\n        position: absolute;\n        z-index: 1;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: currentColor;\n        border-radius: inherit;\n        opacity: 0;\n        transition: opacity 0.2s;\n        pointer-events: none;\n      }\n\n      /* Hover */\n\n      :host(:hover)::before {\n        opacity: 0.05;\n      }\n\n      /* Disable for touch devices */\n      @media (pointer: coarse) {\n        :host(:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      /* Active */\n\n      :host::after {\n        transition: opacity 1.4s, transform 0.1s;\n        filter: blur(8px);\n      }\n\n      :host([active])::before {\n        opacity: 0.1;\n        transition-duration: 0s;\n      }\n\n      :host([active])::after {\n        opacity: 0.1;\n        transition-duration: 0s, 0s;\n        transform: scale(0);\n      }\n\n      /* Keyboard focus */\n\n      :host([focus-ring]) {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-button-types\">\n  <template>\n    <style>\n      /* Tertiary */\n\n      :host([theme~=\"tertiary\"]),\n      :host([theme~=\"tertiary-inline\"]) {\n        background-color: transparent !important;\n        transition: opacity 0.2s;\n        min-width: 0;\n      }\n\n      :host([theme~=\"tertiary\"])::before,\n      :host([theme~=\"tertiary-inline\"])::before {\n        display: none;\n      }\n\n      :host([theme~=\"tertiary\"]) {\n        padding: 0 calc(var(--lumo-button-size) / 6);\n      }\n\n      @media (hover: hover) {\n        :host([theme*=\"tertiary\"]:not([active]):hover) {\n          opacity: 0.8;\n        }\n      }\n\n      :host([theme~=\"tertiary\"][active]),\n      :host([theme~=\"tertiary-inline\"][active]) {\n        opacity: 0.5;\n        transition-duration: 0s;\n      }\n\n      /* Tertiary inline (\"text button\") */\n\n      :host([theme~=\"tertiary-inline\"]) {\n        margin: 0;\n        height: auto;\n        padding: 0;\n        line-height: inherit;\n        font-size: inherit;\n      }\n\n      :host([theme~=\"tertiary-inline\"]) [part=\"label\"] {\n        padding: 0;\n        line-height: inherit;\n      }\n\n      /* Primary */\n\n      :host([theme~=\"primary\"]) {\n        background-color: var(--lumo-primary-color);\n        color: var(--lumo-primary-contrast-color);\n        font-weight: 600;\n        min-width: calc(var(--lumo-button-size) * 2.5);\n      }\n\n      :host([theme~=\"primary\"]:hover)::before {\n        opacity: 0.1;\n      }\n\n      :host([theme~=\"primary\"][active])::before {\n        background-color: var(--lumo-shade-20pct);\n      }\n\n      @media (pointer: coarse) {\n        :host([theme~=\"primary\"][active])::before {\n          background-color: var(--lumo-shade-60pct);\n        }\n\n        :host([theme~=\"primary\"]:not([active]):hover)::before {\n          opacity: 0;\n        }\n      }\n\n      :host([theme~=\"primary\"][active])::after {\n        opacity: 0.2;\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-button-colors\">\n  <template>\n    <style>\n      :host([theme~=\"success\"]) {\n        color: var(--lumo-success-text-color);\n      }\n\n      :host([theme~=\"success\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-success-color);\n        color: var(--lumo-success-contrast-color);\n      }\n\n      :host([theme~=\"error\"]) {\n        color: var(--lumo-error-text-color);\n      }\n\n      :host([theme~=\"error\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-error-color);\n        color: var(--lumo-error-contrast-color);\n      }\n\n      :host([theme~=\"contrast\"]) {\n        color: var(--lumo-contrast);\n      }\n\n      :host([theme~=\"contrast\"][theme~=\"primary\"]) {\n        background-color: var(--lumo-contrast);\n        color: var(--lumo-base-color);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id=\"lumo-button-icons\">\n  <template>\n    <style>\n      [part] ::slotted(iron-icon) {\n        display: inline-block;\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n\n      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */\n      [part] ::slotted(iron-icon[icon^=\"vaadin:\"]) {\n        padding: 0.25em;\n        box-sizing: border-box !important;\n      }\n\n      [part=\"prefix\"] {\n        margin-left: -0.25em;\n        margin-right: 0.25em;\n      }\n\n      [part=\"suffix\"] {\n        margin-left: 0.25em;\n        margin-right: -0.25em;\n      }\n\n      /* Icon-only */\n\n      :host([theme~=\"icon\"]) {\n        min-width: var(--lumo-button-size);\n        padding-left: calc(var(--lumo-button-size) / 4);\n        padding-right: calc(var(--lumo-button-size) / 4);\n      }\n\n      :host([theme~=\"icon\"]) [part=\"prefix\"],\n      :host([theme~=\"icon\"]) [part=\"suffix\"] {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\n/**\n * A private mixin to avoid problems with dynamic properties and Polymer Analyzer.\n * No need to expose these properties in the API docs.\n * @polymerMixin\n */\nconst TabIndexMixin = superClass => class VaadinTabIndexMixin extends superClass {\n  static get properties() {\n    var properties = {\n      /**\n       * Internal property needed to listen to `tabindex` attribute changes.\n       *\n       * For changing the tabindex of this component use the native `tabIndex` property.\n       * @private\n       */\n      tabindex: {\n        type: Number,\n        value: 0,\n        reflectToAttribute: true,\n        observer: '_tabindexChanged'\n      }\n    };\n\n    if (window.ShadyDOM) {\n      // ShadyDOM browsers need the `tabIndex` in order to notify when the user changes it programmatically.\n      properties['tabIndex'] = properties.tabindex;\n    }\n\n    return properties;\n  }\n};\n\n/**\n * Polymer.IronControlState is not a proper 2.0 class, also, its tabindex\n * implementation fails in the shadow dom, so we have this for vaadin elements.\n * @polymerMixin\n */\nexport const ControlStateMixin = superClass => class VaadinControlStateMixin extends TabIndexMixin(superClass) {\n  static get properties() {\n    return {\n      /**\n       * Specify that this control should have input focus when the page loads.\n       */\n      autofocus: {\n        type: Boolean\n      },\n\n      /**\n       * Stores the previous value of tabindex attribute of the disabled element\n       */\n      _previousTabIndex: {\n        type: Number\n      },\n\n      /**\n       * If true, the user cannot interact with this element.\n       */\n      disabled: {\n        type: Boolean,\n        observer: '_disabledChanged',\n        reflectToAttribute: true\n      },\n\n      _isShiftTabbing: {\n        type: Boolean\n      }\n    };\n  }\n\n  ready() {\n    this.addEventListener('focusin', e => {\n      if (e.composedPath()[0] === this) {\n        this._focus(e);\n      } else if (e.composedPath().indexOf(this.focusElement) !== -1 && !this.disabled) {\n        this._setFocused(true);\n      }\n    });\n    this.addEventListener('focusout', e => this._setFocused(false));\n\n    // In super.ready() other 'focusin' and 'focusout' listeners might be\n    // added, so we call it after our own ones to ensure they execute first.\n    // Issue to watch out: when incorrect, <vaadin-combo-box> refocuses the\n    // input field on iOS after “Done” is pressed.\n    super.ready();\n\n    this.addEventListener('keydown', e => {\n      if (!e.defaultPrevented && e.shiftKey && e.keyCode === 9) {\n        // Flag is checked in _focus event handler.\n        this._isShiftTabbing = true;\n        HTMLElement.prototype.focus.apply(this);\n        this._setFocused(false);\n        // Event handling in IE is asynchronous and the flag is removed asynchronously as well\n        setTimeout(() => this._isShiftTabbing = false, 0);\n      }\n    });\n\n    if (this.autofocus && !this.focused && !this.disabled) {\n      window.requestAnimationFrame(() => {\n        this._focus();\n        this._setFocused(true);\n        this.setAttribute('focus-ring', '');\n      });\n    }\n\n    this._boundKeydownListener = this._bodyKeydownListener.bind(this);\n    this._boundKeyupListener = this._bodyKeyupListener.bind(this);\n  }\n\n  /**\n   * @protected\n   */\n  connectedCallback() {\n    super.connectedCallback();\n\n    document.body.addEventListener('keydown', this._boundKeydownListener, true);\n    document.body.addEventListener('keyup', this._boundKeyupListener, true);\n  }\n\n  /**\n   * @protected\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    document.body.removeEventListener('keydown', this._boundKeydownListener, true);\n    document.body.removeEventListener('keyup', this._boundKeyupListener, true);\n\n    // in non-Chrome browsers, blur does not fire on the element when it is disconnected.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n    if (this.hasAttribute('focused')) {\n      this._setFocused(false);\n    }\n  }\n\n  _setFocused(focused) {\n    if (focused) {\n      this.setAttribute('focused', '');\n    } else {\n      this.removeAttribute('focused');\n    }\n\n    // focus-ring is true when the element was focused from the keyboard.\n    // Focus Ring [A11ycasts]: https://youtu.be/ilj2P5-5CjI\n    if (focused && this._tabPressed) {\n      this.setAttribute('focus-ring', '');\n    } else {\n      this.removeAttribute('focus-ring');\n    }\n  }\n\n  _bodyKeydownListener(e) {\n    this._tabPressed = e.keyCode === 9;\n  }\n\n  _bodyKeyupListener() {\n    this._tabPressed = false;\n  }\n\n  /**\n   * Any element extending this mixin is required to implement this getter.\n   * It returns the actual focusable element in the component.\n   */\n  get focusElement() {\n    window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`);\n    return this;\n  }\n\n  _focus(e) {\n    if (this._isShiftTabbing) {\n      return;\n    }\n\n    this.focusElement.focus();\n    this._setFocused(true);\n  }\n\n  /**\n   * Moving the focus from the host element causes firing of the blur event what leads to problems in IE.\n   * @private\n   */\n  focus() {\n    if (this.disabled) {\n      return;\n    }\n\n    this.focusElement.focus();\n    this._setFocused(true);\n  }\n\n  /**\n   * Native bluring in the host element does nothing because it does not have the focus.\n   * In chrome it works, but not in FF.\n   * @private\n   */\n  blur() {\n    this.focusElement.blur();\n    this._setFocused(false);\n  }\n\n  _disabledChanged(disabled) {\n    this.focusElement.disabled = disabled;\n    if (disabled) {\n      this.blur();\n      this._previousTabIndex = this.tabindex;\n      this.tabindex = -1;\n      this.setAttribute('aria-disabled', 'true');\n    } else {\n      if (typeof this._previousTabIndex !== 'undefined') {\n        this.tabindex = this._previousTabIndex;\n      }\n      this.removeAttribute('aria-disabled');\n    }\n  }\n\n  _tabindexChanged(tabindex) {\n    if (tabindex !== undefined) {\n      this.focusElement.tabIndex = tabindex;\n    }\n\n    if (this.disabled && this.tabindex) {\n      // If tabindex attribute was changed while checkbox was disabled\n      if (this.tabindex !== -1) {\n        this._previousTabIndex = this.tabindex;\n      }\n      this.tabindex = tabindex = undefined;\n    }\n\n    if (window.ShadyDOM) {\n      this.setProperties({tabIndex: tabindex, tabindex: tabindex});\n    }\n  }\n};\n","import { DomModule } from '@polymer/polymer/lib/elements/dom-module.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-development-mode-probe\">\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\nconst version = window['Polymer'] && window['Polymer'].version;\n\nconst useHtmlImports = version && version.indexOf('2') === 0;\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\nfunction isLocalhost() {\n  return ([\"localhost\",\"127.0.0.1\"].indexOf(window.location.hostname) >= 0);\n}\nfunction endsWith(string, ending) {\n  return string.lastIndexOf(ending) == string.length-ending.length;\n}\nfunction getHtmlImports(scope, htmlImports) {\n  if (scope) {\n    const imports = [...scope.querySelectorAll(\"link[rel=import]\")];\n    imports.forEach(function(link) {\n      if (htmlImports.indexOf(link.href) == -1) {\n        htmlImports.push(link.href);\n        getHtmlImports(link.import, htmlImports)\n      }\n    });\n  }\n  return htmlImports;\n}\n\nfunction isUnbundled() {\n  if (useHtmlImports) {\n    // If the app is bundled, then polymer.html should be included in some bundle and not in `polymer/polymer.html`\n    const htmlImports = getHtmlImports(document, []);\n    return htmlImports.filter(function(href) { return endsWith(href, \"polymer/polymer-element.html\")}).length > 0;\n  } else {\n    const scripts = Array.from(document.querySelectorAll(\"script\"));\n    // TODO(web-padawan): this is not expected to work for applications using native ES modules,\n    // since the index.html is unlikely to contain any direct imports of Vaadin components.\n    // It works with the AMD transform of CLI, as the <script> tags are being added to <head>.\n    return scripts.filter(script => script.src.indexOf(\"@vaadin\") > -1).length > 0;\n  }\n}\n\nfunction isFlowProductionMode() {\n  if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n    const productionModeApps = Object.keys(window.Vaadin.Flow.clients)\n    .map(key => window.Vaadin.Flow.clients[key])\n    .filter(client => client.productionMode);\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nif (!window.Vaadin) {\n  window['Vaadin'] = {};\n}\nif (typeof window.Vaadin.developmentMode === \"undefined\") {\n  try {\n    window.Vaadin.developmentMode = isForcedDevelopmentMode() || (isLocalhost() && isUnbundled() && !isFlowProductionMode());\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    window.Vaadin.developmentMode = false;\n  }\n\n  const getAssetpath = function () {\n    return DomModule.import(\"vaadin-development-mode-probe\").assetpath;\n  }\n\n  const prepareJsPath = function (id) {\n    const scope = '@vaadin';\n    let path = getAssetpath();\n    return path.slice(0, path.indexOf(scope) + scope.length) + \"/\" + id + \"/\" + id + \".js\";\n  }\n\n  const runCallback = function(id, optionalArgument) {\n    if (window.Vaadin && window.Vaadin.developmentModeCallback) {\n      const callback = window.Vaadin.developmentModeCallback[id];\n      if (callback) {\n        callback(optionalArgument);\n      }\n    }\n  }\n\n  const loadAndRun = function(id, optionalArgument) {\n    let path = prepareJsPath(id);\n    let script = document.body.querySelector(\"script[src='\" + path + \"'][async]\");\n\n    if (!script) {\n      script = document.createElement(\"script\");\n      script.setAttribute(\"src\", path);\n      script.async = true;\n\n      script.onreadystatechange = script.onload = function() {\n        script.__dynamicImportLoaded = true;\n        runCallback(id, optionalArgument);\n      }\n\n      script.onerror = function() {\n        // In case of an error, remove the script from the document so that it\n        // will be automatically created again the next time\n        if (script.parentNode) {\n          script.parentNode.removeChild(script);\n        }\n      }\n    }\n\n    if (script.parentNode == null) {\n      document.body.appendChild(script);\n      // if the script already loaded, dispatch a fake load event\n      // so that listeners are called and get a proper event argument.\n    } else if (script.__dynamicImportLoaded) {\n      script.dispatchEvent(new Event('load'));\n    }\n  }\n\n  window.Vaadin.runIfDevelopmentMode = function(id, optionalArgument) {\n    // Imports a HTML file named \"id\"/id\".html and\n    // triggers a callback defined in window.Vaadin.developmentModeCallback (if present)\n    // with the given (optional) argument\n    if (!window.Vaadin.developmentMode) {\n      return;\n    }\n\n    loadAndRun(id, optionalArgument);\n  }\n}\n","import '@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js';\n\n/**\n * @polymerMixin\n */\nexport const ElementMixin = superClass => {\n  try {\n    return class VaadinElementMixin extends superClass {\n    };\n  } finally {\n    // This is run every time a new class is declared, not every time an instance is created\n    if (window.Vaadin.runIfDevelopmentMode) {\n      window.Vaadin.runIfDevelopmentMode('vaadin-usage-statistics');\n    }\n  }\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { ControlStateMixin } from '@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js';\nimport { ElementMixin } from '@vaadin/vaadin-element-mixin/vaadin-element-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { addListener } from '@polymer/polymer/lib/utils/gestures.js';\n/**\n * `<vaadin-button>` is a Polymer 2 element providing an accessible and customizable button.\n *\n * ```html\n * <vaadin-button>\n * </vaadin-button>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are exposed for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `label` | The label (text) inside the button\n * `prefix` | A slot for e.g. an icon before the label\n * `suffix` | A slot for e.g. an icon after the label\n *\n *\n * The following attributes are exposed for styling:\n *\n * Attribute | Description\n * --------- | -----------\n * `active` | Set when the button is pressed down, either with mouse, touch or the keyboard.\n * `disabled` | Set when the button is disabled.\n * `focus-ring` | Set when the button is focused using the keyboard.\n * `focused` | Set when the button is focused.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\nclass ButtonElement extends\n  ElementMixin(\n    ControlStateMixin(\n      ThemableMixin(\n        GestureEventListeners(PolymerElement)))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        outline: none;\n        white-space: nowrap;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      /* Ensure the button is always aligned on the baseline */\n      .vaadin-button-container::before {\n        content: \"\\\\2003\";\n        display: inline-block;\n        width: 0;\n      }\n\n      .vaadin-button-container {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        width: 100%;\n        height: 100%;\n        min-height: inherit;\n        text-shadow: inherit;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      [part=\"prefix\"],\n      [part=\"suffix\"] {\n        flex: none;\n      }\n\n      [part=\"label\"] {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n\n      #button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: inherit;\n      }\n    </style>\n    <div class=\"vaadin-button-container\">\n      <div part=\"prefix\">\n        <slot name=\"prefix\"></slot>\n      </div>\n      <div part=\"label\">\n        <slot></slot>\n      </div>\n      <div part=\"suffix\">\n        <slot name=\"suffix\"></slot>\n      </div>\n    </div>\n    <button id=\"button\" type=\"button\"></button>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-button';\n  }\n\n  static get version() {\n    return '2.0.0-pre.3';\n  }\n\n  ready() {\n    super.ready();\n\n    // Leaving default role in the native button, makes navigation announcement\n    // being different when using focus navigation (tab) versus using normal\n    // navigation (arrows). The first way announces the label on a button\n    // since the focus is moved programmatically, and the second on a group.\n    this.setAttribute('role', 'button');\n    this.$.button.setAttribute('role', 'presentation');\n\n    this._addActiveListeners();\n  }\n\n  /**\n   * @protected\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    // `active` state is preserved when the element is disconnected between keydown and keyup events.\n    // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n    if (this.hasAttribute('active')) {\n      this.removeAttribute('active');\n    }\n  }\n\n  _addActiveListeners() {\n    addListener(this, 'down', () => !this.disabled && this.setAttribute('active', ''));\n    addListener(this, 'up', () => this.removeAttribute('active'));\n    this.addEventListener('keydown', e => !this.disabled && [13, 32].indexOf(e.keyCode) >= 0 && this.setAttribute('active', ''));\n    this.addEventListener('keyup', () => this.removeAttribute('active'));\n    this.addEventListener('blur', () => this.removeAttribute('active'));\n  }\n\n  get focusElement() {\n    return this.$.button;\n  }\n}\n\ncustomElements.define(ButtonElement.is, ButtonElement);\n\nexport { ButtonElement };\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport '@vaadin/vaadin-button/theme/lumo/vaadin-button.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-date-picker-overlay-content\" theme-for=\"vaadin-date-picker-overlay-content\">\n  <template>\n    <style>\n      :host {\n        position: relative;\n        background-color: transparent;\n        /* Background for the year scroller, placed here as we are using a mask image on the actual years part */\n        background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));\n        background-size: 57px 100%;\n        background-position: top right;\n        background-repeat: no-repeat;\n      }\n\n      /* Month scroller */\n\n      [part=\"months\"] {\n        /* Month calendar height:\n              header height + margin-bottom\n            + weekdays height + margin-bottom\n            + date cell heights\n            + small margin between month calendars\n        */\n        --vaadin-infinite-scroller-item-height:\n          calc(\n              var(--lumo-font-size-l) + var(--lumo-space-m)\n            + var(--lumo-font-size-xs) + var(--lumo-space-s)\n            + var(--lumo-size-m) * 6\n            + var(--lumo-space-s)\n          );\n        --vaadin-infinite-scroller-buffer-offset: 20%;\n        -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\n        mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\n        position: relative;\n        margin-right: 57px;\n      }\n\n      /* Year scroller */\n\n      [part=\"years\"] {\n        /* TODO get rid of fixed magic number */\n        --vaadin-infinite-scroller-buffer-width: 97px;\n        width: 57px;\n        height: auto;\n        top: 0;\n        bottom: 0;\n        font-size: var(--lumo-font-size-s);\n        box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);\n        -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\n        mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\n      }\n\n      [part=\"year-number\"],\n      [part=\"year-separator\"] {\n        opacity: 0.5;\n        transition: 0.2s opacity;\n      }\n\n      [part=\"years\"]:hover [part=\"year-number\"],\n      [part=\"years\"]:hover [part=\"year-separator\"] {\n        opacity: 1;\n      }\n\n      /* TODO unsupported selector */\n      #scrollers {\n        position: static;\n        display: block;\n      }\n\n      /* TODO unsupported selector, should fix this in vaadin-date-picker that it adapts to the\n       * width of the year scroller */\n      #scrollers[desktop] [part=\"months\"] {\n        right: auto;\n      }\n\n      /* Year scroller position indicator */\n      [part=\"years\"]::before {\n        border: none;\n        width: 1em;\n        height: 1em;\n        background-color: var(--lumo-base-color);\n        background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));\n        transform: translate(-75%, -50%) rotate(45deg);\n        border-top-right-radius: calc(var(--lumo-border-radius) / 2);\n        box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);\n        z-index: 1;\n      }\n\n      [part=\"year-number\"],\n      [part=\"year-separator\"] {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 50%;\n        transform: translateY(-50%);\n      }\n\n      [part=\"years\"] [part=\"year-separator\"]::after {\n        color: var(--lumo-disabled-text-color);\n        content: \"•\";\n      }\n\n      /* Current year */\n\n      [part=\"years\"] [part=\"year-number\"][current] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      /* Toolbar (footer) */\n\n      [part=\"toolbar\"] {\n        padding: var(--lumo-space-s);\n        box-shadow: 0 -1px 0 0 var(--lumo-contrast-10pct);\n        border-bottom-left-radius: var(--lumo-border-radius);\n        margin-right: 57px;\n      }\n\n      @supports (mask-image: linear-gradient(#000, #000)) or (-webkit-mask-image: linear-gradient(#000, #000)) {\n        [part=\"toolbar\"] {\n          box-shadow: none;\n        }\n      }\n\n      /* Today and Cancel buttons */\n\n      /* TODO: Would be great if I could apply the \"tertiary\" theme from here instead of copying those styles */\n      [part=\"toolbar\"] [part\\$=\"button\"] {\n        background-color: transparent;\n        margin: 0;\n        min-width: 0;\n        padding: 0 0.75em;\n      }\n\n      /* Narrow viewport mode (fullscreen) */\n\n      :host([fullscreen]) [part=\"toolbar\"] {\n        order: -1;\n        background-color: var(--lumo-base-color);\n      }\n\n      :host([fullscreen]) [part=\"overlay-header\"] {\n        order: -2;\n        height: var(--lumo-size-m);\n        padding: var(--lumo-space-s);\n        position: absolute;\n        left: 0;\n        right: 0;\n        justify-content: center;\n      }\n\n      :host([fullscreen]) [part=\"toggle-button\"],\n      :host([fullscreen]) [part=\"clear-button\"],\n      [part=\"overlay-header\"] [part=\"label\"] {\n        display: none;\n      }\n\n      /* Very narrow screen (year scroller initially hidden) */\n\n      [part=\"years-toggle-button\"] {\n        position: relative;\n        right: auto;\n        display: flex;\n        align-items: center;\n        height: var(--lumo-size-s);\n        padding: 0 0.5em;\n        border-radius: var(--lumo-border-radius);\n        z-index: 3;\n        color: var(--lumo-primary-text-color);\n        font-weight: 500;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      :host([years-visible]) [part=\"years-toggle-button\"] {\n        background-color: var(--lumo-primary-color);\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      [part=\"years-toggle-button\"]::before {\n        content: none;\n      }\n\n      /* TODO magic number (same as used for iron-media-query in vaadin-date-picker-overlay-content) */\n      @media screen and (max-width: 374px) {\n        :host {\n          background-image: none;\n        }\n\n        [part=\"years\"] {\n          background-color: var(--lumo-shade-5pct);\n        }\n\n        [part=\"toolbar\"],\n        [part=\"months\"] {\n          margin-right: 0;\n        }\n\n        /* TODO make date-picker adapt to the width of the years part */\n        [part=\"years\"] {\n          --vaadin-infinite-scroller-buffer-width: 90px;\n          width: 50px;\n        }\n\n        :host([years-visible]) [part=\"months\"] {\n          padding-left: 50px;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-month-calendar\" theme-for=\"vaadin-month-calendar\">\n  <template>\n    <style>\n      :host {\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        -webkit-tap-highlight-color: transparent;\n        user-select: none;\n        font-size: var(--lumo-font-size-m);\n        color: var(--lumo-body-text-color);\n        text-align: center;\n        padding: 0 var(--lumo-space-xs);\n      }\n\n      /* Month header */\n\n      [part=\"month-header\"] {\n        color: var(--lumo-header-text-color);\n        font-size: var(--lumo-font-size-l);\n        line-height: 1;\n        font-weight: 500;\n        margin-bottom: var(--lumo-space-m);\n      }\n\n      /* Week days and numbers */\n\n      [part=\"weekdays\"],\n      [part=\"weekday\"],\n      [part=\"week-numbers\"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: 1;\n        color: var(--lumo-tertiary-text-color);\n      }\n\n      [part=\"weekdays\"] {\n        margin-bottom: var(--lumo-space-s);\n      }\n\n      /* TODO should have part=\"week-number\" for the cell in weekdays-container */\n      [part=\"weekday\"]:empty,\n      [part=\"week-numbers\"] {\n        width: var(--lumo-size-xs);\n      }\n\n      /* Date and week number cells */\n\n      [part=\"date\"],\n      [part=\"week-number\"] {\n        box-sizing: border-box;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        height: var(--lumo-size-m);\n        position: relative;\n      }\n\n      [part=\"date\"] {\n        transition: color 0.1s;\n      }\n\n      /* Today date */\n\n      [part=\"date\"][today] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      /* Focused date */\n\n      [part=\"date\"]::before {\n        content: \"\";\n        position: absolute;\n        z-index: -1;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        min-width: 2em;\n        min-height: 2em;\n        width: 80%;\n        height: 80%;\n        max-height: 100%;\n        max-width: 100%;\n        border-radius: var(--lumo-border-radius);\n      }\n\n      [part=\"date\"][focused]::before {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      :host(:not([focused])) [part=\"date\"][focused]::before {\n        animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;\n      }\n\n      @keyframes vaadin-date-picker-month-calendar-focus-date {\n        50% {\n          box-shadow: 0 0 0 2px transparent;\n        }\n      }\n\n      /* TODO should not rely on the role attribute */\n      [part=\"date\"][role=\"button\"]:not([disabled]):not([selected]):hover::before {\n        background-color: var(--lumo-primary-color-10pct);\n      }\n\n      [part=\"date\"][selected] {\n        color: var(--lumo-primary-contrast-color);\n      }\n\n      [part=\"date\"][selected]::before {\n        background-color: var(--lumo-primary-color);\n      }\n\n      @media (pointer: coarse) {\n        [part=\"date\"]:hover:not([selected])::before,\n        [part=\"date\"][focused]:not([selected])::before {\n          display: none;\n        }\n\n        [part=\"date\"][role=\"button\"]:not([disabled]):active::before {\n          display: block;\n        }\n\n        [part=\"date\"][selected]::before {\n          box-shadow: none;\n        }\n      }\n\n      /* Disabled */\n\n      :host([disabled]) * {\n        color: var(--lumo-disabled-text-color) !important;\n      }\n    </style>\n  </template>\n</dom-module><custom-style>\n  <style>\n    @keyframes vaadin-date-picker-month-calendar-focus-date {\n      50% {\n        box-shadow: 0 0 0 2px transparent;\n      }\n    }\n  </style>\n</custom-style>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import '../color.js';\nimport '../font-icons.js';\nimport '../sizing.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-field-button\">\n  <template>\n    <style>\n      [part\\$=\"button\"] {\n        flex: none;\n        width: 1em;\n        height: 1em;\n        line-height: 1;\n        font-size: var(--lumo-icon-size-m);\n        text-align: center;\n        color: var(--lumo-contrast-60pct);\n        transition: 0.2s color;\n        cursor: default;\n      }\n\n      :host(:not([readonly])) [part\\$=\"button\"]:hover {\n        color: var(--lumo-contrast-90pct);\n      }\n\n      :host([disabled]) [part\\$=\"button\"],\n      :host([readonly]) [part\\$=\"button\"] {\n        color: var(--lumo-contrast-20pct);\n      }\n\n      [part\\$=\"button\"]::before {\n        font-family: \"lumo-icons\";\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-text-field\" theme-for=\"vaadin-text-field\">\n  <template>\n    <style>\n      :host {\n        --lumo-text-field-size: var(--lumo-size-m);\n        color: var(--lumo-body-text-color);\n        font-size: var(--lumo-font-size-m);\n        font-family: var(--lumo-font-family);\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-tap-highlight-color: transparent;\n        padding: var(--lumo-space-xs) 0;\n      }\n\n      :host::before {\n        height: var(--lumo-text-field-size);\n        box-sizing: border-box;\n        display: inline-flex;\n        align-items: center;\n      }\n\n      [part=\"label\"] {\n        align-self: flex-start;\n        color: var(--lumo-secondary-text-color);\n        font-weight: 500;\n        font-size: var(--lumo-font-size-s);\n        margin-left: calc(var(--lumo-border-radius) / 4);\n        transition: color 0.2s;\n        line-height: 1;\n        padding-bottom: 0.5em;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        position: relative;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      :host([has-label])::before {\n        /* Label height + margin */\n        margin-top: calc(var(--lumo-font-size-s) * 1.5);\n      }\n\n      :host([has-label]) {\n        padding-top: var(--lumo-space-m);\n      }\n\n      :host([focused]:not([readonly])) [part=\"label\"] {\n        color: var(--lumo-primary-text-color);\n      }\n\n      :host([required]) [part=\"label\"] {\n        padding-right: 1em;\n      }\n\n      /* Used for required and invalid indicators */\n      [part=\"label\"]::after {\n        content: var(--lumo-required-field-indicator, \"•\");\n        transition: opacity 0.2s;\n        opacity: 0;\n        color: var(--lumo-primary-text-color);\n        position: absolute;\n        right: 0;\n        width: 1em;\n        text-align: center;\n      }\n\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n        cursor: inherit;\n        min-height: var(--lumo-text-field-size);\n        padding: 0 0.25em;\n        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\n        -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);\n      }\n\n      [part=\"value\"]:focus {\n        -webkit-mask-image: none;\n        mask-image: none;\n      }\n\n      /*\n        TODO: CSS custom property in \\`mask-image\\` causes crash in Edge\n        see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/15415089/\n      */\n      @-moz-document url-prefix() {\n        [part=\"value\"],\n        [part=\"input-field\"] ::slotted([part=\"value\"]) {\n          mask-image: var(--_lumo-text-field-overflow-mask-image);\n        }\n      }\n\n      [part=\"value\"]::-webkit-input-placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.05s;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]:-ms-input-placeholder {\n        color: inherit;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]::-moz-placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.05s;\n        opacity: 0.5;\n      }\n\n      [part=\"value\"]::placeholder {\n        color: inherit;\n        transition: opacity 0.175s 0.1s;\n        opacity: 0.5;\n      }\n\n      [part=\"input-field\"] {\n        border-radius: var(--lumo-border-radius);\n        background-color: var(--lumo-contrast-10pct);\n        padding: 0 calc(0.375em + var(--lumo-border-radius) / 4 - 1px);\n        font-weight: 500;\n        line-height: 1;\n        position: relative;\n        cursor: text;\n        box-sizing: border-box;\n      }\n\n      /* Used for hover and activation effects */\n      [part=\"input-field\"]::after {\n        content: \"\";\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        border-radius: inherit;\n        pointer-events: none;\n        background-color: var(--lumo-contrast-50pct);\n        opacity: 0;\n        transition: transform 0.15s, opacity 0.2s;\n        transform-origin: 100% 0;\n        will-change: transform;\n      }\n\n      /* Hover */\n\n      :host(:hover:not([readonly]):not([focused])) [part=\"label\"] {\n        color: var(--lumo-body-text-color);\n      }\n\n      :host(:hover:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n        opacity: 0.1;\n      }\n\n      /* Touch device adjustment */\n      @media (pointer: coarse) {\n        :host(:hover:not([readonly]):not([focused])) [part=\"label\"] {\n          color: var(--lumo-secondary-text-color);\n        }\n\n        :host(:hover:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n          opacity: 0;\n        }\n\n        :host(:active:not([readonly]):not([focused])) [part=\"input-field\"]::after {\n          opacity: 0.2;\n        }\n      }\n\n      /* Trigger when not focusing using the keyboard */\n      :host([focused]:not([focus-ring]):not([readonly])) [part=\"input-field\"]::after {\n        transform: scaleX(0);\n        transition-duration: 0.15s, 1s;\n      }\n\n      /* Focus-ring */\n\n      :host([focus-ring]) [part=\"input-field\"] {\n        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);\n      }\n\n      /* Read-only and disabled */\n      :host([readonly]) [part=\"value\"]::-webkit-input-placeholder,\n      :host([disabled]) [part=\"value\"]::-webkit-input-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]:-ms-input-placeholder,\n      :host([disabled]) [part=\"value\"]:-ms-input-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]::-moz-placeholder,\n      :host([disabled]) [part=\"value\"]::-moz-placeholder {\n        opacity: 0;\n      }\n\n      :host([readonly]) [part=\"value\"]::placeholder,\n      :host([disabled]) [part=\"value\"]::placeholder {\n        opacity: 0;\n      }\n\n      /* Read-only */\n\n      :host([readonly]) [part=\"input-field\"] {\n        color: var(--lumo-secondary-text-color);\n        background-color: transparent;\n        cursor: default;\n      }\n\n      :host([readonly]) [part=\"input-field\"]::after {\n        background-color: transparent;\n        opacity: 1;\n        border: 1px dashed var(--lumo-contrast-30pct);\n      }\n\n      /* Disabled style */\n\n      :host([disabled]) {\n        pointer-events: none;\n      }\n\n      :host([disabled]) [part=\"input-field\"] {\n        background-color: var(--lumo-contrast-5pct);\n      }\n\n      :host([disabled]) [part=\"label\"],\n      :host([disabled]) [part=\"value\"],\n      :host([disabled]) [part=\"input-field\"] ::slotted(*) {\n        color: var(--lumo-disabled-text-color);\n        -webkit-text-fill-color: var(--lumo-disabled-text-color);\n      }\n\n      /* Required field style */\n\n      :host([required]:not([has-value])) [part=\"label\"]::after {\n        opacity: 1;\n      }\n\n      /* Invalid style */\n\n      :host([invalid]) [part=\"label\"]::after {\n        color: var(--lumo-error-text-color);\n      }\n\n      :host([invalid]) [part=\"input-field\"] {\n        background-color: var(--lumo-error-color-10pct);\n      }\n\n      :host([invalid]) [part=\"input-field\"]::after {\n        background-color: var(--lumo-error-color-50pct);\n      }\n\n      :host([invalid][focus-ring]) [part=\"input-field\"] {\n        box-shadow: 0 0 0 2px var(--lumo-error-color-50pct);\n      }\n\n      /* Error message */\n\n      [part=\"error-message\"] {\n        margin-left: calc(var(--lumo-border-radius) / 4);\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n        color: var(--lumo-error-text-color);\n        will-change: max-height;\n        transition: 0.4s max-height;\n        max-height: 5em;\n      }\n\n      /* Margin that doesn’t reserve space when there’s no error message */\n      [part=\"error-message\"]:not(:empty)::before,\n      [part=\"error-message\"]:not(:empty)::after {\n        content: \"\";\n        display: block;\n        height: 0.4em;\n      }\n\n      :host(:not([invalid])) [part=\"error-message\"] {\n        max-height: 0;\n        overflow: hidden;\n      }\n\n      /* Small theme */\n\n      :host([theme~=\"small\"]) {\n        font-size: var(--lumo-font-size-s);\n        --lumo-text-field-size: var(--lumo-size-s);\n      }\n\n      :host([theme~=\"small\"][has-label]) [part=\"label\"] {\n        font-size: var(--lumo-font-size-xs);\n      }\n\n      :host([theme~=\"small\"][has-label]) [part=\"error-message\"] {\n        font-size: var(--lumo-font-size-xxs);\n      }\n\n      /* Text align */\n\n      :host([theme~=\"align-center\"]) [part=\"value\"] {\n        text-align: center;\n        --_lumo-text-field-overflow-mask-image: none;\n      }\n\n      :host([theme~=\"align-right\"]) [part=\"value\"] {\n        text-align: right;\n        --_lumo-text-field-overflow-mask-image: none;\n      }\n\n      @-moz-document url-prefix() {\n        /* Firefox is smart enough to align overflowing text to right */\n        :host([theme~=\"align-right\"]) [part=\"value\"] {\n          --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);\n        }\n      }\n\n      /* Slotted content */\n\n      [part=\"input-field\"] ::slotted(:not([part]):not(iron-icon)) {\n        color: var(--lumo-secondary-text-color);\n        font-weight: 400;\n      }\n\n      /* Slotted icons */\n\n      [part=\"input-field\"] ::slotted(iron-icon) {\n        color: var(--lumo-contrast-60pct);\n        width: var(--lumo-icon-size-m);\n        height: var(--lumo-icon-size-m);\n      }\n\n      /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */\n      [part=\"input-field\"] ::slotted(iron-icon[icon^=\"vaadin:\"]) {\n        padding: 0.25em;\n        box-sizing: border-box !important;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nimport { ControlStateMixin } from '@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"vaadin-text-field-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: inline-flex;\n        outline: none;\n      }\n\n      :host::before {\n        content: \"\\\\2003\";\n        width: 0;\n        display: inline-block;\n        /* Size and position this element on the same vertical position as the input-field element\n           to make vertical align for the host element work as expected */\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      .vaadin-text-field-container,\n      .vaadin-text-area-container {\n        display: flex;\n        flex-direction: column;\n        min-width: 100%;\n        max-width: 100%;\n        width: var(--vaadin-text-field-default-width, 12em);\n      }\n\n      [part=\"label\"]:empty {\n        display: none;\n      }\n\n      [part=\"input-field\"] {\n        display: flex;\n        align-items: center;\n        flex: auto;\n      }\n\n      /* Reset the native input styles */\n      [part=\"value\"] {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        outline: none;\n        margin: 0;\n        padding: 0;\n        border: 0;\n        border-radius: 0;\n        min-width: 0;\n        font: inherit;\n        font-size: 1em;\n        line-height: normal;\n        color: inherit;\n        background-color: transparent;\n        /* Disable default invalid style in Firefox */\n        box-shadow: none;\n      }\n\n      [part=\"input-field\"] ::slotted(*) {\n        flex: none;\n      }\n\n      /* Slotted by vaadin-dropdown-menu-text-field */\n      [part=\"value\"],\n      [part=\"input-field\"] ::slotted([part=\"value\"]) {\n        flex: auto;\n        white-space: nowrap;\n        overflow: hidden;\n        width: 100%;\n        height: 100%;\n      }\n\n      [part=\"value\"]::-ms-clear {\n        display: none;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\n/**\n * @polymerMixin\n * @mixes Vaadin.ControlStateMixin\n */\nexport const TextFieldMixin = subclass => class VaadinTextFieldMixin extends ControlStateMixin(subclass) {\n  static get properties() {\n    return {\n      /**\n       * Whether the value of the control can be automatically completed by the browser.\n       * List of available options at:\n       * https://developer.mozilla.org/en/docs/Web/HTML/Element/input#attr-autocomplete\n       */\n      autocomplete: {\n        type: String\n      },\n\n      /**\n       * This is a property supported by Safari that is used to control whether\n       * autocorrection should be enabled when the user is entering/editing the text.\n       * Possible values are:\n       * on: Enable autocorrection.\n       * off: Disable autocorrection.\n       */\n      autocorrect: {\n        type: String\n      },\n\n      /**\n       * This is a property supported by Safari and Chrome that is used to control whether\n       * autocapitalization should be enabled when the user is entering/editing the text.\n       * Possible values are:\n       * characters: Characters capitalization.\n       * words: Words capitalization.\n       * sentences: Sentences capitalization.\n       * none: No capitalization.\n       */\n      autocapitalize: {\n        type: String\n      },\n\n      /**\n       * Error to show when the input value is invalid.\n       */\n      errorMessage: {\n        type: String,\n        value: ''\n      },\n\n      /**\n       * String used for the label element.\n       */\n      label: {\n        type: String,\n        value: '',\n        observer: '_labelChanged'\n      },\n\n      /**\n       * Maximum number of characters (in Unicode code points) that the user can enter.\n       */\n      maxlength: {\n        type: Number\n      },\n\n      /**\n       * Minimum number of characters (in Unicode code points) that the user can enter.\n       */\n      minlength: {\n        type: Number\n      },\n\n      /**\n       * The name of the control, which is submitted with the form data.\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * A hint to the user of what can be entered in the control.\n       */\n      placeholder: {\n        type: String\n      },\n\n      /**\n       * This attribute indicates that the user cannot modify the value of the control.\n       */\n      readonly: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n      /**\n       * Specifies that the user must fill in a value.\n       */\n      required: {\n        type: Boolean,\n        reflectToAttribute: true\n      },\n\n\n      /**\n       * The initial value of the control.\n       * It can be used for two-way data binding.\n       */\n      value: {\n        type: String,\n        value: '',\n        observer: '_valueChanged',\n        notify: true\n      },\n\n      /**\n       * This property is set to true when the control value is invalid.\n       */\n      invalid: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        value: false\n      },\n\n      /**\n       * When set to true, user is prevented from typing a value that\n       * conflicts with the given `pattern`.\n       */\n      preventInvalidInput: {\n        type: Boolean\n      },\n\n      _labelId: {\n        type: String\n      },\n\n      _errorId: {\n        type: String\n      }\n    };\n  }\n\n  get focusElement() {\n    return this.root.querySelector('[part=value]');\n  }\n\n  _onInput(e) {\n    if (this.preventInvalidInput) {\n      const input = this.focusElement;\n      if (input.value.length > 0 && !this.checkValidity()) {\n        input.value = this.value || '';\n      }\n    }\n  }\n\n  _onChange(e) {\n    // In the Shadow DOM, the `change` event is not leaked into the\n    // ancestor tree, so we must do this manually.\n    const changeEvent = new CustomEvent('change', {\n      detail: {\n        sourceEvent: e\n      },\n      bubbles: e.bubbles,\n      cancelable: e.cancelable,\n    });\n    this.dispatchEvent(changeEvent);\n  }\n\n  _valueChanged(newVal, oldVal) {\n    // setting initial value to empty string, skip validation\n    if (newVal === '' && oldVal === undefined) {\n      return;\n    }\n    if (this.invalid) {\n      this.validate();\n    }\n    if (newVal !== '' && newVal != null) {\n      this.setAttribute('has-value', '');\n    } else {\n      this.removeAttribute('has-value');\n    }\n  }\n\n  _labelChanged(label) {\n    if (label !== '' && label != null) {\n      this.setAttribute('has-label', '');\n    } else {\n      this.removeAttribute('has-label');\n    }\n  }\n\n  /**\n   * Returns true if the current input value satisfies all constraints (if any)\n   * @returns {boolean}\n   */\n  checkValidity() {\n    if (this.required || this.pattern || this.maxlength || this.minlength) {\n      return this.focusElement.checkValidity();\n    } else {\n      return !this.invalid;\n    }\n  }\n\n\n  ready() {\n    super.ready();\n    if (!(window.ShadyCSS && window.ShadyCSS.nativeCss)) {\n      this.updateStyles();\n    }\n\n    var uniqueId = TextFieldMixin._uniqueId = 1 + TextFieldMixin._uniqueId || 0;\n    this._errorId = `${this.constructor.is}-error-${uniqueId}`;\n    this._labelId = `${this.constructor.is}-label-${uniqueId}`;\n\n    if (navigator.userAgent.match(/Trident/)) {\n      this._addIEListeners();\n    }\n  }\n\n  /**\n   * Returns true if `value` is valid.\n   * `<iron-form>` uses this to check the validity or all its elements.\n   *\n   * @return {boolean} True if the value is valid.\n   */\n  validate() {\n    return !(this.invalid = !this.checkValidity());\n  }\n\n  _addIEListeners() {\n    // IE11 dispatches `input` event in following cases:\n    // - focus or blur, when placeholder attribute is set\n    // - placeholder attribute value changed\n    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/101220/\n    const prevent = e => {\n      e.stopImmediatePropagation();\n      this.focusElement.removeEventListener('input', prevent);\n    };\n    const shouldPreventInput = () => this.placeholder && this.focusElement.addEventListener('input', prevent);\n    this.focusElement.addEventListener('focusin', shouldPreventInput);\n    this.focusElement.addEventListener('focusout', shouldPreventInput);\n    this._createPropertyObserver('placeholder', shouldPreventInput);\n  }\n\n  _getActiveErrorId(invalid, errorMessage, errorId) {\n    return errorMessage && invalid ? errorId : undefined;\n  }\n\n  _getActiveLabelId(label, labelId) {\n    return label ? labelId : undefined;\n  }\n\n  _getErrorMessageAriaHidden(invalid, errorMessage, errorId) {\n    return (!this._getActiveErrorId(invalid, errorMessage, errorId)).toString();\n  }\n\n  /**\n   * @protected\n   */\n  attributeChangedCallback(prop, oldVal, newVal) {\n    super.attributeChangedCallback(prop, oldVal, newVal);\n    // Needed until Edge has CSS Custom Properties (present in Edge Preview)\n    if (!(window.ShadyCSS && window.ShadyCSS.nativeCss) &&\n      /^(focused|focus-ring|invalid|disabled|placeholder|has-value)$/.test(prop)) {\n      this.updateStyles();\n    }\n\n    // Safari has an issue with repainting shadow root element styles when a host attribute changes.\n    // Need this workaround (toggle any inline css property on and off) until the issue gets fixed.\n    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    if (isSafari && this.root) {\n      const WEBKIT_PROPERTY = '-webkit-backface-visibility';\n      this.root.querySelectorAll('*').forEach(el => {\n        el.style[WEBKIT_PROPERTY] = 'visible';\n        el.style[WEBKIT_PROPERTY] = '';\n      });\n    }\n  }\n\n  /**\n   * Fired when the user commits a value change.\n   *\n   * @event change\n   */\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { TextFieldMixin } from './vaadin-text-field-mixin.js';\nimport { ElementMixin } from '@vaadin/vaadin-element-mixin/vaadin-element-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n/**\n * `<vaadin-text-field>` is a Polymer 2 element for text field control in forms.\n *\n * ```html\n * <vaadin-text-field label=\"First Name\">\n * </vaadin-text-field>\n * ```\n *\n * ### Styling\n *\n * The following custom properties are available for styling:\n *\n * Custom property | Description | Default\n * ----------------|-------------|-------------\n * `--vaadin-text-field-default-width` | Set the default width of the input field | `12em`\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `label` | The label element\n * `input-field` | The element that wraps prefix, value and suffix\n * `value` | The text value element inside the `input-field` element\n * `error-message` | The error message element\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `disabled` | Set to a disabled text field | :host\n * `has-value` | Set when the element has a value | :host\n * `has-label` | Set when the element has a label | :host\n * `invalid` | Set when the element is invalid | :host\n * `focused` | Set when the element is focused | :host\n * `focus-ring` | Set when the element is keyboard focused | :host\n * `readonly` | Set to a readonly text field | :host\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @memberof Vaadin\n * @mixes Vaadin.TextFieldMixin\n * @mixes Vaadin.ThemableMixin\n * @demo demo/index.html\n */\nclass TextFieldElement extends ElementMixin(TextFieldMixin(ThemableMixin(PolymerElement))) {\n  static get template() {\n    return html`\n    <style include=\"vaadin-text-field-shared-styles\"></style>\n\n    <div class=\"vaadin-text-field-container\">\n\n      <label part=\"label\" on-click=\"focus\" id=\"[[_labelId]]\">[[label]]</label>\n\n      <div part=\"input-field\">\n\n        <slot name=\"prefix\"></slot>\n\n        <input part=\"value\" autocomplete\\$=\"[[autocomplete]]\" autocorrect\\$=\"[[autocorrect]]\" autocapitalize\\$=\"[[autocapitalize]]\" autofocus\\$=\"[[autofocus]]\" disabled\\$=\"[[disabled]]\" list=\"[[list]]\" maxlength\\$=\"[[maxlength]]\" minlength\\$=\"[[minlength]]\" pattern=\"[[pattern]]\" placeholder\\$=\"[[placeholder]]\" readonly\\$=\"[[readonly]]\" aria-readonly\\$=\"[[readonly]]\" required\\$=\"[[required]]\" aria-required\\$=\"[[required]]\" value=\"{{value::input}}\" title=\"[[title]]\" on-blur=\"validate\" on-input=\"_onInput\" on-change=\"_onChange\" aria-describedby\\$=\"[[_getActiveErrorId(invalid, errorMessage, _errorId)]]\" aria-labelledby\\$=\"[[_getActiveLabelId(label, _labelId)]]\" aria-invalid\\$=\"[[invalid]]\">\n\n        <slot name=\"suffix\"></slot>\n\n      </div>\n\n      <div part=\"error-message\" id=\"[[_errorId]]\" aria-live=\"assertive\" aria-hidden\\$=\"[[_getErrorMessageAriaHidden(invalid, errorMessage, _errorId)]]\">[[errorMessage]]</div>\n\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-text-field';\n  }\n\n  static get version() {\n    return '2.0.1-pre.2';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Identifies a list of pre-defined options to suggest to the user.\n       * The value must be the id of a <datalist> element in the same document.\n       */\n      list: {\n        type: String\n      },\n\n      /**\n       * A regular expression that the value is checked against.\n       * The pattern must match the entire value, not just some subset.\n       */\n      pattern: {\n        type: String\n      },\n\n      /**\n       * Message to show to the user when validation fails.\n       */\n      title: {\n        type: String\n      }\n    };\n  }\n}\n\ncustomElements.define(TextFieldElement.is, TextFieldElement);\n\nexport { TextFieldElement };\n","import '@vaadin/vaadin-lumo-styles/font-icons.js';\nimport '@vaadin/vaadin-lumo-styles/mixins/field-button.js';\nimport '@vaadin/vaadin-text-field/theme/lumo/vaadin-text-field.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"lumo-date-picker\" theme-for=\"vaadin-date-picker\">\n  <template>\n    <style include=\"lumo-field-button\">\n      :host {\n        outline: none;\n      }\n\n      [part=\"toggle-button\"]::before {\n        content: var(--lumo-icons-calendar);\n      }\n\n      [part=\"clear-button\"]::before {\n        content: var(--lumo-icons-cross);\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { OverlayElement } from '@vaadin/vaadin-overlay/src/vaadin-overlay.js';\n\n/**\n * The overlay element.\n *\n * ### Styling\n *\n * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)\n * for `<vaadin-date-picker-overlay>` parts.\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * @extends Vaadin.OverlayElement\n * @memberof Vaadin\n * @private\n */\nclass DatePickerOverlayElement extends OverlayElement {\n  static get is() {\n    return 'vaadin-date-picker-overlay';\n  }\n}\n\ncustomElements.define(DatePickerOverlayElement.is, DatePickerOverlayElement);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nexport const DatePickerHelper = class VaadinDatePickerHelper {\n  /**\n   * Get ISO 8601 week number for the given date.\n   *\n   * @param {Date} Date object\n   * @return {Number} Week number\n   */\n  static _getISOWeekNumber(date) {\n    // Ported from Vaadin Framework method com.vaadin.client.DateTimeService.getISOWeekNumber(date)\n    var dayOfWeek = date.getDay(); // 0 == sunday\n\n    // ISO 8601 use weeks that start on monday so we use\n    // mon=1,tue=2,...sun=7;\n    if (dayOfWeek === 0) {\n      dayOfWeek = 7;\n    }\n    // Find nearest thursday (defines the week in ISO 8601). The week number\n    // for the nearest thursday is the same as for the target date.\n    var nearestThursdayDiff = 4 - dayOfWeek; // 4 is thursday\n    var nearestThursday = new Date(date.getTime() + nearestThursdayDiff * 24 * 3600 * 1000);\n\n    var firstOfJanuary = new Date(0, 0);\n    firstOfJanuary.setFullYear(nearestThursday.getFullYear());\n\n    var timeDiff = nearestThursday.getTime() - firstOfJanuary.getTime();\n\n    // Rounding the result, as the division doesn't result in an integer\n    // when the given date is inside daylight saving time period.\n    var daysSinceFirstOfJanuary = Math.round(timeDiff / (24 * 3600 * 1000));\n\n    return Math.floor((daysSinceFirstOfJanuary) / 7 + 1);\n  }\n\n  /**\n   * Check if two dates are equal.\n   *\n   * @param {Date} date1\n   * @param {Date} date2\n   * @return {Boolean} True if the given date objects refer to the same date\n   */\n  static _dateEquals(date1, date2) {\n    return date1 instanceof Date && date2 instanceof Date &&\n        date1.getFullYear() === date2.getFullYear() &&\n        date1.getMonth() === date2.getMonth() &&\n        date1.getDate() === date2.getDate();\n  }\n\n  /**\n   * Check if the given date is in the range of allowed dates.\n   *\n   * @param {Date} date The date to check\n   * @param {Date} min Range start\n   * @param {Date} max Range end\n   * @return {Boolean} True if the date is in the range\n   */\n  static _dateAllowed(date, min, max) {\n    return (!min || date >= min) && (!max || date <= max);\n  }\n\n  /**\n   * Get closest date from array of dates.\n   *\n   * @param {Date} date The date to compare dates with\n   * @param {Array} dates Array of date objects\n   * @return {Date} Closest date\n   */\n  static _getClosestDate(date, dates) {\n    return dates.filter(date => date !== undefined)\n      .reduce((closestDate, candidate) => {\n        if (!candidate) {\n          return closestDate;\n        }\n\n        if (!closestDate) {\n          return candidate;\n        }\n\n        var candidateDiff = Math.abs(date.getTime() - candidate.getTime());\n        var closestDateDiff = Math.abs(closestDate.getTime() - date.getTime());\n        return candidateDiff < closestDateDiff ? candidate : closestDate;\n      });\n  }\n\n  /**\n   * Extracts the basic component parts of a date (day, month and year)\n   * to the expected format.\n   */\n  static _extractDateParts(date) {\n    return {\n      day: date.getDate(),\n      month: date.getMonth(),\n      year: date.getFullYear()\n    };\n  }\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '@polymer/polymer/lib/elements/dom-repeat.js';\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\n/**\n * @memberof Vaadin\n * @private\n */\nclass MonthCalendarElement extends ThemableMixin(GestureEventListeners(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      [part=\"weekdays\"],\n      #days {\n        display: flex;\n        flex-wrap: wrap;\n        flex-grow: 1;\n      }\n\n      #days-container,\n      #weekdays-container {\n        display: flex;\n      }\n\n      [part=\"week-numbers\"] {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        flex-shrink: 0;\n      }\n\n      [part=\"week-numbers\"][hidden],\n      [part=\"weekday\"][hidden] {\n        display: none;\n      }\n\n      [part=\"weekday\"],\n      [part=\"date\"] {\n        /* Would use calc(100% / 7) but it doesn't work nice on IE */\n        width: 14.285714286%;\n      }\n\n      [part=\"weekday\"]:empty,\n      [part=\"week-numbers\"] {\n        width: 12.5%;\n        flex-shrink: 0;\n      }\n    </style>\n\n    <div part=\"month-header\" role=\"heading\">[[_getTitle(month, i18n.monthNames)]]</div>\n    <div id=\"monthGrid\" on-tap=\"_handleTap\" on-touchend=\"_preventDefault\" on-touchstart=\"_onMonthGridTouchStart\">\n      <div id=\"weekdays-container\">\n        <div hidden=\"[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]\" part=\"weekday\"></div>\n        <div part=\"weekdays\">\n          <template is=\"dom-repeat\" items=\"[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]\">\n            <div part=\"weekday\" role=\"heading\" aria-label\\$=\"[[item.weekDay]]\">[[item.weekDayShort]]</div>\n          </template>\n        </div>\n      </div>\n      <div id=\"days-container\">\n        <div part=\"week-numbers\" hidden=\"[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]\">\n          <template is=\"dom-repeat\" items=\"[[_getWeekNumbers(_days)]]\">\n            <div part=\"week-number\" role=\"heading\" aria-label\\$=\"[[i18n.week]] [[item]]\">[[item]]</div>\n          </template>\n        </div>\n        <div id=\"days\">\n          <template is=\"dom-repeat\" items=\"[[_days]]\">\n            <div part=\"date\" today\\$=\"[[_isToday(item)]]\" selected\\$=\"[[_dateEquals(item, selectedDate)]]\" focused\\$=\"[[_dateEquals(item, focusedDate)]]\" date=\"[[item]]\" disabled\\$=\"[[!_dateAllowed(item, minDate, maxDate)]]\" role\\$=\"[[_getRole(item)]]\" aria-label\\$=\"[[_getAriaLabel(item)]]\" aria-disabled\\$=\"[[_getAriaDisabled(item, minDate, maxDate)]]\">[[_getDate(item)]]</div>\n          </template>\n        </div>\n      </div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-month-calendar';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * A `Date` object defining the month to be displayed. Only year and\n       * month properties are actually used.\n       */\n      month: {\n        type: Date,\n        value: new Date()\n      },\n\n      /**\n       * A `Date` object for the currently selected date.\n       */\n      selectedDate: {\n        type: Date,\n        notify: true\n      },\n\n      /**\n       * A `Date` object for the currently focused date.\n       */\n      focusedDate: Date,\n\n      showWeekNumbers: {\n        type: Boolean,\n        value: false\n      },\n\n      i18n: {\n        type: Object\n      },\n\n      /**\n       * Flag stating whether taps on the component should be ignored.\n       */\n      ignoreTaps: Boolean,\n\n      _notTapping: Boolean,\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      minDate: {\n        type: Date,\n        value: null\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      maxDate: {\n        type: Date,\n        value: null\n      },\n\n      _days: {\n        type: Array,\n        computed: '_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)'\n      },\n\n      disabled: {\n        type: Boolean,\n        reflectToAttribute: true,\n        computed: '_isDisabled(month, minDate, maxDate)'\n      }\n    };\n  }\n\n  static get observers() {\n    return [\n      '_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)'\n    ];\n  }\n\n  _dateEquals(date1, date2) {\n    return DatePickerHelper._dateEquals(date1, date2);\n  }\n\n  _dateAllowed(date, min, max) {\n    return DatePickerHelper._dateAllowed(date, min, max);\n  }\n\n  /* Returns true if all the dates in the month are out of the allowed range */\n  _isDisabled(month, minDate, maxDate) {\n    // First day of the month\n    var firstDate = new Date(0, 0);\n    firstDate.setFullYear(month.getFullYear());\n    firstDate.setMonth(month.getMonth());\n    firstDate.setDate(1);\n\n    // Last day of the month\n    var lastDate = new Date(0, 0);\n    lastDate.setFullYear(month.getFullYear());\n    lastDate.setMonth(month.getMonth() + 1);\n    lastDate.setDate(-1);\n\n    return !this._dateAllowed(firstDate, minDate, maxDate)\n      && !this._dateAllowed(lastDate, minDate, maxDate);\n  }\n\n  _getTitle(month, monthNames) {\n    if (month === undefined || monthNames === undefined) {\n      return;\n    }\n    return this.i18n.formatTitle(monthNames[month.getMonth()], month.getFullYear());\n  }\n\n  _onMonthGridTouchStart() {\n    this._notTapping = false;\n    setTimeout(() => this._notTapping = true, 300);\n  }\n\n  _dateAdd(date, delta) {\n    date.setDate(date.getDate() + delta);\n  }\n\n  _applyFirstDayOfWeek(weekDayNames, firstDayOfWeek) {\n    if (weekDayNames === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n\n    return weekDayNames.slice(firstDayOfWeek).concat(weekDayNames.slice(0, firstDayOfWeek));\n  }\n\n  _getWeekDayNames(weekDayNames, weekDayNamesShort, showWeekNumbers, firstDayOfWeek) {\n    if (weekDayNames === undefined || weekDayNamesShort === undefined ||\n      showWeekNumbers === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n    weekDayNames = this._applyFirstDayOfWeek(weekDayNames, firstDayOfWeek);\n    weekDayNamesShort = this._applyFirstDayOfWeek(weekDayNamesShort, firstDayOfWeek);\n    weekDayNames = weekDayNames.map((day, index) => {\n      return {\n        weekDay: day,\n        weekDayShort: weekDayNamesShort[index]\n      };\n    });\n\n    return weekDayNames;\n  }\n\n  _getDate(date) {\n    return date ? date.getDate() : '';\n  }\n\n  _showWeekNumbersChanged(showWeekNumbers, firstDayOfWeek) {\n    if (showWeekNumbers && firstDayOfWeek === 1) {\n      this.setAttribute('week-numbers', '');\n    } else {\n      this.removeAttribute('week-numbers');\n    }\n  }\n\n  _showWeekSeparator(showWeekNumbers, firstDayOfWeek) {\n    // Currently only supported for locales that start the week on Monday.\n    return showWeekNumbers && firstDayOfWeek === 1;\n  }\n\n  _isToday(date) {\n    return this._dateEquals(new Date(), date);\n  }\n\n  _getDays(month, firstDayOfWeek) {\n    if (month === undefined || firstDayOfWeek === undefined) {\n      return;\n    }\n    // First day of the month (at midnight).\n    var date = new Date(0, 0);\n    date.setFullYear(month.getFullYear());\n    date.setMonth(month.getMonth());\n    date.setDate(1);\n\n    // Rewind to first day of the week.\n    while (date.getDay() !== firstDayOfWeek) {\n      this._dateAdd(date, -1);\n    }\n\n    var days = [];\n    var startMonth = date.getMonth();\n    var targetMonth = month.getMonth();\n    while (date.getMonth() === targetMonth || date.getMonth() === startMonth) {\n      days.push(date.getMonth() === targetMonth ? new Date(date.getTime()) : null);\n\n      // Advance to next day.\n      this._dateAdd(date, 1);\n    }\n    return days;\n  }\n\n  _getWeekNumber(date, days) {\n    if (date === undefined || days === undefined) {\n      return;\n    }\n\n    if (!date) {\n      // Get the first non-null date from the days array.\n      date = days.reduce((acc, d) => {\n        return !acc && d ? d : acc;\n      });\n    }\n\n    return DatePickerHelper._getISOWeekNumber(date);\n  }\n\n  _getWeekNumbers(dates) {\n    return dates\n      .map(date => this._getWeekNumber(date, dates))\n      .filter((week, index, arr) => arr.indexOf(week) === index);\n  }\n\n  _handleTap(e) {\n    if (!this.ignoreTaps && !this._notTapping && e.target.date && !e.target.hasAttribute('disabled')) {\n      this.selectedDate = e.target.date;\n      this.dispatchEvent(new CustomEvent('date-tap', {bubbles: true, composed: true}));\n    }\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  _getRole(date) {\n    return date ? 'button' : 'presentational';\n  }\n\n  _getAriaLabel(date) {\n    if (!date) {\n      return '';\n    }\n\n    var ariaLabel = this._getDate(date) + ' ' +\n      this.i18n.monthNames[date.getMonth()] + ' ' +\n      date.getFullYear() + ', ' +\n      this.i18n.weekdays[date.getDay()];\n\n    if (this._isToday(date)) {\n      ariaLabel += ', ' + this.i18n.today;\n    }\n\n    return ariaLabel;\n  }\n\n  _getAriaDisabled(date, min, max) {\n    if (date === undefined || min === undefined || max === undefined) {\n      return;\n    }\n    return this._dateAllowed(date, min, max) ? 'false' : 'true';\n  }\n}\n\ncustomElements.define(MonthCalendarElement.is, MonthCalendarElement);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '@polymer/polymer/lib/legacy/class.js';\nimport '@polymer/polymer/lib/legacy/templatizer-behavior.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { templatize } from '@polymer/polymer/lib/utils/templatize.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { flush } from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport { afterNextRender } from '@polymer/polymer/lib/utils/render-status.js';\n/**\n * @memberof Vaadin\n * @private\n */\nclass InfiniteScrollerElement extends PolymerElement {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: block;\n        overflow: hidden;\n        height: 500px;\n      }\n\n      #scroller {\n        position: relative;\n        height: 100%;\n        overflow: auto;\n        outline: none;\n        margin-right: -40px;\n        -webkit-overflow-scrolling: touch;\n        -ms-overflow-style: none;\n        overflow-x: hidden;\n      }\n\n      #scroller.notouchscroll {\n        -webkit-overflow-scrolling: auto;\n      }\n\n      #scroller::-webkit-scrollbar {\n        display: none;\n      }\n\n      .buffer {\n        position: absolute;\n        width: var(--vaadin-infinite-scroller-buffer-width, 100%);\n        box-sizing: border-box;\n        padding-right: 40px;\n        top: var(--vaadin-infinite-scroller-buffer-offset, 0);\n        animation: fadein 0.2s;\n      }\n\n      @keyframes fadein {\n        from { opacity: 0; }\n        to { opacity: 1; }\n      }\n    </style>\n\n    <div id=\"scroller\" on-scroll=\"_scroll\">\n      <div class=\"buffer\"></div>\n      <div class=\"buffer\"></div>\n      <div id=\"fullHeight\"></div>\n    </div>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-infinite-scroller';\n  }\n\n  static get properties() {\n    return {\n\n      /**\n       * Count of individual items in each buffer.\n       * The scroller has 2 buffers altogether so bufferSize of 20\n       * will result in 40 buffered DOM items in total.\n       * Changing after initialization not supported.\n       */\n      bufferSize: {\n        type: Number,\n        value: 20\n      },\n\n      /**\n       * The amount of initial scroll top. Needed in order for the\n       * user to be able to scroll backwards.\n       */\n      _initialScroll: {\n        value: 500000\n      },\n\n      /**\n       * The index/position mapped at _initialScroll point.\n       */\n      _initialIndex: {\n        value: 0\n      },\n\n      _buffers: Array,\n\n      _preventScrollEvent: Boolean,\n\n      _mayHaveMomentum: Boolean,\n\n      _initialized: Boolean,\n\n      active: {\n        type: Boolean,\n        observer: '_activated'\n      }\n    };\n  }\n\n  ready() {\n    super.ready();\n\n    this._buffers = Array.prototype.slice.call(this.root.querySelectorAll('.buffer'));\n\n    this.$.fullHeight.style.height = this._initialScroll * 2 + 'px';\n\n    var tpl = this.querySelector('template');\n    this._TemplateClass = templatize(tpl, this, {\n      forwardHostProp: function(prop, value) {\n        if (prop !== 'index') {\n          this._buffers.forEach(buffer => {\n            [].forEach.call(buffer.children, insertionPoint => {\n              insertionPoint._itemWrapper.instance[prop] = value;\n            });\n          });\n        }\n      }\n    });\n\n    // Firefox interprets elements with overflow:auto as focusable\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1069739\n    var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n    if (isFirefox) {\n      this.$.scroller.tabIndex = -1;\n    }\n  }\n\n  _activated(active) {\n    if (active && !this._initialized) {\n      this._createPool();\n      this._initialized = true;\n    }\n  }\n\n  _finishInit() {\n    if (!this._initDone) {\n      // Once the first set of items start fading in, stamp the rest\n      this._buffers.forEach(buffer => {\n        [].forEach.call(buffer.children,\n          insertionPoint => this._ensureStampedInstance(insertionPoint._itemWrapper));\n      }, this);\n\n      if (!this._buffers[0].translateY) {\n        this._reset();\n      }\n\n      this._initDone = true;\n    }\n  }\n\n  _translateBuffer(up) {\n    var index = up ? 1 : 0;\n    this._buffers[index].translateY = this._buffers[(index ? 0 : 1)].translateY + this._bufferHeight * (index ? -1 : 1);\n    this._buffers[index].style.transform = 'translate3d(0, ' + this._buffers[index].translateY + 'px, 0)';\n    this._buffers[index].updated = false;\n    this._buffers.reverse();\n  }\n\n  _scroll() {\n    if (this._scrollDisabled) {\n      return;\n    }\n\n    var scrollTop = this.$.scroller.scrollTop;\n    if (scrollTop < this._bufferHeight || scrollTop > this._initialScroll * 2 - this._bufferHeight) {\n      // Scrolled near the end/beginning of the scrollable area -> reset.\n      this._initialIndex = ~~this.position;\n      this._reset();\n    }\n\n    // Check if we scrolled enough to translate the buffer positions.\n    var bufferOffset = this.root.querySelector('.buffer').offsetTop;\n    var upperThresholdReached = scrollTop > this._buffers[1].translateY + this.itemHeight + bufferOffset;\n    var lowerThresholdReached = scrollTop < this._buffers[0].translateY + this.itemHeight + bufferOffset;\n\n    if (upperThresholdReached || lowerThresholdReached) {\n      this._translateBuffer(lowerThresholdReached);\n      this._updateClones();\n    }\n\n    if (!this._preventScrollEvent) {\n      this.dispatchEvent(new CustomEvent('custom-scroll', {bubbles: false, composed: true}));\n      this._mayHaveMomentum = true;\n    }\n    this._preventScrollEvent = false;\n\n    this._debouncerScrollFinish = Debouncer.debounce(this._debouncerScrollFinish,\n      timeOut.after(200), () => {\n        var scrollerRect = this.$.scroller.getBoundingClientRect();\n        if (!this._isVisible(this._buffers[0], scrollerRect) && !this._isVisible(this._buffers[1], scrollerRect)) {\n          this.position = this.position;\n        }\n      });\n  }\n\n  /**\n   * Current scroller position as index. Can be a fractional number.\n   *\n   * @type {Number}\n   */\n  set position(index) {\n    this._preventScrollEvent = true;\n    if (index > this._firstIndex && index < this._firstIndex + this.bufferSize * 2) {\n      this.$.scroller.scrollTop = this.itemHeight * (index - this._firstIndex) + this._buffers[0].translateY;\n    } else {\n      this._initialIndex = ~~index;\n      this._reset();\n      this._scrollDisabled = true;\n      this.$.scroller.scrollTop += index % 1 * this.itemHeight;\n      this._scrollDisabled = false;\n    }\n\n    if (this._mayHaveMomentum) {\n      // Stop the possible iOS Safari momentum with -webkit-overflow-scrolling: auto;\n      this.$.scroller.classList.add('notouchscroll');\n      this._mayHaveMomentum = false;\n\n      setTimeout(() => {\n        // Restore -webkit-overflow-scrolling: touch; after a small delay.\n        this.$.scroller.classList.remove('notouchscroll');\n      }, 10);\n    }\n\n  }\n\n  /**\n   * @private\n   */\n  get position() {\n    return (this.$.scroller.scrollTop - this._buffers[0].translateY) / this.itemHeight + this._firstIndex;\n  }\n\n  get itemHeight() {\n    if (!this._itemHeightVal) {\n      const itemHeight = window.ShadyCSS\n        ? window.ShadyCSS.getComputedStyleValue(this, '--vaadin-infinite-scroller-item-height')\n        : getComputedStyle(this).getPropertyValue('--vaadin-infinite-scroller-item-height');\n      // Use background-position temp inline style for unit conversion\n      const tmpStyleProp = 'background-position';\n      this.$.fullHeight.style.setProperty(tmpStyleProp, itemHeight);\n      const itemHeightPx = getComputedStyle(this.$.fullHeight).getPropertyValue(tmpStyleProp);\n      this.$.fullHeight.style.removeProperty(tmpStyleProp);\n      this._itemHeightVal = parseFloat(itemHeightPx);\n    }\n\n    return this._itemHeightVal;\n  }\n\n  get _bufferHeight() {\n    return this.itemHeight * this.bufferSize;\n  }\n\n  _reset() {\n    this._scrollDisabled = true;\n    this.$.scroller.scrollTop = this._initialScroll;\n    this._buffers[0].translateY = this._initialScroll - this._bufferHeight;\n    this._buffers[1].translateY = this._initialScroll;\n    this._buffers.forEach(buffer => {\n      buffer.style.transform = 'translate3d(0, ' + buffer.translateY + 'px, 0)';\n    });\n    this._buffers[0].updated = this._buffers[1].updated = false;\n    this._updateClones(true);\n\n    this._debouncerUpdateClones = Debouncer.debounce(\n      this._debouncerUpdateClones,\n      timeOut.after(200), () => {\n        this._buffers[0].updated = this._buffers[1].updated = false;\n        this._updateClones();\n      });\n\n    this._scrollDisabled = false;\n  }\n\n  _createPool() {\n    var container = this.getBoundingClientRect();\n    this._buffers.forEach(buffer => {\n      for (var i = 0; i < this.bufferSize; i++) {\n        const itemWrapper = document.createElement('div');\n        itemWrapper.style.height = this.itemHeight + 'px';\n        itemWrapper.instance = {};\n\n        const contentId = InfiniteScrollerElement._contentIndex = InfiniteScrollerElement._contentIndex + 1 || 0;\n        const slotName = 'vaadin-infinite-scroller-item-content-' + contentId;\n\n        const insertionPoint = document.createElement('slot');\n        insertionPoint.setAttribute('name', slotName);\n        insertionPoint._itemWrapper = itemWrapper;\n        buffer.appendChild(insertionPoint);\n\n        itemWrapper.setAttribute('slot', slotName);\n        this.appendChild(itemWrapper);\n\n        // This is needed by IE\n        flush();\n\n        setTimeout(() => {\n          // Only stamp the visible instances first\n          if (this._isVisible(itemWrapper, container)) {\n            this._ensureStampedInstance(itemWrapper);\n          }\n        }, 1); // Wait for first reset\n      }\n    }, this);\n\n    setTimeout(() => {\n      afterNextRender(this, this._finishInit.bind(this));\n    }, 1);\n  }\n\n  _ensureStampedInstance(itemWrapper) {\n    if (itemWrapper.firstElementChild) {\n      return;\n    }\n\n    var tmpInstance = itemWrapper.instance;\n\n    itemWrapper.instance = new this._TemplateClass({});\n    itemWrapper.appendChild(itemWrapper.instance.root);\n\n    Object.keys(tmpInstance).forEach(prop => {\n      itemWrapper.instance.set(prop, tmpInstance[prop]);\n    });\n  }\n\n  _updateClones(viewPortOnly) {\n    this._firstIndex = ~~((this._buffers[0].translateY - this._initialScroll) / this.itemHeight) + this._initialIndex;\n\n    var scrollerRect = viewPortOnly ? this.$.scroller.getBoundingClientRect() : undefined;\n    this._buffers.forEach((buffer, bufferIndex) => {\n      if (!buffer.updated) {\n        var firstIndex = this._firstIndex + this.bufferSize * bufferIndex;\n\n        [].forEach.call(buffer.children, (insertionPoint, index) => {\n          const itemWrapper = insertionPoint._itemWrapper;\n          if (!viewPortOnly || this._isVisible(itemWrapper, scrollerRect)) {\n            itemWrapper.instance.index = firstIndex + index;\n          }\n        });\n        buffer.updated = true;\n      }\n    }, this);\n  }\n\n  _isVisible(element, container) {\n    var rect = element.getBoundingClientRect();\n    return rect.bottom > container.top && rect.top < container.bottom;\n  }\n}\n\ncustomElements.define(InfiniteScrollerElement.is, InfiniteScrollerElement);\n","import '@polymer/polymer/lib/elements/custom-style.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<custom-style>\n  <style>\n    @font-face {\n      font-family: 'vaadin-date-picker-icons';\n      src: url(data:application/font-woff;charset=utf-8;base64,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) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n  </style>\n</custom-style><dom-module id=\"vaadin-date-picker-overlay-styles\" theme-for=\"vaadin-date-picker-overlay\">\n  <template>\n    <style>\n      :host {\n        align-items: flex-start;\n        justify-content: flex-start;\n      }\n\n      :host([bottom-aligned]) {\n        justify-content: flex-end;\n      }\n\n      :host([right-aligned]) {\n        align-items: flex-end;\n      }\n\n      [part=\"overlay\"] {\n        display: flex;\n        flex: auto;\n      }\n\n      [part~=\"content\"] {\n        flex: auto;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport '@polymer/iron-media-query/iron-media-query.js';\nimport { IronA11yKeysBehavior } from '@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js';\nimport { IronA11yAnnouncer } from '@polymer/iron-a11y-announcer/iron-a11y-announcer.js';\nimport '@vaadin/vaadin-button/src/vaadin-button.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport './vaadin-month-calendar.js';\nimport './vaadin-infinite-scroller.js';\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport './vaadin-date-picker-styles.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { addListener, setTouchAction } from '@polymer/polymer/lib/utils/gestures.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\n/**\n * @memberof Vaadin\n * @private\n */\nclass DatePickerOverlayContentElement extends ThemableMixin(GestureEventListeners(PolymerElement)) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        width: 100%;\n        outline: none;\n        background: #fff;\n      }\n\n      [part=\"overlay-header\"] {\n        display: flex;\n        flex-shrink: 0;\n        flex-wrap: nowrap;\n        align-items: center;\n      }\n\n      :host(:not([fullscreen])) [part=\"overlay-header\"] {\n        display: none;\n      }\n\n      [part=\"label\"] {\n        flex-grow: 1;\n      }\n\n      [part=\"clear-button\"],\n      [part=\"toggle-button\"],\n      [part=\"years-toggle-button\"]::before {\n        font-family: 'vaadin-date-picker-icons';\n      }\n\n      [part=\"clear-button\"]:not([showclear]) {\n        display: none;\n      }\n\n      [part=\"clear-button\"]::before {\n        content: \"\\\\e901\";\n      }\n\n      [part=\"toggle-button\"]::before {\n        content: \"\\\\e902\";\n      }\n\n      [part=\"years-toggle-button\"] {\n        display: flex;\n      }\n\n      [part=\"years-toggle-button\"][desktop] {\n        display: none;\n      }\n\n      [part=\"years-toggle-button\"]::before {\n        content: \"\\\\e900\";\n      }\n\n      :host(:not([years-visible])) [part=\"years-toggle-button\"]::before {\n        transform: rotate(180deg);\n      }\n\n      #scrollers {\n        display: flex;\n        height: 100%;\n        width: 100%;\n        position: relative;\n        overflow: hidden;\n      }\n\n      [part=\"months\"],\n      [part=\"years\"] {\n        height: 100%;\n      }\n\n      [part=\"months\"] {\n        --vaadin-infinite-scroller-item-height: 270px;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      }\n\n      #scrollers[desktop] [part=\"months\"] {\n        right: 50px;\n        transform: none !important;\n      }\n\n      [part=\"years\"] {\n        --vaadin-infinite-scroller-item-height: 80px;\n        width: 50px;\n        position: absolute;\n        right: 0;\n        transform: translateX(100%);\n        -webkit-tap-highlight-color: transparent;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        /* Center the year scroller position. */\n        --vaadin-infinite-scroller-buffer-offset: 50%;\n      }\n\n      #scrollers[desktop] [part=\"years\"] {\n        position: absolute;\n        transform: none !important;\n      }\n\n      [part=\"years\"]::before {\n        content: '';\n        display: block;\n        background: transparent;\n        width: 0;\n        height: 0;\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        border-width: 6px;\n        border-style: solid;\n        border-color: transparent;\n        border-left-color: #000;\n      }\n\n      :host(.animate) [part=\"months\"],\n      :host(.animate) [part=\"years\"] {\n        transition: all 200ms;\n      }\n\n      [part=\"toolbar\"] {\n        display: flex;\n        justify-content: space-between;\n        z-index: 2;\n        flex-shrink: 0;\n      }\n\n      [part~=\"overlay-header\"]:not([desktop]) {\n        padding-bottom: 40px;\n      }\n\n      [part~=\"years-toggle-button\"] {\n        position: absolute;\n        top: auto;\n        right: 8px;\n        bottom: 0;\n        z-index: 1;\n        padding: 8px;\n      }\n\n      #announcer {\n        display: inline-block;\n        position: fixed;\n        clip: rect(0, 0, 0, 0);\n        clip-path: inset(100%);\n      }\n    </style>\n\n    <div id=\"announcer\" role=\"alert\" aria-live=\"polite\">\n      [[i18n.calendar]]\n    </div>\n\n    <div part=\"overlay-header\" on-touchend=\"_preventDefault\" desktop\\$=\"[[_desktopMode]]\" aria-hidden=\"true\">\n      <div part=\"label\">[[_formatDisplayed(selectedDate, i18n.formatDate, label)]]</div>\n      <div part=\"clear-button\" on-tap=\"_clear\" showclear\\$=\"[[_showClear(selectedDate)]]\"></div>\n      <div part=\"toggle-button\" on-tap=\"_cancel\"></div>\n\n      <div part=\"years-toggle-button\" desktop\\$=\"[[_desktopMode]]\" on-tap=\"_toggleYearScroller\" aria-hidden=\"true\">\n        [[_yearAfterXMonths(_visibleMonthIndex)]]\n      </div>\n    </div>\n\n    <div id=\"scrollers\" desktop\\$=\"[[_desktopMode]]\" on-track=\"_track\">\n      <vaadin-infinite-scroller id=\"monthScroller\" on-custom-scroll=\"_onMonthScroll\" on-touchstart=\"_onMonthScrollTouchStart\" buffer-size=\"3\" active=\"[[initialPosition]]\" part=\"months\">\n        <template>\n          <vaadin-month-calendar i18n=\"[[i18n]]\" month=\"[[_dateAfterXMonths(index)]]\" selected-date=\"{{selectedDate}}\" focused-date=\"[[focusedDate]]\" ignore-taps=\"[[_ignoreTaps]]\" show-week-numbers=\"[[showWeekNumbers]]\" min-date=\"[[minDate]]\" max-date=\"[[maxDate]]\" focused\\$=\"[[_focused]]\" part=\"month\">\n          </vaadin-month-calendar>\n        </template>\n      </vaadin-infinite-scroller>\n      <vaadin-infinite-scroller id=\"yearScroller\" on-tap=\"_onYearTap\" on-custom-scroll=\"_onYearScroll\" on-touchstart=\"_onYearScrollTouchStart\" buffer-size=\"12\" active=\"[[initialPosition]]\" part=\"years\">\n        <template>\n          <div part=\"year-number\" role=\"button\" current\\$=\"[[_isCurrentYear(index)]]\" selected\\$=\"[[_isSelectedYear(index, selectedDate)]]\">\n            [[_yearAfterXYears(index)]]\n          </div>\n          <div part=\"year-separator\" aria-hidden=\"true\"></div>\n        </template>\n      </vaadin-infinite-scroller>\n    </div>\n\n    <div on-touchend=\"_preventDefault\" role=\"toolbar\" part=\"toolbar\">\n      <vaadin-button id=\"todayButton\" part=\"today-button\" disabled=\"[[!_isTodayAllowed(minDate, maxDate)]]\" on-tap=\"_onTodayTap\">\n        [[i18n.today]]\n      </vaadin-button>\n      <vaadin-button id=\"cancelButton\" part=\"cancel-button\" on-tap=\"_cancel\">\n        [[i18n.cancel]]\n      </vaadin-button>\n    </div>\n\n    <iron-media-query query=\"(min-width: 375px)\" query-matches=\"{{_desktopMode}}\"></iron-media-query>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-date-picker-overlay-content';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * The value for this element.\n       */\n      selectedDate: {\n        type: Date,\n        notify: true\n      },\n\n      /**\n       * Date value which is focused using keyboard.\n       */\n      focusedDate: {\n        type: Date,\n        notify: true,\n        observer: '_focusedDateChanged'\n      },\n\n      _focusedMonthDate: Number,\n\n      /**\n       * Date which should be visible when there is no value selected.\n       */\n      initialPosition: {\n        type: Date,\n        observer: '_initialPositionChanged'\n      },\n\n      _originDate: {\n        value: new Date()\n      },\n\n      _visibleMonthIndex: Number,\n\n      _desktopMode: Boolean,\n\n      _translateX: {\n        observer: '_translateXChanged'\n      },\n\n      _yearScrollerWidth: {\n        value: 50\n      },\n\n      i18n: {\n        type: Object\n      },\n\n      showWeekNumbers: {\n        type: Boolean\n      },\n\n      _ignoreTaps: Boolean,\n\n      _notTapping: Boolean,\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      minDate: Date,\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      maxDate: Date,\n\n      _focused: Boolean,\n\n      /**\n       * Input label\n       */\n      label: String\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.setAttribute('tabindex', 0);\n    this.addEventListener('keydown', this._onKeydown.bind(this));\n    addListener(this, 'tap', this._stopPropagation);\n    this.addEventListener('focus', this._onOverlayFocus.bind(this));\n    this.addEventListener('blur', this._onOverlayBlur.bind(this));\n  }\n\n  /**\n   * Fired when the scroller reaches the target scrolling position.\n   * @event scroll-animation-finished\n   * @param {Number} detail.position new position\n   * @param {Number} detail.oldPosition old position\n   */\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._closeYearScroller();\n    this._toggleAnimateClass(true);\n    setTouchAction(this.$.scrollers, 'pan-y');\n    IronA11yAnnouncer.requestAvailability();\n  }\n\n  announceFocusedDate() {\n    var focusedDate = this._currentlyFocusedDate();\n    var announce = [];\n    if (DatePickerHelper._dateEquals(focusedDate, new Date())) {\n      announce.push(this.i18n.today);\n    }\n    announce = announce.concat([\n      this.i18n.weekdays[focusedDate.getDay()],\n      focusedDate.getDate(),\n      this.i18n.monthNames[focusedDate.getMonth()],\n      focusedDate.getFullYear()\n    ]);\n    if (this.showWeekNumbers && this.i18n.firstDayOfWeek === 1) {\n      announce.push(this.i18n.week);\n      announce.push(DatePickerHelper._getISOWeekNumber(focusedDate));\n    }\n    this.dispatchEvent(new CustomEvent('iron-announce', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        text: announce.join(' ')\n      }\n    }));\n    return;\n  }\n\n  /**\n   * Focuses the cancel button\n   */\n  focusCancel() {\n    this.$.cancelButton.focus();\n  }\n\n  /**\n   * Scrolls the list to the given Date.\n   */\n  scrollToDate(date, animate) {\n    this._scrollToPosition(this._differenceInMonths(date, this._originDate), animate);\n  }\n\n  _focusedDateChanged(focusedDate) {\n    this.revealDate(focusedDate);\n  }\n\n  _isCurrentYear(yearsFromNow) {\n    return yearsFromNow === 0;\n  }\n\n  _isSelectedYear(yearsFromNow, selectedDate) {\n    if (selectedDate) {\n      return selectedDate.getFullYear() === this._originDate.getFullYear() + yearsFromNow;\n    }\n  }\n\n  /**\n   * Scrolls the month and year scrollers enough to reveal the given date.\n   */\n  revealDate(date) {\n    if (date) {\n      var diff = this._differenceInMonths(date, this._originDate);\n      var scrolledAboveViewport = this.$.monthScroller.position > diff;\n\n      var visibleItems = this.$.monthScroller.clientHeight / this.$.monthScroller.itemHeight;\n      var scrolledBelowViewport = this.$.monthScroller.position + visibleItems - 1 < diff;\n\n      if (scrolledAboveViewport) {\n        this._scrollToPosition(diff, true);\n      } else if (scrolledBelowViewport) {\n        this._scrollToPosition(diff - visibleItems + 1, true);\n      }\n    }\n  }\n\n  _onOverlayFocus() {\n    this._focused = true;\n  }\n\n  _onOverlayBlur() {\n    this._focused = false;\n  }\n\n  _initialPositionChanged(initialPosition) {\n    this.scrollToDate(initialPosition);\n  }\n\n  _repositionYearScroller() {\n    this._visibleMonthIndex = Math.floor(this.$.monthScroller.position);\n    this.$.yearScroller.position = (this.$.monthScroller.position + this._originDate.getMonth()) / 12;\n  }\n\n  _repositionMonthScroller() {\n    this.$.monthScroller.position = this.$.yearScroller.position * 12 - this._originDate.getMonth();\n    this._visibleMonthIndex = Math.floor(this.$.monthScroller.position);\n  }\n\n  _onMonthScroll() {\n    this._repositionYearScroller();\n    this._doIgnoreTaps();\n  }\n\n  _onYearScroll() {\n    this._repositionMonthScroller();\n    this._doIgnoreTaps();\n  }\n\n  _onYearScrollTouchStart() {\n    this._notTapping = false;\n    setTimeout(() => this._notTapping = true, 300);\n\n    this._repositionMonthScroller();\n  }\n\n  _onMonthScrollTouchStart() {\n    this._repositionYearScroller();\n  }\n\n  _doIgnoreTaps() {\n    this._ignoreTaps = true;\n    this._debouncer = Debouncer.debounce(this._debouncer,\n      timeOut.after(300), () => this._ignoreTaps = false);\n  }\n\n  _formatDisplayed(date, formatDate, label) {\n    if (date) {\n      return formatDate(DatePickerHelper._extractDateParts(date));\n    } else {\n      return label;\n    }\n  }\n\n  _onTodayTap() {\n    var today = new Date();\n    if (this.$.monthScroller.position === this._differenceInMonths(today, this._originDate)) {\n      // Select today only if the month scroller is positioned exactly\n      // at the beginning of the current month\n      this.selectedDate = today;\n      this._close();\n    } else {\n      this._scrollToCurrentMonth();\n    }\n  }\n\n  _scrollToCurrentMonth() {\n    if (this.focusedDate) {\n      this.focusedDate = new Date();\n    }\n\n    this.scrollToDate(new Date(), true);\n  }\n\n  _showClear(selectedDate) {\n    return !!selectedDate;\n  }\n\n  _onYearTap(e) {\n    if (!this._ignoreTaps && !this._notTapping) {\n      var scrollDelta = e.detail.y - (this.$.yearScroller.getBoundingClientRect().top + this.$.yearScroller.clientHeight / 2);\n      var yearDelta = scrollDelta / this.$.yearScroller.itemHeight;\n      this._scrollToPosition(this.$.monthScroller.position + yearDelta * 12, true);\n    }\n  }\n\n  _scrollToPosition(targetPosition, animate) {\n    if (this._targetPosition !== undefined) {\n      this._targetPosition = targetPosition;\n      return;\n    }\n\n    if (!animate) {\n      this.$.monthScroller.position = targetPosition;\n      this._targetPosition = undefined;\n      this._repositionYearScroller();\n      return;\n    }\n\n    this._targetPosition = targetPosition;\n\n    // http://gizma.com/easing/\n    var easingFunction = (t, b, c, d) => {\n      t /= d / 2;\n      if (t < 1) {\n        return c / 2 * t * t + b;\n      }\n      t--;\n      return -c / 2 * (t * (t - 2) - 1) + b;\n    };\n\n    var duration = animate ? 300 : 0;\n    var start = 0;\n    var initialPosition = this.$.monthScroller.position;\n\n    var smoothScroll = timestamp => {\n      start = start || timestamp;\n      var currentTime = timestamp - start;\n\n      if (currentTime < duration) {\n        var currentPos = easingFunction(currentTime, initialPosition, this._targetPosition - initialPosition, duration);\n        this.$.monthScroller.position = currentPos;\n        window.requestAnimationFrame(smoothScroll);\n      } else {\n        this.dispatchEvent(new CustomEvent('scroll-animation-finished', {\n          bubbles: true,\n          composed: true,\n          detail: {\n            position: this._targetPosition,\n            oldPosition: initialPosition\n          }\n        }));\n\n        this.$.monthScroller.position = this._targetPosition;\n        this._targetPosition = undefined;\n      }\n\n      setTimeout(this._repositionYearScroller.bind(this), 1);\n    };\n\n    // Start the animation.\n    window.requestAnimationFrame(smoothScroll);\n  }\n\n  _limit(value, range) {\n    return Math.min(range.max, Math.max(range.min, value));\n  }\n\n  _handleTrack(e) {\n    // Check if horizontal movement threshold (dx) not exceeded or\n    // scrolling fast vertically (ddy).\n    if (Math.abs(e.detail.dx) < 10 || Math.abs(e.detail.ddy) > 10) {\n      return;\n    }\n\n    // If we're flinging quickly -> start animating already.\n    if (Math.abs(e.detail.ddx) > this._yearScrollerWidth / 3) {\n      this._toggleAnimateClass(true);\n    }\n\n    var newTranslateX = this._translateX + e.detail.ddx;\n    this._translateX = this._limit(newTranslateX, {\n      min: 0,\n      max: this._yearScrollerWidth\n    });\n  }\n\n  _track(e) {\n    if (this._desktopMode) {\n      // No need to track for swipe gestures on desktop.\n      return;\n    }\n\n    switch (e.detail.state) {\n      case 'start':\n        this._toggleAnimateClass(false);\n        break;\n\n      case 'track':\n        this._handleTrack(e);\n        break;\n\n      case 'end':\n        this._toggleAnimateClass(true);\n        if (this._translateX >= this._yearScrollerWidth / 2) {\n          this._closeYearScroller();\n        } else {\n          this._openYearScroller();\n        }\n        break;\n    }\n  }\n\n  _toggleAnimateClass(enable) {\n    if (enable) {\n      this.classList.add('animate');\n    } else {\n      this.classList.remove('animate');\n    }\n  }\n\n  _toggleYearScroller() {\n    this._isYearScrollerVisible() ? this._closeYearScroller() : this._openYearScroller();\n  }\n\n  _openYearScroller() {\n    this._translateX = 0;\n    this.setAttribute('years-visible', '');\n  }\n\n  _closeYearScroller() {\n    this.removeAttribute('years-visible');\n    this._translateX = this._yearScrollerWidth;\n  }\n\n  _isYearScrollerVisible() {\n    return this._translateX < this._yearScrollerWidth / 2;\n  }\n\n  _translateXChanged(x) {\n    if (!this._desktopMode) {\n      this.$.monthScroller.style.transform = 'translateX(' + (x - this._yearScrollerWidth) + 'px)';\n      this.$.yearScroller.style.transform = 'translateX(' + x + 'px)';\n    }\n  }\n\n  _yearAfterXYears(index) {\n    var result = new Date(this._originDate);\n    result.setFullYear(parseInt(index) + this._originDate.getFullYear());\n    return result.getFullYear();\n  }\n\n  _yearAfterXMonths(months) {\n    return this._dateAfterXMonths(months).getFullYear();\n  }\n\n  _dateAfterXMonths(months) {\n    var result = new Date(this._originDate);\n    result.setDate(1);\n    result.setMonth(parseInt(months) + this._originDate.getMonth());\n    return result;\n  }\n\n  _differenceInMonths(date1, date2) {\n    var months = (date1.getFullYear() - date2.getFullYear()) * 12;\n    return months - date2.getMonth() + date1.getMonth();\n  }\n\n  _differenceInYears(date1, date2) {\n    return this._differenceInMonths(date1, date2) / 12;\n  }\n\n  _clear() {\n    this.selectedDate = '';\n  }\n\n  _close() {\n    const overlayContent = this.getRootNode().host;\n    const overlay = overlayContent ? overlayContent.getRootNode().host : null;\n    if (overlay) {\n      overlay.opened = false;\n    }\n\n    this.dispatchEvent(new CustomEvent('close', {bubbles: true, composed: true}));\n  }\n\n  _cancel() {\n    this.focusedDate = this.selectedDate;\n    this._close();\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  /**\n   * Keyboard Navigation\n   */\n  _eventKey(e) {\n    var keys = ['down', 'up', 'right', 'left', 'enter', 'space', 'home', 'end', 'pageup', 'pagedown', 'tab', 'esc'];\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      if (IronA11yKeysBehavior.keyboardEventMatchesKeys(e, k)) {\n        return k;\n      }\n    }\n  }\n\n  _onKeydown(e) {\n    var focus = this._currentlyFocusedDate();\n\n    // Cannot use (today/cancel).focused flag because vaadin-text-field removes it\n    // previously in the keydown event.\n    const isToday = e.composedPath().indexOf(this.$.todayButton) >= 0;\n    const isCancel = e.composedPath().indexOf(this.$.cancelButton) >= 0;\n    const isScroller = !isToday && !isCancel;\n\n    var eventKey = this._eventKey(e);\n    if (eventKey === 'tab') {\n      // We handle tabs here and don't want to bubble up.\n      e.stopPropagation();\n\n      const isFullscreen = this.hasAttribute('fullscreen');\n      const isShift = e.shiftKey;\n\n      if (isFullscreen) {\n        e.preventDefault();\n      } else if (isShift && isScroller || !isShift && isCancel) {\n        // Return focus back to the input field\n        e.preventDefault();\n        this.dispatchEvent(new CustomEvent('focus-input', {bubbles: true, composed: true}));\n      } else if (isShift && isToday) {\n        // Browser returns focus back to the scrollable area. We need to set\n        // the focused flag, and move the scroll to focused date.\n        this._focused = true;\n        setTimeout(() => this.revealDate(this.focusedDate), 1);\n      } else {\n        // Browser moves the focus out of the scroller, hence focused flag must\n        // set to false.\n        this._focused = false;\n      }\n    } else if (eventKey) {\n      e.preventDefault();\n      e.stopPropagation();\n      switch (eventKey) {\n        case 'down':\n          this._moveFocusByDays(7);\n          this.focus();\n          break;\n        case 'up':\n          this._moveFocusByDays(-7);\n          this.focus();\n          break;\n        case 'right':\n          if (isScroller) {\n            this._moveFocusByDays(1);\n          }\n          break;\n        case 'left':\n          if (isScroller) {\n            this._moveFocusByDays(-1);\n          }\n          break;\n        case 'enter':\n          if (isScroller || isCancel) {\n            this._close();\n          } else if (isToday) {\n            this._onTodayTap();\n          }\n          break;\n        case 'space':\n          if (isCancel) {\n            this._close();\n          } else if (isToday) {\n            this._onTodayTap();\n          } else {\n            var focusedDate = this.focusedDate;\n            if (DatePickerHelper._dateEquals(focusedDate, this.selectedDate)) {\n              this.selectedDate = '';\n              this.focusedDate = focusedDate;\n            } else {\n              this.selectedDate = focusedDate;\n            }\n          }\n          break;\n        case 'home':\n          this._moveFocusInsideMonth(focus, 'minDate');\n          break;\n        case 'end':\n          this._moveFocusInsideMonth(focus, 'maxDate');\n          break;\n        case 'pagedown':\n          this._moveFocusByMonths(e.shiftKey ? 12 : 1);\n          break;\n        case 'pageup':\n          this._moveFocusByMonths(e.shiftKey ? -12 : -1);\n          break;\n        case 'esc':\n          this._cancel();\n          break;\n      }\n    }\n  }\n\n  _currentlyFocusedDate() {\n    return this.focusedDate || this.selectedDate || this.initialPosition || new Date();\n  }\n\n  _moveFocusByDays(days) {\n    var focus = this._currentlyFocusedDate();\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focus.getFullYear());\n    dateToFocus.setMonth(focus.getMonth());\n    dateToFocus.setDate(focus.getDate() + days);\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this.focusedDate = dateToFocus;\n      this._focusedMonthDate = this.focusedDate.getDate();\n    } else {\n      if (this._dateAllowed(focus, this.minDate, this.maxDate)) {\n        // Move to min or max date\n        if (days > 0) { // down or right\n          this.focusedDate = this.maxDate;\n          this._focusedMonthDate = this.maxDate.getDate();\n        } else { // up or left\n          this.focusedDate = this.minDate;\n          this._focusedMonthDate = this.minDate.getDate();\n        }\n      } else {\n        // Move to closest allowed date\n        this.focusedDate = DatePickerHelper._getClosestDate(focus, [this.minDate, this.maxDate]);\n        this._focusedMonthDate = this.focusedDate.getDate();\n      }\n    }\n  }\n\n  _moveFocusByMonths(months) {\n    var focus = this._currentlyFocusedDate();\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focus.getFullYear());\n    dateToFocus.setMonth(focus.getMonth() + months);\n\n    var targetMonth = dateToFocus.getMonth();\n\n    dateToFocus.setDate(this._focusedMonthDate || (this._focusedMonthDate = focus.getDate()));\n    if (dateToFocus.getMonth() !== targetMonth) {\n      dateToFocus.setDate(0);\n    }\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this.focusedDate = dateToFocus;\n    } else {\n      if (this._dateAllowed(focus, this.minDate, this.maxDate)) {\n        // Move to min or max date\n        if (months > 0) { // pagedown\n          this.focusedDate = this.maxDate;\n          this._focusedMonthDate = this.maxDate.getDate();\n        } else { // pageup\n          this.focusedDate = this.minDate;\n          this._focusedMonthDate = this.minDate.getDate();\n        }\n      } else {\n        // Move to closest allowed date\n        this.focusedDate = DatePickerHelper._getClosestDate(focus, [this.minDate, this.maxDate]);\n        this._focusedMonthDate = this.focusedDate.getDate();\n      }\n    }\n  }\n\n  _moveFocusInsideMonth(focusedDate, property) {\n    var dateToFocus = new Date(0, 0);\n    dateToFocus.setFullYear(focusedDate.getFullYear());\n\n    if (property === 'minDate') {\n      dateToFocus.setMonth(focusedDate.getMonth());\n      dateToFocus.setDate(1);\n    } else {\n      dateToFocus.setMonth(focusedDate.getMonth() + 1);\n      dateToFocus.setDate(0);\n    }\n\n    if (this._dateAllowed(dateToFocus, this.minDate, this.maxDate)) {\n      this.focusedDate = dateToFocus;\n      this._focusedMonthDate = this.focusedDate.getDate();\n    } else {\n      if (this._dateAllowed(focusedDate, this.minDate, this.maxDate)) {\n        // Move to minDate or maxDate\n        this.focusedDate = this[property];\n        this._focusedMonthDate = this[property].getDate();\n      } else {\n        // Move to closest allowed date\n        this.focusedDate = DatePickerHelper._getClosestDate(focusedDate, [this.minDate, this.maxDate]);\n        this._focusedMonthDate = this.focusedDate.getDate();\n      }\n    }\n  }\n\n  _dateAllowed(date, min, max) {\n    return (!min || date >= min) && (!max || date <= max);\n  }\n\n  _isTodayAllowed(min, max) {\n    var today = new Date();\n    var todayMidnight = new Date(0, 0);\n    todayMidnight.setFullYear(today.getFullYear());\n    todayMidnight.setMonth(today.getMonth());\n    todayMidnight.setDate(today.getDate());\n    return this._dateAllowed(todayMidnight, min, max);\n  }\n\n  _stopPropagation(e) {\n    e.stopPropagation();\n  }\n}\n\ncustomElements.define(DatePickerOverlayContentElement.is, DatePickerOverlayContentElement);\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { IronA11yKeysBehavior } from '@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js';\n\nimport { IronResizableBehavior } from '@polymer/iron-resizable-behavior/iron-resizable-behavior.js';\nimport { DatePickerHelper } from './vaadin-date-picker-helper.js';\nimport { addListener } from '@polymer/polymer/lib/utils/gestures.js';\nimport { mixinBehaviors } from '@polymer/polymer/lib/legacy/class.js';\n\n/**\n * @polymerMixin\n */\nexport const DatePickerMixin = subclass => class VaadinDatePickerMixin extends mixinBehaviors(\n  [IronA11yKeysBehavior, IronResizableBehavior], subclass\n) {\n\n  static get properties() {\n    return {\n      /**\n       * The current selected date.\n       */\n      _selectedDate: {\n        type: Date\n      },\n\n      _focusedDate: Date,\n\n      /**\n       * The value for this element.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      value: {\n        type: String,\n        observer: '_valueChanged',\n        notify: true,\n        value: ''\n      },\n\n      /**\n       * Set to true to mark the input as required.\n       */\n      required: {\n        type: Boolean,\n        value: false\n      },\n\n      /**\n       * The name of this element.\n       */\n      name: {\n        type: String\n      },\n\n      /**\n       * Date which should be visible when there is no value selected.\n       *\n       * The same date formats as for the `value` property are supported.\n       */\n      initialPosition: String,\n\n      /**\n       * The label for this element.\n       */\n      label: String,\n\n      /**\n       * Set true to open the date selector overlay.\n       */\n      opened: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        observer: '_openedChanged'\n      },\n\n      /**\n       * Set true to display ISO-8601 week numbers in the calendar. Notice that\n       * displaying week numbers is only supported when `i18n.firstDayOfWeek`\n       * is 1 (Monday).\n       */\n      showWeekNumbers: {\n        type: Boolean\n      },\n\n      _fullscreen: {\n        value: false,\n        observer: '_fullscreenChanged'\n      },\n\n      _fullscreenMediaQuery: {\n        value: '(max-width: 420px), (max-height: 420px)'\n      },\n\n      // An array of ancestor elements whose -webkit-overflow-scrolling is forced from value\n      // 'touch' to value 'auto' in order to prevent them from clipping the dropdown. iOS only.\n      _touchPrevented: Array,\n\n      /**\n       * The object used to localize this component.\n       * To change the default localization, replace the entire\n       * _i18n_ object or just the property you want to modify.\n       *\n       * The object has the following JSON structure and default values:\n\n          {\n            // An array with the full names of months starting\n            // with January.\n            monthNames: [\n              'January', 'February', 'March', 'April', 'May',\n              'June', 'July', 'August', 'September',\n              'October', 'November', 'December'\n            ],\n\n            // An array of weekday names starting with Sunday. Used\n            // in screen reader announcements.\n            weekdays: [\n              'Sunday', 'Monday', 'Tuesday', 'Wednesday',\n              'Thursday', 'Friday', 'Saturday'\n            ],\n\n            // An array of short weekday names starting with Sunday.\n            // Displayed in the calendar.\n            weekdaysShort: [\n              'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'\n            ],\n\n            // An integer indicating the first day of the week\n            // (0 = Sunday, 1 = Monday, etc.).\n            firstDayOfWeek: 0,\n\n            // Used in screen reader announcements along with week\n            // numbers, if they are displayed.\n            week: 'Week',\n\n            // Translation of the Calendar icon button title.\n            calendar: 'Calendar',\n\n            // Translation of the Clear icon button title.\n            clear: 'Clear',\n\n            // Translation of the Today shortcut button text.\n            today: 'Today',\n\n            // Translation of the Cancel button text.\n            cancel: 'Cancel',\n\n            // A function to format given `Object` as\n            // date string. Object is in the format `{ day: ..., month: ..., year: ... }`\n            formatDate: d => {\n              // returns a string representation of the given\n              // object in 'MM/DD/YYYY' -format\n            },\n\n            // A function to parse the given text to an `Object` in the format `{ day: ..., month: ..., year: ... }`.\n            // Must properly parse (at least) text\n            // formatted by `formatDate`.\n            // Setting the property to null will disable\n            // keyboard input feature.\n            parseDate: text => {\n              // Parses a string in 'MM/DD/YY', 'MM/DD' or 'DD' -format to\n              // an `Object` in the format `{ day: ..., month: ..., year: ... }`.\n            }\n\n            // A function to format given `monthName` and\n            // `fullYear` integer as calendar title string.\n            formatTitle: (monthName, fullYear) => {\n              return monthName + ' ' + fullYear;\n            }\n          }\n\n       *\n       * @default {English/US}\n       */\n      i18n: {\n        type: Object,\n        value: () => {\n          return {\n            monthNames: [\n              'January', 'February', 'March', 'April', 'May',\n              'June', 'July', 'August', 'September', 'October', 'November', 'December'\n            ],\n            weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n            weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n            firstDayOfWeek: 0,\n            week: 'Week',\n            calendar: 'Calendar',\n            clear: 'Clear',\n            today: 'Today',\n            cancel: 'Cancel',\n            formatDate: d => {\n              const yearStr = String(d.year).replace(/\\d+/, y => '0000'.substr(y.length) + y);\n              return [d.month + 1, d.day, yearStr].join('/');\n            },\n            parseDate: text => {\n              const parts = text.split('/');\n              const today = new Date();\n              let date, month = today.getMonth(), year = today.getFullYear();\n\n              if (parts.length === 3) {\n                year = parseInt(parts[2]);\n                if (parts[2].length < 3 && year >= 0) {\n                  year += year < 50 ? 2000 : 1900;\n                }\n                month = parseInt(parts[0]) - 1;\n                date = parseInt(parts[1]);\n              } else if (parts.length === 2) {\n                month = parseInt(parts[0]) - 1;\n                date = parseInt(parts[1]);\n              } else if (parts.length === 1) {\n                date = parseInt(parts[0]);\n              }\n\n              if (date !== undefined) {\n                return {day: date, month, year};\n              }\n            },\n            formatTitle: (monthName, fullYear) => {\n              return monthName + ' ' + fullYear;\n            }\n          };\n        }\n      },\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      min: {\n        type: String,\n        observer: '_minChanged'\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       *\n       * Supported date formats:\n       * - ISO 8601 `\"YYYY-MM-DD\"` (default)\n       * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\n       *\n       * @type {String}\n       */\n      max: {\n        type: String,\n        observer: '_maxChanged'\n      },\n\n      /**\n       * The earliest date that can be selected. All earlier dates will be disabled.\n       */\n      _minDate: {\n        type: Date,\n        // null does not work here because minimizer passes undefined to overlay (#351)\n        value: ''\n      },\n\n      /**\n       * The latest date that can be selected. All later dates will be disabled.\n       */\n      _maxDate: {\n        type: Date,\n        value: ''\n      },\n\n      _noInput: {\n        type: Boolean,\n        computed: '_isNoInput(_fullscreen, i18n, i18n.*, _ios)'\n      },\n\n      _ios: {\n        type: Boolean,\n        value: navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/)\n      },\n\n      _ignoreAnnounce: {\n        value: true\n      },\n\n      _focusOverlayOnOpen: Boolean\n    };\n  }\n\n  static get observers() {\n    return [\n      '_updateHasValue(value)',\n      '_validateInput(_selectedDate, _minDate, _maxDate)',\n      '_selectedDateChanged(_selectedDate, i18n.formatDate)',\n      '_focusedDateChanged(_focusedDate, i18n.formatDate)',\n      '_announceFocusedDate(_focusedDate, opened, _ignoreAnnounce)'\n    ];\n  }\n\n  ready() {\n    super.ready();\n    this._overlayContent = this.$.overlay.content.querySelector('#overlay-content');\n    this._boundOnScroll = this._onScroll.bind(this);\n    this._boundFocus = this._focus.bind(this);\n    addListener(this, 'tap', this.open);\n    this.addEventListener('touchend', this._preventDefault.bind(this));\n    this.addEventListener('keydown', this._onKeydown.bind(this));\n    this._overlayContent.addEventListener('close', this._close.bind(this));\n    this._overlayContent.addEventListener('focus-input', this._focusAndSelect.bind(this));\n    this.addEventListener('input', this._onUserInput.bind(this));\n    this.addEventListener('focus', e => this._noInput && e.target.blur());\n  }\n\n  /**\n   * @protected\n   */\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.$.overlay.addEventListener('vaadin-overlay-escape-press', this._boundFocus);\n  }\n\n  /**\n   * @protected\n   */\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    this.$.overlay.removeEventListener('vaadin-overlay-escape-press', this._boundFocus);\n\n    this.opened = false;\n  }\n\n  /**\n   * Opens the dropdown.\n   */\n  open() {\n    if (!this.disabled && !this.readonly) {\n      this.$.overlay.opened = true;\n    }\n  }\n\n  _close(e) {\n    if (e) {\n      e.stopPropagation();\n    }\n    this._focus();\n    this.close();\n  }\n\n  /**\n   * Closes the dropdown.\n   */\n  close() {\n    this.$.overlay.close();\n  }\n\n  get _inputElement() {\n    return this._input();\n  }\n\n  get _nativeInput() {\n    if (this._inputElement) {\n      // vaadin-text-field's input is focusElement\n      // iron-input's input is inputElement\n      return this._inputElement.focusElement ? this._inputElement.focusElement :\n        this._inputElement.inputElement ? this._inputElement.inputElement :\n          window.unwrap ? window.unwrap(this._inputElement) : this._inputElement;\n    }\n  }\n\n  _parseDate(str) {\n    // Parsing with RegExp to ensure correct format\n    var parts = /^([-+]\\d{1}|\\d{2,4}|[-+]\\d{6})-(\\d{1,2})-(\\d{1,2})$/.exec(str);\n    if (!parts) {\n      return;\n    }\n\n    var date = new Date(0, 0); // Wrong date (1900-01-01), but with midnight in local time\n    date.setFullYear(parseInt(parts[1], 10));\n    date.setMonth(parseInt(parts[2], 10) - 1);\n    date.setDate(parseInt(parts[3], 10));\n    return date;\n  }\n\n  _isNoInput() {\n    return !this._inputElement || this._fullscreen || !this.i18n.parseDate || this._ios;\n  }\n\n  _formatISO(date) {\n    return date instanceof Date ?\n      (new Date(date.getTime() - date.getTimezoneOffset() * 60000)).toISOString().split('T')[0] :\n      '';\n  }\n\n  _openedChanged(opened) {\n    if (!opened) {\n      return;\n    }\n\n    this._updateAlignmentAndPosition();\n  }\n\n  _selectedDateChanged(selectedDate, formatDate) {\n    if (selectedDate === undefined || formatDate === undefined) {\n      return;\n    }\n    this.value = this._formatISO(selectedDate);\n    this._focusedDate = selectedDate;\n    this._inputValue = selectedDate ? formatDate(DatePickerHelper._extractDateParts(selectedDate)) : '';\n  }\n\n  _focusedDateChanged(focusedDate, formatDate) {\n    if (focusedDate === undefined || formatDate === undefined) {\n      return;\n    }\n    if (!this._ignoreFocusedDateChange && !this._noInput) {\n      this._inputValue = focusedDate ? formatDate(DatePickerHelper._extractDateParts(focusedDate)) : '';\n    }\n  }\n\n  _updateHasValue(value) {\n    if (value) {\n      this.setAttribute('has-value', '');\n    } else {\n      this.removeAttribute('has-value');\n    }\n  }\n\n  _handleDateChange(property, value, oldValue) {\n    if (!value) {\n      this[property] = '';\n      return;\n    }\n\n    var date = this._parseDate(value);\n    if (!date) {\n      this.value = oldValue;\n      return;\n    }\n    if (!DatePickerHelper._dateEquals(this[property], date)) {\n      this[property] = date;\n    }\n  }\n\n  _valueChanged(value, oldValue) {\n    this._handleDateChange('_selectedDate', value, oldValue);\n  }\n\n  _minChanged(value, oldValue) {\n    this._handleDateChange('_minDate', value, oldValue);\n  }\n\n  _maxChanged(value, oldValue) {\n    this._handleDateChange('_maxDate', value, oldValue);\n  }\n\n  _updateAlignmentAndPosition() {\n    const bottomAlign = this._inputElement.getBoundingClientRect().top > window.innerHeight / 2;\n    const rightAlign = this._inputElement.getBoundingClientRect().left + this.clientWidth / 2 > window.innerWidth / 2;\n\n    const viewportHeight = Math.min(window.innerHeight, document.documentElement.clientHeight);\n    const viewportWidth = Math.min(window.innerWidth, document.documentElement.clientWidth);\n\n    const inputRect = this._inputElement.getBoundingClientRect();\n\n    if (!this._fullscreen) {\n      if (rightAlign) {\n        this.$.overlay.setAttribute('right-aligned', '');\n        this.$.overlay.style.removeProperty('left');\n        this.$.overlay.style.right = (viewportWidth - inputRect.right) + 'px';\n      } else {\n        this.$.overlay.removeAttribute('right-aligned');\n        this.$.overlay.style.removeProperty('right');\n        this.$.overlay.style.left = inputRect.left + 'px';\n      }\n\n      if (bottomAlign) {\n        this.$.overlay.setAttribute('bottom-aligned', '');\n        this.$.overlay.style.removeProperty('top');\n        this.$.overlay.style.bottom = (viewportHeight - inputRect.top) + 'px';\n      } else {\n        this.$.overlay.removeAttribute('bottom-aligned');\n        this.$.overlay.style.removeProperty('bottom');\n        this.$.overlay.style.top = inputRect.bottom + 'px';\n      }\n    }\n\n    this._overlayContent._repositionYearScroller();\n  }\n\n  _fullscreenChanged() {\n    if (this.$.overlay.opened) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _onOverlayOpened() {\n    this._openedWithFocusRing = this.hasAttribute('focus-ring') || (this.focusElement && this.focusElement.hasAttribute('focus-ring'));\n\n    var parsedInitialPosition = this._parseDate(this.initialPosition);\n\n    var initialPosition = this._selectedDate || this._overlayContent.initialPosition ||\n      parsedInitialPosition || new Date();\n\n    if (parsedInitialPosition ||\n      DatePickerHelper._dateAllowed(initialPosition, this._minDate, this._maxDate)) {\n      this._overlayContent.initialPosition = initialPosition;\n    } else {\n      this._overlayContent.initialPosition =\n        DatePickerHelper._getClosestDate(initialPosition, [this._minDate, this._maxDate]);\n    }\n\n    this._overlayContent.scrollToDate(this._overlayContent.focusedDate || this._overlayContent.initialPosition);\n    // Have a default focused date\n    this._ignoreFocusedDateChange = true;\n    this._overlayContent.focusedDate = this._overlayContent.focusedDate || this._overlayContent.initialPosition;\n    this._ignoreFocusedDateChange = false;\n\n    window.addEventListener('scroll', this._boundOnScroll, true);\n    this.listen(this, 'iron-resize', '_updateAlignmentAndPosition');\n\n    // Checking if the browser supports webkitOverflowScrolling\n    if (document.createElement('div').style.webkitOverflowScrolling === '') {\n      this._touchPrevented = this._preventWebkitOverflowScrollingTouch(this.parentElement);\n    }\n\n    if (this._focusOverlayOnOpen) {\n      this._overlayContent.focus();\n      this._focusOverlayOnOpen = false;\n    } else {\n      this._focus();\n    }\n\n    if (this._noInput && this.focusElement) {\n      this.focusElement.blur();\n    }\n\n    this.updateStyles();\n\n    this._ignoreAnnounce = false;\n  }\n\n  // A hack needed for iOS to prevent dropdown from being clipped in an\n  // ancestor container with -webkit-overflow-scrolling: touch;\n  _preventWebkitOverflowScrollingTouch(element) {\n    var result = [];\n    while (element) {\n      if (window.getComputedStyle(element).webkitOverflowScrolling === 'touch') {\n        var oldInlineValue = element.style.webkitOverflowScrolling;\n        element.style.webkitOverflowScrolling = 'auto';\n        result.push({\n          element: element,\n          oldInlineValue: oldInlineValue\n        });\n      }\n      element = element.parentElement;\n    }\n    return result;\n  }\n\n  _onOverlayClosed() {\n    this._ignoreAnnounce = true;\n\n    window.removeEventListener('scroll', this._boundOnScroll, true);\n    this.unlisten(this, 'iron-resize', '_updateAlignmentAndPosition');\n\n    if (this._touchPrevented) {\n      this._touchPrevented.forEach(prevented =>\n        prevented.element.style.webkitOverflowScrolling = prevented.oldInlineValue);\n      this._touchPrevented = [];\n    }\n\n    this.updateStyles();\n\n    // Select the parsed input or focused date\n    this._ignoreFocusedDateChange = true;\n    if (this.i18n.parseDate) {\n      var inputValue = this._inputValue || '';\n      const dateObject = this.i18n.parseDate(inputValue);\n      const parsedDate = dateObject &&\n        this._parseDate(`${dateObject.year}-${dateObject.month + 1}-${dateObject.day}`);\n\n      if (this._isValidDate(parsedDate)) {\n        this._selectedDate = parsedDate;\n      } else {\n        this._selectedDate = null;\n        this._inputValue = inputValue;\n      }\n    } else if (this._focusedDate) {\n      this._selectedDate = this._focusedDate;\n    }\n    this._ignoreFocusedDateChange = false;\n\n    if (this._nativeInput && this._nativeInput.selectionStart) {\n      this._nativeInput.selectionStart = this._nativeInput.selectionEnd;\n    }\n    // reset invalid state on the underlying text field\n    this.invalid = false;\n    this.validate();\n  }\n\n  /**\n   * Returns true if `value` is valid, and sets the `invalid` flag appropriately.\n   *\n   * @param {string} value Value to validate. Optional, defaults to user's input value.\n   * @return {boolean} True if the value is valid and sets the `invalid` flag appropriately\n   */\n  validate(value) {\n    value = value !== undefined ? value : this._inputValue;\n    return !(this.invalid = !this.checkValidity(value));\n  }\n\n  /**\n   * Returns true if the current input value satisfies all constraints (if any)\n   *\n   * Override the `checkValidity` method for custom validations.\n   *\n   * @param {string} value Value to validate. Optional, defaults to the selected date.\n   * @return {boolean} True if the value is valid\n   */\n  checkValidity(value) {\n    var inputValid = !value ||\n      (this._selectedDate && value === this.i18n.formatDate(DatePickerHelper._extractDateParts(this._selectedDate)));\n    var minMaxValid = !this._selectedDate ||\n      DatePickerHelper._dateAllowed(this._selectedDate, this._minDate, this._maxDate);\n\n    var inputValidity = true;\n    if (this._inputElement) {\n      if (this._inputElement.checkValidity) {\n        // vaadin native input elements have the checkValidity method\n        inputValidity = this._inputElement.checkValidity(value);\n      } else if (this._inputElement.validate) {\n        // iron-form-elements have the validate API\n        inputValidity = this._inputElement.validate(value);\n      }\n    }\n\n    return inputValid && minMaxValid && inputValidity;\n  }\n\n  _onScroll(e) {\n    if (e.target === window || !this._overlayContent.contains(e.target)) {\n      this._updateAlignmentAndPosition();\n    }\n  }\n\n  _focus() {\n    if (this._noInput) {\n      this._overlayContent.focus();\n    } else {\n      this._inputElement.focus();\n    }\n  }\n\n  _focusAndSelect() {\n    this._focus();\n    this._setSelectionRange(0, this._inputValue.length);\n  }\n\n  _setSelectionRange(a, b) {\n    if (this._nativeInput && this._nativeInput.setSelectionRange) {\n      this._nativeInput.setSelectionRange(a, b);\n    }\n  }\n\n  _preventDefault(e) {\n    e.preventDefault();\n  }\n\n  /**\n   * Keyboard Navigation\n   */\n  _eventKey(e) {\n    var keys = ['down', 'up', 'enter', 'esc', 'tab'];\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      if (IronA11yKeysBehavior.keyboardEventMatchesKeys(e, k)) {\n        return k;\n      }\n    }\n  }\n\n  _isValidDate(d) {\n    return d && !isNaN(d.getTime());\n  }\n\n  _onKeydown(e) {\n    if (this._noInput) {\n      // The input element cannot be readonly as it would conflict with\n      // the required attribute. Both are not allowed on an input element.\n      // Therefore we prevent default on most keydown events.\n      var allowedKeys = [\n        9 // tab\n      ];\n      if (allowedKeys.indexOf(e.keyCode) === -1) {\n        e.preventDefault();\n      }\n    }\n\n    switch (this._eventKey(e)) {\n      case 'down':\n      case 'up':\n        // prevent scrolling the page with arrows\n        e.preventDefault();\n\n        if (this.opened) {\n          this._overlayContent.focus();\n          this._overlayContent._onKeydown(e);\n        } else {\n          this._focusOverlayOnOpen = true;\n          this.open();\n        }\n\n        break;\n      case 'enter':\n        if (this._overlayContent.focusedDate) {\n          this._selectedDate = this._overlayContent.focusedDate;\n        }\n        this.close();\n        break;\n      case 'esc':\n        this._focusedDate = this._selectedDate;\n        this._close();\n        break;\n      case 'tab':\n        if (this.opened) {\n          e.preventDefault();\n          // Clear the selection range (remains visible on IE)\n          this._setSelectionRange(0, 0);\n          if (e.shiftKey) {\n            this._overlayContent.focusCancel();\n          } else {\n            this._overlayContent.focus();\n            this._overlayContent.revealDate(this._focusedDate);\n          }\n\n        }\n        break;\n    }\n  }\n\n  _validateInput(date, min, max) {\n    if (date && (min || max)) {\n      this.invalid = !DatePickerHelper._dateAllowed(date, min, max);\n    }\n  }\n\n  _onUserInput(e) {\n    if (!this.opened) {\n      this.open();\n    }\n    this._userInputValueChanged();\n  }\n\n  _userInputValueChanged(value) {\n    if (this.opened && this._inputValue) {\n      const dateObject = this.i18n.parseDate && this.i18n.parseDate(this._inputValue);\n      const parsedDate = dateObject &&\n        this._parseDate(`${dateObject.year}-${dateObject.month + 1}-${dateObject.day}`);\n\n      if (this._isValidDate(parsedDate)) {\n        this._ignoreFocusedDateChange = true;\n        if (!DatePickerHelper._dateEquals(parsedDate, this._focusedDate)) {\n          this._focusedDate = parsedDate;\n        }\n        this._ignoreFocusedDateChange = false;\n      }\n    }\n  }\n\n  _announceFocusedDate(_focusedDate, opened, _ignoreAnnounce) {\n    if (opened && !_ignoreAnnounce) {\n      this._overlayContent.announceFocusedDate();\n    }\n  }\n};\n","/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport { GestureEventListeners } from '@polymer/polymer/lib/mixins/gesture-event-listeners.js';\nimport '@polymer/iron-media-query/iron-media-query.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { ControlStateMixin } from '@vaadin/vaadin-control-state-mixin/vaadin-control-state-mixin.js';\nimport './vaadin-date-picker-overlay.js';\nimport './vaadin-date-picker-overlay-content.js';\nimport { DatePickerMixin } from './vaadin-date-picker-mixin.js';\nimport './vaadin-date-picker-helper.js';\nimport '@vaadin/vaadin-text-field/src/vaadin-text-field.js';\nimport { ElementMixin } from '@vaadin/vaadin-element-mixin/vaadin-element-mixin.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { afterNextRender } from '@polymer/polymer/lib/utils/render-status.js';\nimport { prevent } from '@polymer/polymer/lib/utils/gestures.js';\n/**\n *\n * `<vaadin-date-picker>` is a date selection field which includes a scrollable\n * month calendar view.\n * ```html\n * <vaadin-date-picker label=\"Birthday\"></vaadin-date-picker>\n * ```\n * ```js\n * datePicker.value = '2016-03-02';\n * ```\n * When the selected `value` is changed, a `value-changed` event is triggered.\n *\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description | Theme for Element\n * ----------------|----------------|----------------\n * `text-field` | Input element | vaadin-date-picker\n * `clear-button` | Clear button | vaadin-date-picker\n * `toggle-button` | Toggle button | vaadin-date-picker\n * `overlay-content` | The overlay element | vaadin-date-picker\n * `overlay-header` | Fullscreen mode header | vaadin-date-picker-overlay-content\n * `label` | Fullscreen mode value/label | vaadin-date-picker-overlay-content\n * `clear-button` | Fullscreen mode clear button | vaadin-date-picker-overlay-content\n * `toggle-button` | Fullscreen mode toggle button | vaadin-date-picker-overlay-content\n * `years-toggle-button` | Fullscreen mode years scroller toggle | vaadin-date-picker-overlay-content\n * `months` | Months scroller | vaadin-date-picker-overlay-content\n * `years` | Years scroller | vaadin-date-picker-overlay-content\n * `toolbar` | Footer bar with buttons | vaadin-date-picker-overlay-content\n * `today-button` | Today button | vaadin-date-picker-overlay-content\n * `cancel-button` | Cancel button | vaadin-date-picker-overlay-content\n * `month` | Month calendar | vaadin-date-picker-overlay-content\n * `year-number` | Year number | vaadin-date-picker-overlay-content\n * `year-separator` | Year separator | vaadin-date-picker-overlay-content\n * `month-header` | Month title | vaadin-month-calendar\n * `weekdays` | Weekday container | vaadin-month-calendar\n * `weekday` | Weekday element | vaadin-month-calendar\n * `week-numbers` | Week numbers container | vaadin-month-calendar\n * `week-number` | Week number element | vaadin-month-calendar\n * `date` | Date element | vaadin-month-calendar\n *\n * See [ThemableMixin – how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `invalid` | Set when the element is invalid | :host\n * `opened` | Set when the date selector overlay is opened | :host\n * `readonly` | Set when the element is readonly | :host\n * `disabled` | Set when the element is disabled | :host\n * `today` | Set on the date corresponding to the current day | date\n * `focused` | Set on the focused date | date\n * `disabled` | Set on the date out of the allowed range | date\n * `selected` | Set on the selected date | date\n *\n * If you want to replace the default input field with a custom implementation, you should use the\n * [`<vaadin-date-picker-light>`](#vaadin-date-picker-light) element.\n *\n * @memberof Vaadin\n * @mixes Vaadin.ElementMixin\n * @mixes Vaadin.ControlStateMixin\n * @mixes Vaadin.ThemableMixin\n * @mixes Vaadin.DatePickerMixin\n * @mixes Polymer.GestureEventListeners\n * @demo demo/index.html\n */\nclass DatePickerElement extends\n  ElementMixin(\n    ControlStateMixin(\n      ThemableMixin(\n        DatePickerMixin(\n          GestureEventListeners(PolymerElement))))) {\n  static get template() {\n    return html`\n    <style>\n      :host {\n        display: inline-block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      :host([opened]) {\n        pointer-events: auto;\n      }\n\n      [part=\"text-field\"] {\n        width: 100%;\n        min-width: 0;\n      }\n\n      [part=\"clear-button\"],\n      [part=\"toggle-button\"] {\n        font-family: 'vaadin-date-picker-icons';\n      }\n\n      [part=\"clear-button\"]::before {\n        content: \"\\\\e901\";\n      }\n\n      [part=\"toggle-button\"]::before {\n        content: \"\\\\e902\";\n      }\n\n      :host([disabled]) [part=\"clear-button\"],\n      :host([readonly]) [part=\"clear-button\"],\n      :host(:not([has-value])) [part=\"clear-button\"] {\n        display: none;\n      }\n    </style>\n\n\n    <vaadin-text-field id=\"input\" role=\"application\" autocomplete=\"off\" on-focus=\"_focus\" value=\"{{_userInputValue}}\" invalid=\"[[invalid]]\" label=\"[[label]]\" name=\"[[name]]\" placeholder=\"[[placeholder]]\" required=\"[[required]]\" disabled=\"[[disabled]]\" readonly=\"[[readonly]]\" error-message=\"[[errorMessage]]\" aria-label\\$=\"[[label]]\" part=\"text-field\">\n      <slot name=\"prefix\" slot=\"prefix\"></slot>\n      <div part=\"clear-button\" slot=\"suffix\" on-touchend=\"_clearTouchend\" on-click=\"_clear\" role=\"button\" aria-label\\$=\"[[i18n.clear]]\"></div>\n      <div part=\"toggle-button\" slot=\"suffix\" on-tap=\"_toggle\" role=\"button\" aria-label\\$=\"[[i18n.calendar]]\" aria-expanded\\$=\"[[_getAriaExpanded(opened)]]\"></div>\n    </vaadin-text-field>\n\n    <vaadin-date-picker-overlay id=\"overlay\" fullscreen\\$=\"[[_fullscreen]]\" opened=\"{{opened}}\" on-vaadin-overlay-open=\"_onOverlayOpened\" on-vaadin-overlay-close=\"_onOverlayClosed\">\n      <template>\n        <vaadin-date-picker-overlay-content id=\"overlay-content\" i18n=\"[[i18n]]\" fullscreen\\$=\"[[_fullscreen]]\" label=\"[[label]]\" selected-date=\"{{_selectedDate}}\" slot=\"dropdown-content\" focused-date=\"{{_focusedDate}}\" show-week-numbers=\"[[showWeekNumbers]]\" min-date=\"[[_minDate]]\" max-date=\"[[_maxDate]]\" role=\"dialog\" on-date-tap=\"_close\" part=\"overlay-content\">\n        </vaadin-date-picker-overlay-content>\n      </template>\n    </vaadin-date-picker-overlay>\n\n    <iron-media-query query=\"[[_fullscreenMediaQuery]]\" query-matches=\"{{_fullscreen}}\">\n    </iron-media-query>\n`;\n  }\n\n  static get is() {\n    return 'vaadin-date-picker';\n  }\n\n  static get version() {\n    return '3.0.0-pre.3';\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Set to true to disable this element.\n       */\n      disabled: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * The error message to display when the input is invalid.\n       */\n      errorMessage: String,\n\n      /**\n       * A placeholder string in addition to the label. If this is set, the label will always float.\n       */\n      placeholder: String,\n\n      /**\n       * Set to true to make this element read-only.\n       */\n      readonly: {\n        type: Boolean,\n        value: false,\n        reflectToAttribute: true\n      },\n\n      /**\n       * This property is set to true when the control value invalid.\n       */\n      invalid: {\n        type: Boolean,\n        reflectToAttribute: true,\n        notify: true,\n        value: false\n      },\n\n      _userInputValue: String\n    };\n  }\n\n  static get observers() {\n    return [\n      '_userInputValueChanged(_userInputValue)'\n    ];\n  }\n\n  ready() {\n    super.ready();\n\n    // In order to have synchronized invalid property, we need to use the same validate logic.\n    afterNextRender(this, () => this._inputElement.validate = () => {});\n\n    // Keep focus attribute in focusElement for styling\n    this._overlayContent.addEventListener('focus', () => this.focusElement._setFocused(true));\n\n    this.$.overlay.addEventListener('vaadin-overlay-close', this._onVaadinOverlayClose.bind(this));\n  }\n\n  _onVaadinOverlayClose(e) {\n    if (this._openedWithFocusRing && this.hasAttribute('focused')) {\n      this.focusElement.setAttribute('focus-ring', '');\n    } else if (!this.hasAttribute('focused')) {\n      this.focusElement.blur();\n    }\n    if (e.detail.sourceEvent && e.detail.sourceEvent.composedPath().indexOf(this) !== -1) {\n      e.preventDefault();\n    }\n  }\n\n  _clear() {\n    this.value = '';\n    this.validate();\n    this.focus();\n    prevent('tap');\n  }\n\n  _clearTouchend(e) {\n    this._clear();\n    e.preventDefault();\n    prevent('tap');\n  }\n\n  _toggle(e) {\n    e.stopPropagation();\n    this[this.$.overlay.opened ? 'close' : 'open']();\n  }\n\n  _input() {\n    return this.$.input;\n  }\n\n  set _inputValue(value) {\n    this._inputElement.value = value;\n  }\n\n  get _inputValue() {\n    return this._inputElement.value;\n  }\n\n  _getAriaExpanded(opened) {\n    return Boolean(opened).toString();\n  }\n\n  /**\n   * Focussable element used by vaadin-control-state-mixin\n   */\n  get focusElement() {\n    return this._input() || this;\n  }\n}\n\ncustomElements.define(DatePickerElement.is, DatePickerElement);\n\nexport { DatePickerElement };\n"],"sourceRoot":""}