{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-item/paper-item-body.js","webpack:///./node_modules/@polymer/iron-autogrow-textarea/iron-autogrow-textarea.js","webpack:///./node_modules/@polymer/paper-input/paper-textarea.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-behavior.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js","webpack:///./node_modules/@polymer/paper-dialog/paper-dialog.js","webpack:///./src/panels/mailbox/ha-panel-mailbox.js"],"names":["_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__","__webpack_require__","Object","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__","a","_template","is","171","module","__webpack_exports__","iron_control_state","iron_validatable_behavior","polymer_fn","html_tag","polymer_dom","behaviors","properties","value","observer","type","String","notify","bindValue","rows","Number","maxRows","autocomplete","autofocus","Boolean","inputmode","placeholder","readonly","required","minlength","maxlength","label","listeners","input","textarea","this","$","selectionStart","selectionEnd","attached","navigator","userAgent","match","style","marginLeft","validate","valid","validity","hasValidator","call","invalid","fire","_bindValueChanged","_valueChanged","mirror","innerHTML","_valueForMirror","_onInput","event","eventPath","b","path","target","_constrain","tokens","_tokens","length","slice","push","join","replace","split","_updateCached","paper_input_behavior","iron_form_element_behavior","_ariaLabelledBy","_ariaDescribedBy","start","end","_ariaLabelledByChanged","ariaLabelledBy","_focusableElement","setAttribute","_ariaDescribedByChanged","ariaDescribedBy","inputElement","_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__","PaperDialogBehaviorImpl","hostAttributes","role","tabindex","modal","__readied","observers","tap","ready","__prevNoCancelOnOutsideClick","noCancelOnOutsideClick","__prevNoCancelOnEscKey","noCancelOnEscKey","__prevWithBackdrop","withBackdrop","_modalChanged","readied","_updateClosingReasonConfirmed","confirmed","closingReason","_onDialogClick","i","l","indexOf","hasAttribute","close","stopPropagation","PaperDialogBehavior","_polymer_iron_overlay_behavior_iron_overlay_behavior_js__WEBPACK_IMPORTED_MODULE_1__","$_documentContainer","document","createElement","head","appendChild","content","_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_2__","_polymer_neon_animation_neon_animation_runner_behavior_js__WEBPACK_IMPORTED_MODULE_1__","neon-animation-finish","_renderOpened","cancelAnimation","playAnimation","_renderClosed","_onNeonAnimationFinish","opened","_finishRenderOpened","_finishRenderClosed","customElements","define","_mixins_localize_mixin_js__WEBPACK_IMPORTED_MODULE_14__","_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_10__","template","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_9__","hass","narrow","showMenu","platforms","Array","_messages","currentMessage","connectedCallback","super","hassChanged","bind","connection","subscribeEvents","then","unsub","_unsubEvents","computePlatforms","disconnectedCallback","getMessages","items","openMP3Dialog","platform","model","item","mp3dialog","open","mp3src","src","sha","transcribe","innerText","message","mp3","load","play","_mp3Closed","pause","openDeleteDialog","confirmdel","deleteSelected","msg","callApi","map","values","platformItems","arrayLength","datetime","_common_datetime_format_date_time_js__WEBPACK_IMPORTED_MODULE_13__","Date","info","origtime","timestamp","caller","callerid","text","duration","Promise","all","final","concat","sort"],"mappings":"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","file":"e6896d3e069e6c57ea4e.chunk.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\nUse `<paper-item-body>` in a `<paper-item>` or `<paper-icon-item>` to make two- or\nthree- line items. It is a flex item that is a vertical flexbox.\n\n    <paper-item>\n      <paper-item-body two-line>\n        <div>Show your status</div>\n        <div secondary>Your status is visible to everyone</div>\n      </paper-item-body>\n    </paper-item>\n\nThe child elements with the `secondary` attribute is given secondary text styling.\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-body-two-line-min-height`   | Minimum height of a two-line item          | `72px`\n`--paper-item-body-three-line-min-height` | Minimum height of a three-line item        | `88px`\n`--paper-item-body-secondary-color`       | Foreground color for the `secondary` area  | `--secondary-text-color`\n`--paper-item-body-secondary`             | Mixin applied to the `secondary` area      | `{}`\n\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'paper-item-body'\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\n`iron-autogrow-textarea` is an element containing a textarea that grows in height as more\nlines of input are entered. Unless an explicit height or the `maxRows` property is set, it will\nnever scroll.\n\nExample:\n\n    <iron-autogrow-textarea></iron-autogrow-textarea>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--iron-autogrow-textarea` | Mixin applied to the textarea | `{}`\n`--iron-autogrow-textarea-placeholder` | Mixin applied to the textarea placeholder | `{}`\n\n@group Iron Elements\n@hero hero.svg\n@demo demo/index.html\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { IronControlState } from '@polymer/iron-behaviors/iron-control-state.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport { IronValidatableBehavior } from '@polymer/iron-validatable-behavior/iron-validatable-behavior.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { dom } from '@polymer/polymer/lib/legacy/polymer.dom.js';\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        width: 400px;\n        border: 1px solid;\n        padding: 2px;\n        -moz-appearance: textarea;\n        -webkit-appearance: textarea;\n        overflow: hidden;\n      }\n\n      .mirror-text {\n        visibility: hidden;\n        word-wrap: break-word;\n        @apply --iron-autogrow-textarea;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n\n      textarea {\n        position: relative;\n        outline: none;\n        border: none;\n        resize: none;\n        background: inherit;\n        color: inherit;\n        /* see comments in template */\n        width: 100%;\n        height: 100%;\n        font-size: inherit;\n        font-family: inherit;\n        line-height: inherit;\n        text-align: inherit;\n        @apply --iron-autogrow-textarea;\n      }\n\n      textarea::-webkit-input-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea:-moz-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea::-moz-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea:-ms-input-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n    </style>\n\n    <!-- the mirror sizes the input/textarea so it grows with typing -->\n    <!-- use &#160; instead &nbsp; of to allow this element to be used in XHTML -->\n    <div id=\"mirror\" class=\"mirror-text\" aria-hidden=\"true\">&nbsp;</div>\n\n    <!-- size the input/textarea with a div, because the textarea has intrinsic size in ff -->\n    <div class=\"textarea-container fit\">\n      <textarea id=\"textarea\" name\\$=\"[[name]]\" aria-label\\$=\"[[label]]\" autocomplete\\$=\"[[autocomplete]]\" autofocus\\$=\"[[autofocus]]\" inputmode\\$=\"[[inputmode]]\" placeholder\\$=\"[[placeholder]]\" readonly\\$=\"[[readonly]]\" required\\$=\"[[required]]\" disabled\\$=\"[[disabled]]\" rows\\$=\"[[rows]]\" minlength\\$=\"[[minlength]]\" maxlength\\$=\"[[maxlength]]\"></textarea>\n    </div>\n`,\n\n  is: 'iron-autogrow-textarea',\n  behaviors: [IronValidatableBehavior, IronControlState],\n\n  properties: {\n    /**\n     * Use this property instead of `bind-value` for two-way data binding.\n     * @type {string|number}\n     */\n    value: {observer: '_valueChanged', type: String, notify: true},\n\n    /**\n     * This property is deprecated, and just mirrors `value`. Use `value`\n     * instead.\n     * @type {string|number}\n     */\n    bindValue: {observer: '_bindValueChanged', type: String, notify: true},\n\n    /**\n     * The initial number of rows.\n     *\n     * @attribute rows\n     * @type number\n     * @default 1\n     */\n    rows: {type: Number, value: 1, observer: '_updateCached'},\n\n    /**\n     * The maximum number of rows this element can grow to until it\n     * scrolls. 0 means no maximum.\n     *\n     * @attribute maxRows\n     * @type number\n     * @default 0\n     */\n    maxRows: {type: Number, value: 0, observer: '_updateCached'},\n\n    /**\n     * Bound to the textarea's `autocomplete` attribute.\n     */\n    autocomplete: {type: String, value: 'off'},\n\n    /**\n     * Bound to the textarea's `autofocus` attribute.\n     */\n    autofocus: {type: Boolean, value: false},\n\n    /**\n     * Bound to the textarea's `inputmode` attribute.\n     */\n    inputmode: {type: String},\n\n    /**\n     * Bound to the textarea's `placeholder` attribute.\n     */\n    placeholder: {type: String},\n\n    /**\n     * Bound to the textarea's `readonly` attribute.\n     */\n    readonly: {type: String},\n\n    /**\n     * Set to true to mark the textarea as required.\n     */\n    required: {type: Boolean},\n\n    /**\n     * The minimum length of the input value.\n     */\n    minlength: {type: Number},\n\n    /**\n     * The maximum length of the input value.\n     */\n    maxlength: {type: Number},\n\n    /**\n     * Bound to the textarea's `aria-label` attribute.\n     */\n    label: {type: String}\n\n  },\n\n  listeners: {'input': '_onInput'},\n\n  /**\n   * Returns the underlying textarea.\n   * @return {!HTMLTextAreaElement}\n   */\n  get textarea() {\n    return this.$.textarea;\n  },\n\n  /**\n   * Returns textarea's selection start.\n   * @return {number}\n   */\n  get selectionStart() {\n    return this.$.textarea.selectionStart;\n  },\n\n  /**\n   * Returns textarea's selection end.\n   * @return {number}\n   */\n  get selectionEnd() {\n    return this.$.textarea.selectionEnd;\n  },\n\n  /**\n   * Sets the textarea's selection start.\n   */\n  set selectionStart(value) {\n    this.$.textarea.selectionStart = value;\n  },\n\n  /**\n   * Sets the textarea's selection end.\n   */\n  set selectionEnd(value) {\n    this.$.textarea.selectionEnd = value;\n  },\n\n  attached: function() {\n    /* iOS has an arbitrary left margin of 3px that isn't present\n     * in any other browser, and means that the paper-textarea's cursor\n     * overlaps the label.\n     * See https://github.com/PolymerElements/paper-input/issues/468.\n     */\n    var IS_IOS = navigator.userAgent.match(/iP(?:[oa]d|hone)/);\n    if (IS_IOS) {\n      this.$.textarea.style.marginLeft = '-3px';\n    }\n  },\n\n  /**\n   * Returns true if `value` is valid. The validator provided in `validator`\n   * will be used first, if it exists; otherwise, the `textarea`'s validity\n   * is used.\n   * @return {boolean} True if the value is valid.\n   */\n  validate: function() {\n    // Use the nested input's native validity.\n    var valid = this.$.textarea.validity.valid;\n\n    // Only do extra checking if the browser thought this was valid.\n    if (valid) {\n      // Empty, required input is invalid\n      if (this.required && this.value === '') {\n        valid = false;\n      } else if (this.hasValidator()) {\n        valid = IronValidatableBehavior.validate.call(this, this.value);\n      }\n    }\n\n    this.invalid = !valid;\n    this.fire('iron-input-validate');\n    return valid;\n  },\n\n  _bindValueChanged: function(bindValue) {\n    this.value = bindValue;\n  },\n\n  _valueChanged: function(value) {\n    var textarea = this.textarea;\n    if (!textarea) {\n      return;\n    }\n\n    // If the bindValue changed manually, then we need to also update\n    // the underlying textarea's value. Otherwise this change was probably\n    // generated from the _onInput handler, and the two values are already\n    // the same.\n    if (textarea.value !== value) {\n      textarea.value = !(value || value === 0) ? '' : value;\n    }\n\n    this.bindValue = value;\n    this.$.mirror.innerHTML = this._valueForMirror();\n\n    // Manually notify because we don't want to notify until after setting\n    // value.\n    this.fire('bind-value-changed', {value: this.bindValue});\n  },\n\n  _onInput: function(event) {\n    var eventPath = dom(event).path;\n    this.value = eventPath ? eventPath[0].value : event.target.value;\n  },\n\n  _constrain: function(tokens) {\n    var _tokens;\n    tokens = tokens || [''];\n    // Enforce the min and max heights for a multiline input to avoid\n    // measurement\n    if (this.maxRows > 0 && tokens.length > this.maxRows) {\n      _tokens = tokens.slice(0, this.maxRows);\n    } else {\n      _tokens = tokens.slice(0);\n    }\n    while (this.rows > 0 && _tokens.length < this.rows) {\n      _tokens.push('');\n    }\n    // Use &#160; instead &nbsp; of to allow this element to be used in XHTML.\n    return _tokens.join('<br/>') + '&#160;';\n  },\n\n  _valueForMirror: function() {\n    var input = this.textarea;\n    if (!input) {\n      return;\n    }\n    this.tokens = (input && input.value) ? input.value.replace(/&/gm, '&amp;')\n                                               .replace(/\"/gm, '&quot;')\n                                               .replace(/'/gm, '&#39;')\n                                               .replace(/</gm, '&lt;')\n                                               .replace(/>/gm, '&gt;')\n                                               .split('\\n') :\n                                           [''];\n    return this._constrain(this.tokens);\n  },\n\n  _updateCached: function() {\n    this.$.mirror.innerHTML = this._constrain(this.tokens);\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\n`<paper-textarea>` is a multi-line text field with Material Design styling.\n\n    <paper-textarea label=\"Textarea label\"></paper-textarea>\n\nSee `Polymer.PaperInputBehavior` for more API docs.\n\n### Validation\n\nCurrently only `required` and `maxlength` validation is supported.\n\n### Styling\n\nSee `Polymer.PaperInputContainer` for a list of custom properties used to\nstyle this element.\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-autogrow-textarea/iron-autogrow-textarea.js';\nimport { IronFormElementBehavior } from '@polymer/iron-form-element-behavior/iron-form-element-behavior.js';\nimport { PaperInputBehavior } from './paper-input-behavior.js';\nimport './paper-input-char-counter.js';\nimport './paper-input-container.js';\nimport './paper-input-error.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      label {\n        pointer-events: none;\n      }\n    </style>\n\n    <paper-input-container no-label-float\\$=\"[[noLabelFloat]]\" always-float-label=\"[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]\" auto-validate\\$=\"[[autoValidate]]\" disabled\\$=\"[[disabled]]\" invalid=\"[[invalid]]\">\n\n      <label hidden\\$=\"[[!label]]\" aria-hidden=\"true\" for\\$=\"[[_inputId]]\" slot=\"label\">[[label]]</label>\n\n      <iron-autogrow-textarea class=\"paper-input-input\" slot=\"input\" id\\$=\"[[_inputId]]\" aria-labelledby\\$=\"[[_ariaLabelledBy]]\" aria-describedby\\$=\"[[_ariaDescribedBy]]\" bind-value=\"{{value}}\" invalid=\"{{invalid}}\" validator\\$=\"[[validator]]\" disabled\\$=\"[[disabled]]\" autocomplete\\$=\"[[autocomplete]]\" autofocus\\$=\"[[autofocus]]\" inputmode\\$=\"[[inputmode]]\" name\\$=\"[[name]]\" placeholder\\$=\"[[placeholder]]\" readonly\\$=\"[[readonly]]\" required\\$=\"[[required]]\" minlength\\$=\"[[minlength]]\" maxlength\\$=\"[[maxlength]]\" autocapitalize\\$=\"[[autocapitalize]]\" rows\\$=\"[[rows]]\" max-rows\\$=\"[[maxRows]]\" on-change=\"_onChange\"></iron-autogrow-textarea>\n\n      <template is=\"dom-if\" if=\"[[errorMessage]]\">\n        <paper-input-error aria-live=\"assertive\" slot=\"add-on\">[[errorMessage]]</paper-input-error>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[charCounter]]\">\n        <paper-input-char-counter slot=\"add-on\"></paper-input-char-counter>\n      </template>\n\n    </paper-input-container>\n`,\n\n  is: 'paper-textarea',\n\n  behaviors: [\n    PaperInputBehavior,\n    IronFormElementBehavior,\n  ],\n\n  properties: {\n    _ariaLabelledBy: {\n      observer: '_ariaLabelledByChanged',\n      type: String,\n    },\n\n    _ariaDescribedBy: {\n      observer: '_ariaDescribedByChanged',\n      type: String,\n    },\n\n    /**\n     * The initial number of rows.\n     *\n     * @attribute rows\n     * @type number\n     * @default 1\n     */\n    rows: {\n      type: Number,\n      value: 1,\n    },\n\n    /**\n     * The maximum number of rows this element can grow to until it\n     * scrolls. 0 means no maximum.\n     *\n     * @attribute maxRows\n     * @type number\n     * @default 0\n     */\n    maxRows: {\n      type: Number,\n      value: 0,\n    },\n  },\n\n  /**\n   * @return {number}\n   */\n  get selectionStart() {\n    return this.$.input.textarea.selectionStart;\n  },\n\n  set selectionStart(start) {\n    this.$.input.textarea.selectionStart = start;\n  },\n\n  /**\n   * @return {number}\n   */\n  get selectionEnd() {\n    return this.$.input.textarea.selectionEnd;\n  },\n\n  set selectionEnd(end) {\n    this.$.input.textarea.selectionEnd = end;\n  },\n\n  _ariaLabelledByChanged: function(ariaLabelledBy) {\n    this._focusableElement.setAttribute('aria-labelledby', ariaLabelledBy);\n  },\n\n  _ariaDescribedByChanged: function(ariaDescribedBy) {\n    this._focusableElement.setAttribute('aria-describedby', ariaDescribedBy);\n  },\n\n  get _focusableElement() {\n    return this.inputElement.textarea;\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { IronOverlayBehavior } from '@polymer/iron-overlay-behavior/iron-overlay-behavior.js';\nimport { dom } from '@polymer/polymer/lib/legacy/polymer.dom.js';\n\n/**\n  Use `Polymer.PaperDialogBehavior` and `paper-dialog-shared-styles.html` to\n  implement a Material Design dialog.\n\n  For example, if `<paper-dialog-impl>` implements this behavior:\n\n      <paper-dialog-impl>\n          <h2>Header</h2>\n          <div>Dialog body</div>\n          <div class=\"buttons\">\n              <paper-button dialog-dismiss>Cancel</paper-button>\n              <paper-button dialog-confirm>Accept</paper-button>\n          </div>\n      </paper-dialog-impl>\n\n  `paper-dialog-shared-styles.html` provide styles for a header, content area, and\n  an action area for buttons. Use the `<h2>` tag for the header and the `buttons`\n  class for the action area. You can use the `paper-dialog-scrollable` element (in\n  its own repository) if you need a scrolling content area.\n\n  Use the `dialog-dismiss` and `dialog-confirm` attributes on interactive controls\n  to close the dialog. If the user dismisses the dialog with `dialog-confirm`, the\n  `closingReason` will update to include `confirmed: true`.\n\n  ### Accessibility\n\n  This element has `role=\"dialog\"` by default. Depending on the context, it may be\n  more appropriate to override this attribute with `role=\"alertdialog\"`.\n\n  If `modal` is set, the element will prevent the focus from exiting the element.\n  It will also ensure that focus remains in the dialog.\n\n  @hero hero.svg\n  @demo demo/index.html\n  @polymerBehavior Polymer.PaperDialogBehavior\n */\nexport const PaperDialogBehaviorImpl = {\n\n  hostAttributes: {'role': 'dialog', 'tabindex': '-1'},\n\n  properties: {\n\n    /**\n     * If `modal` is true, this implies `no-cancel-on-outside-click`,\n     * `no-cancel-on-esc-key` and `with-backdrop`.\n     */\n    modal: {type: Boolean, value: false},\n\n    __readied: {type: Boolean, value: false}\n\n  },\n\n  observers: ['_modalChanged(modal, __readied)'],\n\n  listeners: {'tap': '_onDialogClick'},\n\n  /**\n   * @return {void}\n   */\n  ready: function() {\n    // Only now these properties can be read.\n    this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n    this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n    this.__prevWithBackdrop = this.withBackdrop;\n    this.__readied = true;\n  },\n\n  _modalChanged: function(modal, readied) {\n    // modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.\n    // We need to wait for the element to be ready before we can read the\n    // properties values.\n    if (!readied) {\n      return;\n    }\n\n    if (modal) {\n      this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n      this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n      this.__prevWithBackdrop = this.withBackdrop;\n      this.noCancelOnOutsideClick = true;\n      this.noCancelOnEscKey = true;\n      this.withBackdrop = true;\n    } else {\n      // If the value was changed to false, let it false.\n      this.noCancelOnOutsideClick =\n          this.noCancelOnOutsideClick && this.__prevNoCancelOnOutsideClick;\n      this.noCancelOnEscKey =\n          this.noCancelOnEscKey && this.__prevNoCancelOnEscKey;\n      this.withBackdrop = this.withBackdrop && this.__prevWithBackdrop;\n    }\n  },\n\n  _updateClosingReasonConfirmed: function(confirmed) {\n    this.closingReason = this.closingReason || {};\n    this.closingReason.confirmed = confirmed;\n  },\n\n  /**\n   * Will dismiss the dialog if user clicked on an element with dialog-dismiss\n   * or dialog-confirm attribute.\n   */\n  _onDialogClick: function(event) {\n    // Search for the element with dialog-confirm or dialog-dismiss,\n    // from the root target until this (excluded).\n    var path = dom(event).path;\n    for (var i = 0, l = path.indexOf(this); i < l; i++) {\n      var target = path[i];\n      if (target.hasAttribute &&\n          (target.hasAttribute('dialog-dismiss') ||\n           target.hasAttribute('dialog-confirm'))) {\n        this._updateClosingReasonConfirmed(\n            target.hasAttribute('dialog-confirm'));\n        this.close();\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n\n};\n\n/** @polymerBehavior */\nexport const PaperDialogBehavior = [IronOverlayBehavior, PaperDialogBehaviorImpl];\n","import '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport '@polymer/paper-styles/shadow.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-dialog-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was \\`:host > ::content h2\\`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\n### Styling\n\nThe following custom properties and mixins are available for styling.\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-background-color` | Dialog background color                     | `--primary-background-color`\n`--paper-dialog-color`            | Dialog foreground color                     | `--primary-text-color`\n`--paper-dialog`                  | Mixin applied to the dialog                 | `{}`\n`--paper-dialog-title`            | Mixin applied to the title (`<h2>`) element | `{}`\n`--paper-dialog-button-color`     | Button area foreground color                | `--default-primary-color`\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n;\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\nMaterial design: [Dialogs](https://www.google.com/design/spec/components/dialogs.html)\n\n`<paper-dialog>` is a dialog with Material Design styling and optional animations when it is\nopened or closed. It provides styles for a header, content area, and an action area for buttons.\nYou can use the `<paper-dialog-scrollable>` element (in its own repository) if you need a scrolling\ncontent area. To autofocus a specific child element after opening the dialog, give it the `autofocus`\nattribute. See `Polymer.PaperDialogBehavior` and `Polymer.IronOverlayBehavior` for specifics.\n\nFor example, the following code implements a dialog with a header, scrolling content area and\nbuttons. Focus will be given to the `dialog-confirm` button when the dialog is opened.\n\n    <paper-dialog>\n      <h2>Header</h2>\n      <paper-dialog-scrollable>\n        Lorem ipsum...\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button dialog-dismiss>Cancel</paper-button>\n        <paper-button dialog-confirm autofocus>Accept</paper-button>\n      </div>\n    </paper-dialog>\n\n### Styling\n\nSee the docs for `Polymer.PaperDialogBehavior` for the custom properties available for styling\nthis element.\n\n### Animations\n\nSet the `entry-animation` and/or `exit-animation` attributes to add an animation when the dialog\nis opened or closed. See the documentation in\n[PolymerElements/neon-animation](https://github.com/PolymerElements/neon-animation) for more info.\n\nFor example:\n\n    <link rel=\"import\" href=\"components/neon-animation/animations/scale-up-animation.html\">\n    <link rel=\"import\" href=\"components/neon-animation/animations/fade-out-animation.html\">\n\n    <paper-dialog entry-animation=\"scale-up-animation\"\n                  exit-animation=\"fade-out-animation\">\n      <h2>Header</h2>\n      <div>Dialog body</div>\n    </paper-dialog>\n\n### Accessibility\n\nSee the docs for `Polymer.PaperDialogBehavior` for accessibility features implemented by this\nelement.\n\n@group Paper Elements\n@element paper-dialog\n@hero hero.svg\n@demo demo/index.html\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport { NeonAnimationRunnerBehavior } from '@polymer/neon-animation/neon-animation-runner-behavior.js';\nimport { PaperDialogBehavior } from '@polymer/paper-dialog-behavior/paper-dialog-behavior.js';\nimport '@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style include=\"paper-dialog-shared-styles\"></style>\n    <slot></slot>\n`,\n\n  is: 'paper-dialog',\n  behaviors: [PaperDialogBehavior, NeonAnimationRunnerBehavior],\n  listeners: {'neon-animation-finish': '_onNeonAnimationFinish'},\n\n  _renderOpened: function() {\n    this.cancelAnimation();\n    this.playAnimation('entry');\n  },\n\n  _renderClosed: function() {\n    this.cancelAnimation();\n    this.playAnimation('exit');\n  },\n\n  _onNeonAnimationFinish: function() {\n    if (this.opened) {\n      this._finishRenderOpened();\n    } else {\n      this._finishRenderClosed();\n    }\n  }\n});\n","import '@polymer/app-layout/app-header-layout/app-header-layout.js';\nimport '@polymer/app-layout/app-header/app-header.js';\nimport '@polymer/app-layout/app-toolbar/app-toolbar.js';\nimport '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-card/paper-card.js';\nimport '@polymer/paper-dialog/paper-dialog.js';\nimport '@polymer/paper-input/paper-textarea.js';\nimport '@polymer/paper-item/paper-item-body.js';\nimport '@polymer/paper-item/paper-item.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../components/ha-menu-button.js';\nimport '../../resources/ha-style.js';\n\n\nimport formatDateTime from '../../common/datetime/format_date_time.js';\nimport LocalizeMixin from '../../mixins/localize-mixin.js';\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaPanelMailbox extends LocalizeMixin(PolymerElement) {\n  static get template() {\n    return html`\n    <style include='ha-style'>\n      :host {\n        -ms-user-select: initial;\n        -webkit-user-select: initial;\n        -moz-user-select: initial;\n      }\n\n      .content {\n        padding: 16px;\n        max-width: 600px;\n        margin: 0 auto;\n      }\n\n      paper-card {\n        display: block;\n      }\n\n      paper-item {\n        cursor: pointer;\n      }\n\n      .empty {\n        text-align: center;\n        color: var(--secondary-text-color);\n      }\n\n      .header {\n        @apply --paper-font-title;\n      }\n\n      .row {\n        display: flex;\n       justify-content: space-between;\n      }\n      paper-dialog {\n        border-radius: 2px;\n      }\n      paper-dialog p {\n        color: var(--secondary-text-color);\n      }\n\n      #mp3dialog paper-icon-button {\n        float: right;\n      }\n\n      @media all and (max-width: 450px) {\n        paper-dialog {\n          margin: 0;\n          width: 100%;\n          max-height: calc(100% - 64px);\n\n          position: fixed !important;\n          bottom: 0px;\n          left: 0px;\n          right: 0px;\n          overflow: scroll;\n          border-bottom-left-radius: 0px;\n          border-bottom-right-radius: 0px;\n        }\n\n        .content {\n          width: auto;\n          padding: 0;\n        }\n      }\n\n      .tip {\n        color: var(--secondary-text-color);\n        font-size: 14px;\n      }\n      .date {\n        color: var(--primary-text-color);\n      }\n    </style>\n\n    <app-header-layout has-scrolling-region>\n      <app-header slot=\"header\" fixed>\n        <app-toolbar>\n          <ha-menu-button narrow='[[narrow]]' show-menu='[[showMenu]]'></ha-menu-button>\n          <div main-title>[[localize('panel.mailbox')]]</div>\n        </app-toolbar>\n      </app-header>\n      <div class='content'>\n        <paper-card>\n          <template is='dom-if' if='[[!_messages.length]]'>\n            <div class='card-content empty'>\n              [[localize('ui.panel.mailbox.empty')]]\n            </div>\n          </template>\n          <template is='dom-repeat' items='[[_messages]]'>\n            <paper-item on-click='openMP3Dialog'>\n              <paper-item-body style=\"width:100%\" two-line>\n                <div class=\"row\">\n                  <div>[[item.caller]]</div>\n                  <div class=\"tip\">[[localize('ui.duration.second', 'count', item.duration)]]</div>\n                </div>\n                <div secondary>\n                  <span class=\"date\">[[item.timestamp]]</span> - [[item.message]]\n                </div>\n              </paper-item-body>\n            </paper-item>\n          </template>\n        </paper-card>\n      </div>\n    </app-header-layout>\n\n    <paper-dialog with-backdrop id=\"mp3dialog\" on-iron-overlay-closed=\"_mp3Closed\">\n      <h2>\n        [[localize('ui.panel.mailbox.playback_title')]]\n        <paper-icon-button\n          on-click='openDeleteDialog'\n          icon='hass:delete'\n        ></paper-icon-button>\n      </h2>\n      <div id=\"transcribe\"></div>\n      <div>\n        <audio id=\"mp3\" preload=\"none\" controls> <source id=\"mp3src\" src=\"\" type=\"audio/mpeg\" /></audio>\n      </div>\n    </paper-dialog>\n\n    <paper-dialog with-backdrop id=\"confirmdel\">\n      <p>[[localize('ui.panel.mailbox.delete_prompt')]]</p>\n      <div class=\"buttons\">\n        <paper-button dialog-dismiss>[[localize('ui.common.cancel')]]</paper-button>\n        <paper-button dialog-confirm autofocus on-click=\"deleteSelected\">[[localize('ui.panel.mailbox.delete_button')]]</paper-button>\n      </div>\n    </paper-dialog>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      narrow: {\n        type: Boolean,\n        value: false,\n      },\n\n      showMenu: {\n        type: Boolean,\n        value: false,\n      },\n\n      platforms: {\n        type: Array,\n      },\n\n      _messages: {\n        type: Array,\n      },\n\n      currentMessage: {\n        type: Object,\n      },\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.hassChanged = this.hassChanged.bind(this);\n    this.hass.connection.subscribeEvents(this.hassChanged, 'mailbox_updated')\n      .then(function (unsub) { this._unsubEvents = unsub; }.bind(this));\n    this.computePlatforms().then(function (platforms) {\n      this.platforms = platforms;\n      this.hassChanged();\n    }.bind(this));\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubEvents) this._unsubEvents();\n  }\n\n  hassChanged() {\n    if (!this._messages) {\n      this._messages = [];\n    }\n    this.getMessages().then(function (items) {\n      this._messages = items;\n    }.bind(this));\n  }\n\n  openMP3Dialog(event) {\n    var platform = event.model.item.platform;\n    this.currentMessage = event.model.item;\n    this.$.mp3dialog.open();\n    this.$.mp3src.src = '/api/mailbox/media/' + platform + '/' + event.model.item.sha;\n    this.$.transcribe.innerText = event.model.item.message;\n    this.$.mp3.load();\n    this.$.mp3.play();\n  }\n\n  _mp3Closed() {\n    this.$.mp3.pause();\n  }\n\n  openDeleteDialog() {\n    this.$.confirmdel.open();\n  }\n\n  deleteSelected() {\n    var msg = this.currentMessage;\n    this.hass.callApi('DELETE', 'mailbox/delete/' + msg.platform + '/' + msg.sha);\n    this.$.mp3dialog.close();\n  }\n  getMessages() {\n    const items = this.platforms.map(function (platform) {\n      return this.hass.callApi('GET', 'mailbox/messages/' + platform).then(function (values) {\n        var platformItems = [];\n        var arrayLength = values.length;\n        for (var i = 0; i < arrayLength; i++) {\n          var datetime = formatDateTime(new Date(values[i].info.origtime * 1000));\n          platformItems.push({\n            timestamp: datetime,\n            caller: values[i].info.callerid,\n            message: values[i].text,\n            sha: values[i].sha,\n            duration: values[i].info.duration,\n            platform: platform\n          });\n        }\n        return platformItems;\n      });\n    }.bind(this));\n    return Promise.all(items).then(function (platformItems) {\n      var arrayLength = items.length;\n      var final = [];\n      for (var i = 0; i < arrayLength; i++) {\n        final = final.concat(platformItems[i]);\n      }\n      final.sort(function (a, b) {\n        return new Date(b.timestamp) - new Date(a.timestamp);\n      });\n      return final;\n    });\n  }\n\n  computePlatforms() {\n    return this.hass.callApi('GET', 'mailbox/platforms');\n  }\n}\n\ncustomElements.define('ha-panel-mailbox', HaPanelMailbox);\n"],"sourceRoot":""}