{"version":3,"file":"service-worker-hass.js","sources":["webpack:///service-worker-hass.js"],"sourcesContent":["(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:!0,get:getter})}};__webpack_require__.r=function(exports){if('undefined'!==typeof Symbol&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'})}Object.defineProperty(exports,'__esModule',{value:!0})};__webpack_require__.t=function(value,mode){if(1&mode)value=__webpack_require__(value);if(8&mode)return value;if(4&mode&&'object'===typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:!0,value:value});if(2&mode&&'string'!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default']}:function(){return module};__webpack_require__.d(getter,'a',getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p='/frontend_latest/';return __webpack_require__(__webpack_require__.s=146)})({146:function(){self.addEventListener('message',message=>{if('skipWaiting'===message.data.type){self.skipWaiting();clients.claim()}});workbox.setConfig({debug:!1});(function(){workbox.precaching.precacheAndRoute(self.__precacheManifest||[]);workbox.routing.registerRoute(new RegExp(`${location.host}/(static|frontend_latest|frontend_es5)/.+`),workbox.strategies.cacheFirst());workbox.routing.registerRoute(new RegExp(`${location.host}/api/.*`),workbox.strategies.networkOnly());workbox.routing.registerRoute(new RegExp(`${location.host}/(service_worker.js|service_worker_es5.js|manifest.json)`),workbox.strategies.networkOnly());workbox.routing.registerRoute(new RegExp(`${location.host}/.*`),workbox.strategies.staleWhileRevalidate())})();(function(){function firePushCallback(payload,jwt){delete payload.data.jwt;if(0===Object.keys(payload.data).length&&payload.data.constructor===Object){delete payload.data}fetch('/api/notify.html5/callback',{credentials:'same-origin',method:'POST',headers:new Headers({\"Content-Type\":'application/json',Authorization:'Bearer '+jwt}),body:JSON.stringify(payload)})}function notificationEventCallback(eventType,event){firePushCallback({action:event.action,data:event.notification.data,tag:event.notification.tag,type:eventType},event.notification.data.jwt)}self.addEventListener('push',function(event){var data;if(event.data){data=event.data.json();event.waitUntil(self.registration.showNotification(data.title,data).then(function(){firePushCallback({type:'received',tag:data.tag,data:data.data},data.data.jwt)}))}});self.addEventListener('notificationclick',function(event){var url;notificationEventCallback('clicked',event);event.notification.close();if(!event.notification.data||!event.notification.data.url){return}url=event.notification.data.url;if(!url)return;event.waitUntil(clients.matchAll({type:'window'}).then(function(windowClients){var i,client;for(i=0;i<windowClients.length;i++){client=windowClients[i];if(client.url===url&&'focus'in client){return client.focus()}}if(clients.openWindow){return clients.openWindow(url)}}))});self.addEventListener('notificationclose',function(event){notificationEventCallback('closed',event)})})()}});"],"mappings":"AAAA","sourceRoot":""}